/*! 
* DevExtreme (Vector Map)
* Version: 15.1.8
* Build date: Oct 29, 2015
*
* Copyright (c) 2012 - 2015 Developer Express Inc. ALL RIGHTS RESERVED
* EULA: https://www.devexpress.com/Support/EULAs/DevExtreme.xml
*/
"use strict";if(!DevExpress.MOD_VIZ_VECTORMAP){if(!DevExpress.MOD_VIZ_CORE)throw Error("Required module is not referenced: viz-core");(function(n,t,i){function l(){return"vectormap-data-"+c++}var e,r;n.viz.map={};var u=n.viz.utils.parseScalar,o=800,s=400,f=12,h=t.extend,c=1;e=n.viz.BaseWidget.inherit({_eventsMap:h({},n.viz.BaseWidget.prototype._eventsMap,{onClick:{name:"click",deprecated:"click",deprecatedContext:function(n){return n.component},deprecatedArgs:function(n){return[n.jQueryEvent]}},click:{newName:"onClick"},onCenterChanged:{name:"centerChanged",deprecated:"centerChanged",deprecatedContext:function(n){return n.component},deprecatedArgs:function(n){return[n.center]}},centerChanged:{newName:"onCenterChanged"},onZoomFactorChanged:{name:"zoomFactorChanged",deprecated:"zoomFactorChanged",deprecatedContext:function(n){return n.component},deprecatedArgs:function(n){return[n.zoomFactor]}},zoomFactorChanged:{newName:"onZoomFactorChanged"},onAreaClick:{name:"areaClick",deprecated:"areaSettings.click",deprecatedContext:function(n){return n.target},deprecatedArgs:function(n){return[n.target,n.jQueryEvent]}},onAreaHoverChanged:{name:"areaHoverChanged"},onAreaSelectionChanged:{name:"areaSelectionChanged",deprecated:"areaSettings.selectionChanged",deprecatedContext:function(n){return n.target},deprecatedArgs:function(n){return[n.target]}},onMarkerClick:{name:"markerClick",deprecated:"markerSettings.click",deprecatedContext:function(n){return n.target},deprecatedArgs:function(n){return[n.target,n.jQueryEvent]}},onMarkerHoverChanged:{name:"markerHoverChanged"},onMarkerSelectionChanged:{name:"markerSelectionChanged",deprecated:"markerSettings.selectionChanged",deprecatedContext:function(n){return n.target},deprecatedArgs:function(n){return[n.target]}}}),_setDeprecatedOptions:function(){this.callBase(),t.extend(this._deprecatedOptions,{click:{since:"14.2",message:'Use the "onClick" option instead'},centerChanged:{since:"14.2",message:'Use the "onCenterChanged" option instead'},zoomFactorChanged:{since:"14.2",message:'Use the "onZoomFactorChanged" option instead'},"areaSettings.click":{since:"14.2",message:'Use the "onAreaClick" option instead'},"areaSettings.selectionChanged":{since:"14.2",message:'Use the "onAreaSelectionChanged" option instead'},"markerSettings.click":{since:"14.2",message:'Use the "onMarkerClick" option instead'},"markerSettings.selectionChanged":{since:"14.2",message:'Use the "onMarkerSelectionChanged" option instead'},"markerSettings.font":{since:"14.2",message:'Use the "label.font" option instead'}})},_rootClassPrefix:"dxm",_rootClass:"dxm-vector-map",_createThemeManager:function(){return this._factory.createThemeManager()},_initBackground:function(n){this._background=this._renderer.rect(0,0,0,0).attr({"class":"dxm-background"}).data(n,{type:"background"}).append(this._root)},_initAreasManager:function(n,t,i){var r=this;r._areasManager=r._factory.createAreasManager({renderer:r._renderer,container:r._root,projection:r._projection,themeManager:r._themeManager,tracker:r._tracker,dataKey:n,eventTrigger:r._eventTrigger,dataExchanger:r._dataExchanger,notifyDirty:t,notifyReady:i})},_initMarkersManager:function(n,t,i){var r=this;r._markersManager=r._factory.createMarkersManager({renderer:r._renderer,container:r._root,projection:r._projection,themeManager:r._themeManager,tracker:r._tracker,eventTrigger:r._eventTrigger,dataExchanger:r._dataExchanger,dataKey:n,notifyDirty:t,notifyReady:i})},_initLegendsControl:function(){var n=this;n._legendsControl=n._factory.createLegendsControl({renderer:n._renderer,container:n._root,layoutControl:n._layoutControl,dataExchanger:n._dataExchanger})},_initControlBar:function(n){var t=this;t._controlBar=t._factory.createControlBar({renderer:t._renderer,container:t._root,layoutControl:t._layoutControl,projection:t._projection,dataKey:n})},_initElements:function(){function u(){n._resetIsReady(),++i}function f(){--i==0&&(n._drawn(),n._fulfillLoadingIndicatorHiding())}var n=this,t=l(),i=0;n._dataExchanger=new r,n._initCenterHandler(),n._projection=n._factory.createProjection(),n._tracker=n._factory.createTracker({root:n._root,projection:n._projection,dataKey:t}),n._layoutControl=n._factory.createLayoutControl(),n._initBackground(t),n._initAreasManager(t,u,f),n._initMarkersManager(t,u,f),n._initControlBar(t),n._initLegendsControl()},_initCore:function(){var n=this;n._root=n._renderer.root.attr({align:"center",cursor:"default"}),n._initElements(),n._projection.setBounds(n.option("bounds")).setMaxZoom(n.option("maxZoomFactor")).setZoom(n.option("zoomFactor"),!0).setCenter(n.option("center"),!0),n._setTrackerCallbacks(),n._setControlBarCallbacks(),n._setProjectionCallbacks()},_init:function(){var n=this;n.callBase.apply(n,arguments),n._areasManager.setData(n.option("mapData")),n._markersManager.setData(n.option("markers"))},_disposeCore:function(){var n=this;n._resetProjectionCallbacks(),n._resetTrackerCallbacks(),n._resetControlBarCallbacks(),n._tracker.dispose(),n._legendsControl.dispose(),n._background.remove(),n._areasManager.dispose(),n._markersManager.dispose(),n._controlBar.dispose(),n._layoutControl.dispose(),n._disposeCenterHandler(),n._dataExchanger.dispose(),n._projection.dispose(),n._dataExchanger=n._projection=n._tracker=n._layoutControl=n._root=n._background=n._areasManager=n._markersManager=n._controlBar=n._legendsControl=null},_initCenterHandler:function(){var n=this,i,r,t=!1;n._centerHandler={processStart:function(t){n._centeringEnabled&&(i=t.x,r=t.y,n._noCenterChanged=!0)},processMove:function(u){n._centeringEnabled&&(t||(n._root.attr({cursor:"move"}),t=!0),n._projection.moveCenter(i-u.x,r-u.y),i=u.x,r=u.y)},processEnd:function(){n._centeringEnabled&&(n._root.attr({cursor:"default"}),n._noCenterChanged=null,t&&n._raiseCenterChanged(),t=!1)}}},_disposeCenterHandler:function(){this._centerHandler=null},_setProjectionCallbacks:function(){var n=this;n._projection.on({center:function(){n._raiseCenterChanged()},zoom:function(){n._raiseZoomFactorChanged()}});n._resetProjectionCallbacks=function(){n._resetProjectionCallbacks=n=null}},_setTrackerCallbacks:function(){var n=this,e=n._centerHandler,o=n._renderer,t={area:n._areasManager,marker:n._markersManager},r=n._controlBar,i=n._tooltip,u=!1;n._tracker.setCallbacks({click:function(i){var u=o.getRootOffset(),r;i.$event.x=i.x-u.left,i.$event.y=i.y-u.top,r=t[i.data.type],r&&r.raiseClick(i.data.index,i.$event),(r||i.data.type==="background")&&n._eventTrigger("click",{jQueryEvent:i.$event})},start:function(n){u=n.data.type==="control-bar",u?(n.data=n.data.index,r.processStart(n)):e.processStart(n)},move:function(n){u?(n.data=n.data.index,r.processMove(n)):e.processMove(n)},end:function(n){u?(n.data=n.data.index,r.processEnd(n),u=!1):e.processEnd()},zoom:function(n){r.processZoom(n)},"hover-on":function(n){var i=t[n.data.type];i&&i.hoverItem(n.data.index,!0)},"hover-off":function(n){var i=t[n.data.type];i&&i.hoverItem(n.data.index,!1)},"focus-on":function(n,r){var e=!1,u;i.isEnabled()&&(u=t[n.data.type]?t[n.data.type].getProxyItem(n.data.index):null,u&&i.show(u,{x:0,y:0,offset:0},{target:u})&&(i.move(n.x,n.y,f),e=!0)),r(e)},"focus-move":function(n){i.move(n.x,n.y,f)},"focus-off":function(){i.hide()}}),n._resetTrackerCallbacks=function(){n._resetTrackerCallbacks=n=e=o=t=r=i=null}},_setControlBarCallbacks:function(){var n=this,t=n._projection,i;n._projection.on({zoom:function(){i=!0}});n._controlBar.setCallbacks({reset:function(n,i){n&&t.setCenter(null),i&&t.setZoom(null)},beginMove:function(){n._noCenterChanged=!0},endMove:function(){n._noCenterChanged=null,n._raiseCenterChanged()},move:function(n,i){t.moveCenter(n,i)},zoom:function(r,u){var e,f;u&&(f=n._renderer.getRootOffset(),f=[u[0]-f.left,u[1]-f.top],e=t.fromScreenPoint(f[0],f[1])),i=!1,t.setScaledZoom(r),i&&u&&t.setCenterByPoint(e,f)}}),n._resetControlBarCallbacks=function(){n._resetControlBarCallbacks=n=t=null}},_setupInteraction:function(){var n=this;n._centerHandler.processEnd(),n._centeringEnabled=!!u(this._getOption("panningEnabled",!0),!0),n._zoomingEnabled=!!u(this._getOption("zoomingEnabled",!0),!0),n._controlBar.setInteraction({centeringEnabled:n._centeringEnabled,zoomingEnabled:n._zoomingEnabled})},_getDefaultSize:function(){return{width:o,height:s}},_applySize:function(){var n=this,t=n._canvas.width,i=n._canvas.height;n._projection.setSize(t,i),n._layoutControl.setSize(t,i),n._background.attr({x:0,y:0,width:t,height:i})},_resize:t.noop,_clean:function(){var n=this;n._tracker.reset(),n._layoutControl.stop(),n._areasManager.clean(),n._markersManager.clean(),n._controlBar.clean(),n._legendsControl.clean()},_render:function(){var n=this;n._scheduleLoadingIndicatorHiding(),n._legendsControl.render(),n._controlBar.render(),n._markersManager.render(),n._areasManager.render(),n._layoutControl.start()},_handleChangedOptions:function(n){var t=this;t.callBase.apply(t,arguments),"background"in n&&t._setBackgroundOptions(),"areaSettings"in n&&t._setAreasManagerOptions(),"markerSettings"in n&&t._setMarkersManagerOptions(),"controlBar"in n&&t._setControlBarOptions(),"legends"in n&&t._setLegendsOptions(),("touchEnabled"in n||"wheelEnabled"in n)&&t._setTrackerOptions(),("panningEnabled"in n||"zoomingEnabled"in n)&&t._setupInteraction(),"mapData"in n&&t._areasManager.setData(n.mapData),"markers"in n&&t._markersManager.setData(n.markers),"bounds"in n&&t._projection.setBounds(n.bounds),"maxZoomFactor"in n&&t._projection.setMaxZoom(n.maxZoomFactor),"zoomFactor"in n&&t._projection.setZoom(n.zoomFactor),"center"in n&&t._projection.setCenter(n.center)},_handleThemeOptionsCore:function(){var n=this;n._scheduleLoadingIndicatorHiding(),n._setBackgroundOptions(),n._setAreasManagerOptions(),n._setMarkersManagerOptions(),n._setControlBarOptions(),n._setLegendsOptions(),n._setTrackerOptions(),n._setupInteraction()},_setBackgroundOptions:function(){var n=this._getOption("background");this._background.attr({"stroke-width":n.borderWidth,stroke:n.borderColor,fill:n.color})},_setAreasManagerOptions:function(){this._areasManager.setOptions(this.option("areaSettings")),this._eventTrigger.update("onAreaClick"),this._eventTrigger.update("onAreaSelectionChanged")},_setMarkersManagerOptions:function(){this._markersManager.setOptions(this.option("markerSettings")),this._eventTrigger.update("onMarkerClick"),this._eventTrigger.update("onMarkerSelectionChanged")},_setControlBarOptions:function(){this._controlBar.setOptions(this._getOption("controlBar"))},_setLegendsOptions:function(){this._legendsControl.setOptions(this.option("legends"),this._themeManager.theme("legend"))},_setTrackerOptions:function(){this._tracker.setOptions({touchEnabled:this._getOption("touchEnabled",!0),wheelEnabled:this._getOption("wheelEnabled",!0)})},_raiseCenterChanged:function(){this._noCenterChanged||this._eventTrigger("centerChanged",{center:this._projection.getCenter()})},_raiseZoomFactorChanged:function(){this._noZoomFactorChanged||this._eventTrigger("zoomFactorChanged",{zoomFactor:this._projection.getZoom()})},getAreas:function(){return this._areasManager.getProxyItems()},getMarkers:function(){return this._markersManager.getProxyItems()},clearAreaSelection:function(n){return this._areasManager.clearSelection(n),this},clearMarkerSelection:function(n){return this._markersManager.clearSelection(n),this},clearSelection:function(n){return this.clearAreaSelection(n).clearMarkerSelection(n)},center:function(n,t){var r=this;return n===i?r._projection.getCenter():(r._noCenterChanged=t,r._projection.setCenter(n),r._noCenterChanged=null,r)},zoomFactor:function(n,t){var r=this;return n===i?r._projection.getZoom():(r._noZoomFactorChanged=t,r._projection.setZoom(n),r._noZoomFactorChanged=null,r)},viewport:function(n,t){var r=this;return n===i?r._projection.getViewport():(r._noCenterChanged=r._noZoomFactorChanged=t,r._projection.setViewport(n),r._noCenterChanged=r._noZoomFactorChanged=null,r)},convertCoordinates:function(n,t){return this._projection.fromScreenPoint(n,t)},_factory:{}}),r=function(){this._store={}},r.prototype={constructor:r,dispose:function(){return this._store=null,this},_get:function(n,t){var i=this._store[n]||(this._store[n]={});return i[t]||(i[t]={})},set:function(n,t,i){var r=this._get(n,t);return r.data=i,r.callback&&r.callback(i),this},bind:function(n,t,i){var r=this._get(n,t);return r.callback=i,r.data&&i(r.data),this},unbind:function(n,t){var i=this._get(n,t);return i.data=i.callback=null,this}},n.registerComponent("dxVectorMap",n.viz.map,e),n.viz.map._internal={},n.viz.map.sources={}})(DevExpress,jQuery),function(n,t){function lt(n,t,i){var f=(n[0]+t[0])/2-i/2,e=(n[1]+t[1])/2-i/2,r=2/i;return{project:function(n){var t=u.project(n);return[-1+(t[0]-f)*r,-1+(t[1]-e)*r]},unproject:function(n){var t=[f+(n[0]+1)/r,e+(n[1]+1)/r];return u.unproject(t)}}}function y(n,t){return a(n-t)<1e-8}function f(n,t,i,r){var u=w(n);return u<t?u=t:u>i?u=i:t<=u&&u<=i||(u=r),u}function ut(n,t,i){return{lt:[f(n[0],t[0],i[0],t[0]),f(n[1],t[1],i[1],t[1])],rb:[f(n[2],t[0],i[0],i[0]),f(n[3],t[1],i[1],i[1])]}}function at(n){var i=u.unproject([-1,-1]),r=u.unproject([1,1]),f=[e(i[0],r[0]),e(i[1],r[1])],s=[o(i[0],r[0]),o(i[1],r[1])],t=n;return t&&(t=ut(t,f,s)),{min:t?[e(t.lt[0],t.rb[0]),e(t.lt[1],t.rb[1])]:f,max:t?[o(t.lt[0],t.rb[0]),o(t.lt[1],t.rb[1])]:s}}function ft(n,t,i,r){var u;return u=n>-1&&t>=1?i:n<=-1&&t<1?r:(i+r)/2}function p(){this._events={project:t.Callbacks(),transform:t.Callbacks(),center:t.Callbacks(),zoom:t.Callbacks(),"max-zoom":t.Callbacks()},this.setBounds(null)}var w=Number,h=n.utils.isArray,r=Math,e=r.min,o=r.max,a=r.abs,et=r.tan,ot=r.atan,st=r.exp,s=r.round,c=r.log,ht=r.pow,l=r.PI,b=l/4,k=l/360,ct=2/r.LN2,d=1/648e4,v=1,g=256,nt=-180,tt=180,it=-85.0511,rt=85.0511,u={aspectRatio:1,project:function(n){var t=n[0],i=n[1];return[t<=nt?-1:t>=tt?1:t/180,i<=it?1:i>=rt?-1:-c(et(b+i*k))/l]},unproject:function(n){var t=n[0],i=n[1];return[t<=-1?nt:t>=1?tt:180*t,i<=-1?rt:i>=1?it:(ot(st(-l*n[1]))-b)/k]}};p.prototype={constructor:p,_minZoom:v,_maxZoom:g,_zoom:v,_center:[NaN,NaN],dispose:function(){return this._events=null,this},setSize:function(n,t){var i=this;return i._x0=n/2,i._y0=t/2,n/t<=u.aspectRatio?(i._xradius=n/2,i._yradius=n/2/u.aspectRatio):(i._xradius=t/2*u.aspectRatio,i._yradius=t/2),i._events.transform.fire(i.getTransform()),i},setBounds:function(n){var t=this,r=at(n),f,o,i,s;return t._minBound=r.min,t._maxBound=r.max,f=u.project(r.min),o=u.project(r.max),i=[a(o[0]-f[0]),a(o[1]-f[1])],i=e(i[0]>d?i[0]:2,i[1]>d?i[1]:2),s=i<2?lt(f,o,i):u,t._project=s.project,t._unproject=s.unproject,t._defaultCenter=t._unproject([0,0]),t.setCenter(t._defaultCenter),t._events.project.fire(),t},_toScreen:function(n){return[this._x0+this._xradius*n[0],this._y0+this._yradius*n[1]]},_fromScreen:function(n){return[(n[0]-this._x0)/this._xradius,(n[1]-this._y0)/this._yradius]},_toTransformed:function(n){return[n[0]*this._zoom+this._dxcenter,n[1]*this._zoom+this._dycenter]},_toTransformedFast:function(n){return[n[0]*this._zoom,n[1]*this._zoom]},_fromTransformed:function(n){return[(n[0]-this._dxcenter)/this._zoom,(n[1]-this._dycenter)/this._zoom]},_adjustCenter:function(){var n=this,t=n._project(n._center);n._dxcenter=-t[0]*n._zoom,n._dycenter=-t[1]*n._zoom},projectArea:function(n){for(var r=0,o=h(n)?n.length:0,t,i,f,u,e=[];r<o;++r){for(t=n[r],u=[],i=0,f=h(t)?t.length:0;i<f;++i)u.push(this._project(t[i]));e.push(u)}return e},projectPoint:function(n){return n?this._project(n):[]},getAreaCoordinates:function(n){for(var i=0,s=n.length,r,t,e,o=[],u,f;i<s;++i){for(r=n[i],u=[],t=0,e=r.length;t<e;++t)f=this._toScreen(this._toTransformedFast(r[t])),u.push(f[0],f[1]);o.push(u)}return o},getPointCoordinates:function(n){var t=this._toScreen(this._toTransformedFast(n));return{x:s(t[0]),y:s(t[1])}},getSquareSize:function(n){return[n[0]*this._zoom*this._xradius,n[1]*this._zoom*this._yradius]},getZoom:function(){return this._zoom},setZoom:function(n,t){var i=this,r=i._zoom;return i._zoom=f(n,i._minZoom,i._maxZoom,i._minZoom),i._adjustCenter(),(!y(r,i._zoom)||t)&&i._events.zoom.fire(i.getZoom(),i.getTransform()),i},getScaledZoom:function(){return s((this._scale.length-1)*c(this._zoom)/c(this._maxZoom))},setScaledZoom:function(n){return this.setZoom(this._scale[s(n)])},getZoomScalePartition:function(){return this._scale.length-1},_setupScaling:function(){var n=this,t=s(ct*c(n._maxZoom)),r,i,u=1;for(t=t>4?t:4,r=ht(n._maxZoom,1/t),i=n._minZoom,n._scale=[i];u<=t;++u)n._scale.push(i*=r)},setMaxZoom:function(n){var t=this;return t._minZoom=v,t._maxZoom=f(n,t._minZoom,w.MAX_VALUE,g),t._setupScaling(),t._zoom>t._maxZoom&&t.setZoom(t._maxZoom),t._events["max-zoom"].fire(t._maxZoom),t},getMinZoom:function(){return this._minZoom},getMaxZoom:function(){return this._maxZoom},getCenter:function(){return[this._center[0],this._center[1]]},setCenter:function(n,t){var i=this,r=h(n)?n:[],u=i._center;return i._center=[f(r[0],i._minBound[0],i._maxBound[0],i._defaultCenter[0]),f(r[1],i._minBound[1],i._maxBound[1],i._defaultCenter[1])],i._adjustCenter(),y(u[0],i._center[0])&&y(u[1],i._center[1])&&!t||i._events.center.fire(i.getCenter(),i.getTransform()),i},setCenterByPoint:function(n,t){var i=this,r=i._project(n),u=i._fromScreen(t);return i.setCenter(i._unproject([-u[0]/i._zoom+r[0],-u[1]/i._zoom+r[1]]))},moveCenter:function(n,t){var i=this,r=i._toScreen(i._toTransformed(i._project(i._center))),u=i._unproject(i._fromTransformed(i._fromScreen([r[0]+n,r[1]+t])));return i.setCenter(u)},getViewport:function(){var n=this._unproject(this._fromTransformed([-1,-1])),t=this._unproject(this._fromTransformed([1,1]));return[n[0],n[1],t[0],t[1]]},setViewport:function(n){var t=this;if(!h(n))return t.setZoom(t._minZoom).setCenter(t._defaultCenter);var a=ut(n,t._minBound,t._maxBound),r=t._project(a.lt),u=t._project(a.rb),f=e(r[0],u[0]),s=e(r[1],u[1]),c=o(r[0],u[0]),l=o(r[1],u[1]),i=2/o(c-f,l-s),v=ft(f,c,-1-i*f,1-i*c),y=ft(s,l,-1-i*s,1-i*l);return t.setZoom(i).setCenter(t._unproject([-v/i,-y/i]))},getTransform:function(){return{translateX:this._dxcenter*this._xradius,translateY:this._dycenter*this._yradius}},fromScreenPoint:function(n,t){return this._unproject(this._fromTransformed(this._fromScreen([n,t])))},on:function(n){return t.each(this._events,function(t,i){n[t]&&i.add(n[t])}),this}},n.viz.map.dxVectorMap.prototype._factory.createProjection=function(){return new p}}(DevExpress,jQuery),function(n,t){function s(n){delete n._owner,n.update=function(){},n.finish=function(){}}function h(n,t){this._owner=n,this._command=t.data}function c(n,t){function f(){n._callbacks.move(i,r),u=setTimeout(f,e)}this._command=t.data;var u=null,e=100,i=0,r=0;switch(this._command){case w:r=-10;break;case b:i=10;break;case k:r=10;break;case d:i=-10}this._stop=function(){return clearTimeout(u),n._callbacks.endMove(),this._stop=n=null,this},t=null,n._callbacks.beginMove(),f()}function l(n,t){function r(){n._adjustZoom(n._zoomFactor+f),i=setTimeout(r,u)}this._owner=n,this._command=t.data;var i=null,u=150,f=this._command===g?1:-1;this._stop=function(){return clearTimeout(i),this._stop=n=null,this},t=null,r()}function a(n,t){this._owner=n,this._zoomFactor=n._zoomFactor,this._pos=t.y}var ft=Number,f=Math,v=f.round,nt=f.floor,et=f.pow,ot=f.log,st=f.LN2,y=n.viz.utils,p=y.parseScalar,ht=y.enumParser(["left","center","right"]),ct=y.enumParser(["top","bottom"]),tt="command-reset",w="command-move-up",b="command-move-right",k="command-move-down",d="command-move-left",g="command-zoom-in",it="command-zoom-out",lt="command-zoom-drag-line",rt="command-zoom-drag",i="control-bar",e=1,u=2,o={bigCircleSize:58,smallCircleSize:28,buttonSize:10,arrowButtonOffset:20,incdecButtonSize:11,incButtonOffset:66,decButtonOffset:227,sliderLineStartOffset:88.5,sliderLineEndOffset:205.5,sliderLength:20,sliderWidth:8,trackerGap:4},at=30.5,vt=30.5,yt=61,pt=274,r={},ut;r[tt]=h,r[w]=r[b]=r[k]=r[d]=c,r[g]=r[it]=l,r[rt]=a,ut=n.Class.inherit({_flags:0,ctor:function(n){var t=this;t._params=n,t._createElements(n.renderer,n.container,n.dataKey),n.layoutControl.addItem(t),t._subscribeToProjection(n.projection),t._setVisibility(!1)},setCallbacks:function(n){return this._callbacks=n,this},_createElements:function(n,t,i){var r=this,u,f;r._root=n.g().attr({"class":"dxm-control-bar"}).linkOn(t,"control-bar"),u=r._buttonsGroup=n.g().attr({"class":"dxm-control-buttons"}).append(r._root),f=n.g().attr({stroke:"none","stroke-width":0,fill:"#000000",opacity:.0001}).css({cursor:"pointer"}).append(r._root),r._createButtons(n,i,u),r._createTrackers(n,i,f)},_createButtons:function(n,t,i){var l=this,r=o,u=r.buttonSize/2,f=r.arrowButtonOffset-u,s=r.arrowButtonOffset,e=r.incdecButtonSize/2,h={"stroke-linecap":"square",fill:"none"},c="line";n.circle(0,0,r.bigCircleSize/2).append(i),n.circle(0,0,u).attr({fill:"none"}).append(i),n.path([-u,-f,0,-s,u,-f],c).attr(h).append(i),n.path([f,-u,s,0,f,u],c).attr(h).append(i),n.path([u,f,0,s,-u,f],c).attr(h).append(i),n.path([-f,u,-s,0,-f,-u],c).attr(h).append(i),n.circle(0,r.incButtonOffset,r.smallCircleSize/2).append(i),n.path([[-e,r.incButtonOffset,e,r.incButtonOffset],[0,r.incButtonOffset-e,0,r.incButtonOffset+e]],"area").append(i),n.circle(0,r.decButtonOffset,r.smallCircleSize/2).append(i),n.path([-e,r.decButtonOffset,e,r.decButtonOffset],"area").append(i),l._progressBar=n.path([],"area").append(i),l._zoomDrag=n.rect(nt(-r.sliderLength/2),nt(r.sliderLineEndOffset-r.sliderWidth/2),r.sliderLength,r.sliderWidth).append(i),l._sliderLineLength=r.sliderLineEndOffset-r.sliderLineStartOffset},_createTrackers:function(n,t,r){var u=o,f=v((u.arrowButtonOffset-u.trackerGap)/2),s=u.arrowButtonOffset-f,h=v(et(u.bigCircleSize*u.bigCircleSize/4-f*f,.5)),e=h-s;n.rect(-f,-f,f*2,f*2).data(t,{index:tt,type:i}).append(r),n.rect(-f,-h,f*2,e).data(t,{index:w,type:i}).append(r),n.rect(s,-f,e,f*2).data(t,{index:b,type:i}).append(r),n.rect(-f,s,f*2,e).data(t,{index:k,type:i}).append(r),n.rect(-h,-f,e,f*2).data(t,{index:d,type:i}).append(r),n.circle(0,u.incButtonOffset,u.smallCircleSize/2).data(t,{index:g,type:i}).append(r),n.circle(0,u.decButtonOffset,u.smallCircleSize/2).data(t,{index:it,type:i}).append(r),n.rect(-2,u.sliderLineStartOffset-2,4,u.sliderLineEndOffset-u.sliderLineStartOffset+4).css({cursor:"default"}).data(t,{index:lt,type:i}).append(r),this._zoomDragCover=n.rect(-u.sliderLength/2,u.sliderLineEndOffset-u.sliderWidth/2,u.sliderLength,u.sliderWidth).data(t,{index:rt,type:i}).append(r)},_subscribeToProjection:function(n){var t=this;n.on({zoom:function(){t._adjustZoom(n.getScaledZoom())},"max-zoom":function(){t._zoomPartition=n.getZoomScalePartition(),t._sliderUnitLength=t._sliderLineLength/t._zoomPartition,t._adjustZoom(n.getScaledZoom())}})},dispose:function(){var n=this;return n._params.layoutControl.removeItem(n),n._root.clear().linkOff(),n._params=n._root=n._callbacks=n._buttonsGroup=n._zoomDrag=n._zoomDragCover=n._progressBar=null,n},resize:function(n){return this._setVisibility(n!==null&&this._options.enabled&&this._flags),this},_setVisibility:function(n){this._root.attr({visibility:n?null:"hidden"})},getLayoutOptions:function(){var n=this._options;return this._rendered&&n.enabled&&this._flags?{width:2*n.margin+yt,height:2*n.margin+pt,horizontalAlignment:n.horizontalAlignment,verticalAlignment:n.verticalAlignment}:null},locate:function(n,t){return this._root.attr({translateX:n+this._options.margin+at,translateY:t+this._options.margin+vt}),this},setInteraction:function(n){var t=this;return t.processEnd(),p(n.centeringEnabled,!0)?t._flags|=e:t._flags&=~e,p(n.zoomingEnabled,!0)?t._flags|=u:t._flags&=~u,t._rendered&&t._refresh(),t},setOptions:function(n){var t=this;return t.processEnd(),t._buttonsGroup.attr({"stroke-width":n.borderWidth,stroke:n.borderColor,fill:n.color,"fill-opacity":n.opacity}),t._options={enabled:!!p(n.enabled,!0),margin:n.margin>0?ft(n.margin):0,horizontalAlignment:ht(n.horizontalAlignment,"left"),verticalAlignment:ct(n.verticalAlignment,"top")},t._rendered&&t._refresh(),t},_refresh:function(){var n=this._flags&&this._options.enabled;this._setVisibility(n),n&&this.updateLayout()},clean:function(){var n=this;return n._rendered=null,n._root.linkRemove(),n},render:function(){var n=this;return n._rendered=!0,n._root.linkAppend(),n._refresh(),n},_adjustZoom:function(n){var t=this,i,r,e=o.sliderLineStartOffset,u=o.sliderLineEndOffset,s=o.sliderWidth;t._zoomFactor=v(n),t._zoomFactor>=0||(t._zoomFactor=0),t._zoomFactor<=t._zoomPartition||(t._zoomFactor=t._zoomPartition),i={translateY:-t._zoomFactor*t._sliderUnitLength},r=u-s/2+i.translateY,t._progressBar.attr({points:[[0,e,0,f.max(e,r)],[0,f.min(u,r+s),0,u]]}),t._zoomDrag.attr(i),t._zoomDragCover.attr(i)},_applyZoom:function(n){this._callbacks.zoom(this._zoomFactor,this._flags&e?n:t)},processStart:function(n){var t=r[n.data];return this._command=t&&this._options.enabled&&t.flags&this._flags?new t(this,n):null,this},processMove:function(n){return this._command&&this._command.update(n),this},processEnd:function(){return this._command&&this._command.finish(),this._command=null,this},processZoom:function(n){var t=this,i;return t._flags&u&&(n.delta?i=n.delta:n.ratio&&(i=ot(n.ratio)/st),t._adjustZoom(t._zoomFactor+i),t._applyZoom([n.x,n.y])),t}}),h.flags=e|u,h.prototype.update=function(n){n.data!==this._command&&s(this)},h.prototype.finish=function(){var n=this._owner._flags;this._owner._callbacks.reset(!!(n&e),!!(n&u)),n&u&&this._owner._adjustZoom(0),s(this)},c.flags=e,c.prototype.update=function(n){this._command!==n.data&&this.finish()},c.prototype.finish=function(){s(this._stop())},l.flags=u,l.prototype.update=function(n){this._command!==n.data&&this.finish()},l.prototype.finish=function(){this._owner._applyZoom(),s(this._stop())},a.flags=u,a.prototype.update=function(n){var t=this._owner;t._adjustZoom(this._zoomFactor+t._zoomPartition*(this._pos-n.y)/t._sliderLineLength)},a.prototype.finish=function(){this._owner._applyZoom(),s(this)},n.viz.map.dxVectorMap.prototype._factory.createControlBar=function(n){return new ut(n)}}(DevExpress),function(n,t,i){function v(n){var t=this;t._root=n.root,t._callbacks={},t._createEventHandlers(n.dataKey),t._createProjectionHandlers(n.projection),t._focus=new g(t._callbacks),t._attachHandlers()}function nt(n,t,i,r){return it((n-i)*(n-i)+(t-r)*(t-r))}function r(n){var t=n.originalEvent.type,i=n.originalEvent.pointerType;return/^touch/.test(t)||/^MSPointer/.test(t)&&i!==4||/^pointer/.test(t)&&i!=="mouse"}function h(n,t){for(var i=0,u=n.length,r;i<u;++i)if(n[i]){r=t[i];break}return e(r||t[i],o)}function ni(){var n=[navigator.pointerEnabled,navigator.msPointerEnabled,"ontouchstart"in window];s={start:h(n,["pointerdown","MSPointerDown","touchstart mousedown","mousedown"]),move:h(n,["pointermove","MSPointerMove","touchmove mousemove","mousemove"]),end:h(n,["pointerup","MSPointerUp","touchend mouseup","mouseup"]),wheel:h([],["mousewheel DOMMouseScroll"])}}function f(n){var t=n.originalEvent,i=t.touches&&t.touches[0]||{};return{x:i.pageX||t.pageX||n.pageX,y:i.pageY||t.pageY||n.pageY}}function tt(n){return n.originalEvent.pointerId}function c(n,t){var r=n.originalEvent;return r=r.pointerId!==i?r.pointerId===t?r:null:r.touches[t],r?{x:r.pageX||n.pageX,y:r.pageY||n.pageY}:null}function ti(n,t){if(n===0)return 0;var i=u(n),r=y(n/i);return t.dir&&r!==t.dir?0:(t.dir=r,i=i<.1?0:i<1?1:i>4?4:y(i),r*i)}var l=Math,u=l.abs,it=l.sqrt,y=l.round,e=n.ui.events.addNamespace,p=n.viz.utils.parseScalar,a=t.now,o=n.viz.map.dxVectorMap.prototype.NAME,s={},g;ni();var rt="start",ut="move",ft="end",w="zoom",et="hover-on",ot="hover-off",st="click",b="focus-on",ht="focus-move",k="focus-off",ct=500,lt=5,at=20,vt=5,yt=10,pt=300,wt=300,bt=300,kt=400,d=5,dt=50,gt=300;v.prototype={constructor:v,dispose:function(){var n=this;return n._detachHandlers(),n._focus.dispose(),n._root=n._callbacks=n._focus=n._docHandlers=n._rootHandlers=null,n},_startClick:function(n,t){if(t){var i=f(n);this._clickState={x:i.x,y:i.y,threshold:r(n)?at:lt,time:a()}}},_endClick:function(n,t){var i=this._clickState,e,r;i&&(a()-i.time<=ct&&(e=i.threshold,r=f(n),u(r.x-i.x)<=e&&u(r.y-i.y)<=e&&this._callbacks[st]({data:t,x:r.x,y:r.y,$event:n})),this._clickState=null)},_startDrag:function(n,t){if(t){var r=f(n),i=this._dragState={x:r.x,y:r.y,data:t};this._callbacks[rt]({x:i.x,y:i.y,data:i.data})}},_moveDrag:function(n,t){var i=this._dragState,e,o;i&&(e=f(n),o=r(n)?yt:vt,(i.active||u(e.x-i.x)>o||u(e.y-i.y)>o)&&(i.x=e.x,i.y=e.y,i.active=!0,i.data=t||{},this._callbacks[ut]({x:i.x,y:i.y,data:i.data})))},_endDrag:function(){var n=this._dragState;n&&(this._dragState=null,this._callbacks[ft]({x:n.x,y:n.y,data:n.data}))},_wheelZoom:function(n,t){if(t){var o=this,i=o._wheelLock,r=a(),u,e;r-i.time<=dt||(r-i.dirTime>gt&&(i.dir=0),u=ti(n.originalEvent.wheelDelta/120||n.originalEvent.detail/-3||0,i),u!==0)&&(e=f(n),o._callbacks[w]({delta:u,x:e.x,y:e.y}),i.time=i.dirTime=r)}},_startZoom:function(n,t){if(r(n)&&t){var u=this._zoomState=this._zoomState||{},f,e;u.pointer1&&u.pointer2||(u.pointer1===i&&(u.pointer1=tt(n)||0,f=c(n,u.pointer1),u.x1=u.x1_0=f.x,u.y1=u.y1_0=f.y),u.pointer2===i&&(e=tt(n)||1,e!==u.pointer1&&(f=c(n,e),f&&(u.x2=u.x2_0=f.x,u.y2=u.y2_0=f.y,u.pointer2=e,u.ready=!0,this._endDrag()))))}},_moveZoom:function(n){var t=this._zoomState,u;t&&r(n)&&(t.pointer1!==i&&(u=c(n,t.pointer1),u&&(t.x1=u.x,t.y1=u.y)),t.pointer2!==i&&(u=c(n,t.pointer2),u&&(t.x2=u.x,t.y2=u.y)))},_endZoom:function(n){var t=this._zoomState,i,u;t&&r(n)&&(t.ready&&(i=nt(t.x1_0,t.y1_0,t.x2_0,t.y2_0),u=nt(t.x1,t.y1,t.x2,t.y2),this._callbacks[w]({ratio:u/i,x:(t.x1_0+t.x2_0)/2,y:(t.y1_0+t.y2_0)/2})),this._zoomState=null)},_startHover:function(n,t){this._doHover(n,t,!0)},_moveHover:function(n,t){this._doHover(n,t,!1)},_doHover:function(n,t,i){var u=this;if(u._dragState&&u._dragState.active||u._zoomState&&u._zoomState.ready){u._cancelHover();return}r(n)!==i||u._hoverTarget===n.target||u._hoverState&&u._hoverState.data===t||(u._cancelHover(),t&&(u._hoverState={data:t},u._callbacks[et]({data:t})),u._hoverTarget=n.target)},_cancelHover:function(){var n=this._hoverState;this._hoverState=this._hoverTarget=null,n&&this._callbacks[ot]({data:n.data})},_startFocus:function(n,t){this._doFocus(n,t,!0)},_moveFocus:function(n,t){this._doFocus(n,t,!1)},_doFocus:function(n,t,i){var u=this;if(u._dragState&&u._dragState.active||u._zoomState&&u._zoomState.ready){u._cancelFocus();return}r(n)===i&&(u._focus.turnOff(i?kt:wt),t&&u._focus.turnOn(t,f(n),i?bt:pt,i))},_endFocus:function(n){r(n)&&this._focus.cancelOn()},_cancelFocus:function(){this._focus.cancel()},_createEventHandlers:function(n){var i=this;i._docHandlers={},i._rootHandlers={},i._docHandlers[s.start]=function(u){var e=r(u),f=t(u.target).data(n);(!e||i._isTouchEnabled)&&(f&&u.preventDefault(),i._startClick(u,f),i._startDrag(u,f),i._startZoom(u,f),i._startHover(u,f),i._startFocus(u,f))},i._docHandlers[s.move]=function(u){var e=r(u),f=t(u.target).data(n);(!e||i._isTouchEnabled)&&(i._moveDrag(u,f),i._moveZoom(u,f),i._moveHover(u,f),i._moveFocus(u,f))},i._docHandlers[s.end]=function(u){var e=r(u),f=t(u.target).data(n);(!e||i._isTouchEnabled)&&(i._endClick(u,f),i._endDrag(u,f),i._endZoom(u,f),i._endFocus(u,f))},i._rootHandlers[s.wheel]=function(r){if(i._cancelFocus(),i._isWheelEnabled){var u=t(r.target).data(n);u&&(r.preventDefault(),r.stopPropagation(),i._wheelZoom(r,u))}},i._wheelLock={dir:0}},_createProjectionHandlers:function(n){function t(){i._cancelFocus()}var i=this;n.on({center:t,zoom:t})},reset:function(){var n=this;return n._clickState=null,n._endDrag(),n._cancelHover(),n._cancelFocus(),n},setCallbacks:function(n){return t.extend(this._callbacks,n),this},setOptions:function(n){var t=this;return t.reset(),t._detachHandlers(),t._isTouchEnabled=!!p(n.touchEnabled,!0),t._isWheelEnabled=!!p(n.wheelEnabled,!0),t._attachHandlers(),t},_detachHandlers:function(){var n=this;n._isTouchEnabled&&n._root.css({"touch-action":"","-ms-touch-action":"","-webkit-user-select":""}).off(e("MSHoldVisual",o)).off(e("contextmenu",o)),t(document).off(n._docHandlers),n._root.off(n._rootHandlers)},_attachHandlers:function(){var n=this;if(n._isTouchEnabled)n._root.css({"touch-action":"none","-ms-touch-action":"none","-webkit-user-select":"none"}).on(e("MSHoldVisual",o),function(n){n.preventDefault()}).on(e("contextmenu",o),function(n){r(n)&&n.preventDefault()});t(document).on(n._docHandlers);n._root.on(n._rootHandlers)}},g=function(n){var i=this,r=null,f=null,h=!1,t=null,e=null,o,s;i.dispose=function(){clearTimeout(t),clearTimeout(e),i.turnOn=i.turnOff=i.cancel=i.cancelOn=i.dispose=i=n=r=f=t=e=null},i.turnOn=function(i,c,l,a){function v(n){h=!n,n&&(r=f,clearTimeout(e),e=null)}i===f&&h||(h=!1,f=i,r?(o=c.x,s=c.y,clearTimeout(t),t=setTimeout(function(){t=null,f===r?(n[ht]({data:f,x:o,y:s}),v(!0)):n[b]({data:f,x:o,y:s},v)},a?l:0)):(!t||u(c.x-o)>d||u(c.y-s)>d||a)&&(o=c.x,s=c.y,clearTimeout(t),t=setTimeout(function(){t=null,n[b]({data:f,x:o,y:s},v)},l)))},i.turnOff=function(i){clearTimeout(t),t=null,f=null,r&&!h&&(e=e||setTimeout(function(){e=null,n[k]({data:r}),r=null},i))},i.cancel=function(){clearTimeout(t),clearTimeout(e),r&&n[k]({data:r}),r=f=t=e=null},i.cancelOn=function(){clearTimeout(t),t=null}},n.viz.map.dxVectorMap.prototype._factory.createTracker=function(n){return new v(n)}}(DevExpress,jQuery),function(n,t,i){var e=n.viz,u=Number,r=t.extend,f=t.each,o=e.BaseThemeManager.inherit({_themeSection:"map",_fontFields:["areaSettings.label.font","markerSettings.label.font","tooltip.font","legend.font","loadingIndicator.font"],getCommonAreaSettings:function(n){var t=r(!0,{},this._theme.areaSettings,n),f,i,u;if(t.paletteSize>0){for(f=this.createGradientPalette(t.palette,t.paletteSize),i=0,u=[];i<t.paletteSize;++i)u.push(f.getColor(i));t._colors=u}return t},getAreaSettings:function(n,t){var f=r(!0,{},n,t);return f.borderWidth=u(f.borderWidth)||0,f.borderColor=f.borderColor||null,t.color===i&&t.paletteIndex>=0&&(f.color=n._colors[t.paletteIndex]),f.color=f.color||null,f.hoveredBorderWidth=u(f.hoveredBorderWidth)||f.borderWidth,f.hoveredBorderColor=f.hoveredBorderColor||f.borderColor,f.hoveredColor=f.hoveredColor||f.color,f.selectedBorderWidth=u(f.selectedBorderWidth)||f.borderWidth,f.selectedBorderColor=f.selectedBorderColor||f.borderColor,f.selectedColor=f.selectedColor||f.color,f},getCommonMarkerSettings:function(n){n&&!n.label&&n.font&&(n.label={font:n.font})&&(n.font=i);var t=r({},this._theme.markerSettings),u=r({},n),o={},s={},e;return f(t,function(n,r){n[0]==="_"&&(o[n]=r,s[n]=u[n],t[n]=u[n]=i)}),e=r(!0,{},t,u),f(o,function(n,i){e[n]=r(!0,{},t,i,u,s[n])}),e},getMarkerSettings:function(n,t,i){var f=r(!0,{},n["_"+i],t);return f.borderWidth=u(f.borderWidth)||0,f.borderColor=f.borderColor||null,f.color=f.color||null,f.opacity=f.opacity||null,f.hoveredBorderWidth=u(f.hoveredBorderWidth)||f.borderWidth,f.hoveredBorderColor=f.hoveredBorderColor||f.borderColor,f.hoveredColor=f.hoveredColor||f.color,f.hoveredOpacity=f.hoveredOpacity||f.opacity,f.selectedBorderWidth=u(f.selectedBorderWidth)||f.borderWidth,f.selectedBorderColor=f.selectedBorderColor||f.borderColor,f.selectedColor=f.selectedColor||f.color,f.selectedOpacity=f.selectedOpacity||f.opacity,f},getPieColors:function(n,t){var i=n._pie._colors||[],u,r,f=t>8?t:8;if(i.length<f){for(u=this.createPalette(n._pie.palette,{useHighlight:!0}),r=0,i=[];r<f;++r)i.push(u.getNextColor());n._pie._colors=i}return i}});n.viz.map.dxVectorMap.prototype._factory.createThemeManager=function(){return new o}}(DevExpress,jQuery),function(n,t){function o(n){var t=this;t._params=n,t._root=n.renderer.g().attr({"class":"dxm-legend"}).linkOn(n.container,{name:"legend",after:"legend-base"}),n.layoutControl.addItem(t),u.apply(t,[{renderer:n.renderer,group:t._root,backgroundClass:null,itemsGroupClass:null,textField:"text",getFormatObject:function(n){return n}}]),t._onDataChanged=function(n){var i=f.utils.map(n,function(n){return c(!0,{states:{normal:{fill:n.color}}},n)});t.update(i,t._options),t._refresh()}}function s(n){this._parameters=n,this._items=[],n.container.virtualLink("legend-base")}var f=n.viz,h=n.utils,v=h.isArray,c=t.extend,e=t.each,y=f.utils.normalizeEnum,u=f.Legend,r=o.prototype=h.clone(u.prototype),l,a;r.constructor=o,r.dispose=function(){var n=this;return n._params.layoutControl.removeItem(n),n._unbindData(),n._root.linkOff(),n._params=n._root=n._onDataChanged=null,u.prototype.dispose.apply(n,arguments)},r.clean=function(){return this._rendered=!1,this._root.linkRemove(),this},r.render=function(){var n=this;return n._root.linkAppend(),n._rendered=!0,n._refresh(),n},r.resize=function(n){return n===null?this.erase():this.draw(n.width,n.height),this},r.locate=u.prototype.shift,r._unbindData=function(){this._dataCategory&&this._params.dataExchanger.unbind(this._dataCategory,this._dataName)},r._bindData=function(n){this._params.dataExchanger.bind(this._dataCategory=n.category,this._dataName=n.name,this._onDataChanged)},l={areacolorgroups:{category:"areas",name:"color"},markercolorgroups:{category:"markers",name:"color"},markersizegroups:{category:"markers",name:"size"}},a={category:"UNKNOWN",name:"UNKNOWN"},r.setOptions=function(n){var t=this;return t.update(t._data,n),t._unbindData(),t._bindData(l[y(n.source)]||a),t._refresh(),t},r._refresh=function(){this._rendered&&this.updateLayout()},s.prototype={constructor:s,dispose:function(){var n=this;return e(n._items,function(n,t){t.dispose()}),n._parameters=n._items=null,n},setOptions:function(n,t){for(var f=v(n)?n:[],i=0,r=f.length,e,s=[],u=this._items;i<r;++i)e=(u[i]||new o(this._parameters)).setOptions(c(!0,{},t,f[i])),s.push(e);for(r=u.length;i<r;++i)u[i].clean().dispose();this._items=s},clean:function(){return e(this._items,function(n,t){t.clean()}),this},render:function(){return e(this._items,function(n,t){t.render()}),this}},n.viz.map.dxVectorMap.prototype._factory.createLegendsControl=function(n){return new s(n)}}(DevExpress,jQuery),function(n,t){function a(n){return l[n.verticalAlignment]*3+c[n.horizontalAlignment]}function v(n,t){var h=(n.right-n.left)/3,p=(n.bottom-n.top)/2,f=n.left,e=u(f+h),o=u(f+h+h),v=n.right,s=n.top,i=u(s+p),c=n.bottom,y=[{rect:[f,s,e,i]},{rect:[e,s,o,i],center:!0},{rect:[o,s,v,i],horInv:!0},{rect:[f,i,e,c],verInv:!0},{rect:[e,i,o,c],center:!0,verInv:!0},{rect:[o,i,v,c],horInv:!0,verInv:!0}],l=[[],[],[],[],[],[]];return r(t,function(n,t){var i=t.getLayoutOptions();i&&l[a(i)].push({item:t,width:i.width,height:i.height})}),r(y,function(n,t){l[n].length?t.items=l[n]:(t.center?t.rect[0]=t.rect[2]=(t.rect[0]+t.rect[2])/2:t.rect[t.horInv?0:2]=t.rect[t.horInv?2:0],t.rect[t.verInv?1:3]=t.rect[t.verInv?3:1])}),y}function y(n){r([0,1,2,3,4,5],function(t,i){var r=n[i],u=n[(i+3)%6];r.items&&(u.items||(r.rect[1]=e(r.rect[1],u.rect[3]),r.rect[3]=f(r.rect[3],u.rect[1])))}),r([1,4],function(t,i){var r=n[i],e=n[i-1],o=n[i+1],u,f;r.items?e.items||o.items||(u=r.rect[0]-e.rect[2],f=o.rect[0]-r.rect[2],u>f?u/f>=2?(r.rect[0]-=u,r.right=!0):(r.rect[0]-=f,r.rect[2]+=f):f/u>=2?(r.rect[2]+=f,r.center=null):(r.rect[0]-=u,r.rect[2]+=u)):(e.items&&(e.rect[2]=(r.rect[0]+r.rect[2])/2),o.items&&(o.rect[0]=(r.rect[0]+r.rect[2])/2))})}function s(n,t){var i=!1;return y(n),r(n,function(n,r){r.items&&(i=p(r,t)||i)}),i}function p(n,t){var i=n.rect,w=i[2]-i[0],b=i[3]-i[1],o=0,c=0,l=0,s=i[2],y=i[3],h=i[0],p=i[1],a=[],v=!1;return r(n.items,function(r,u){if(u.width>w||u.height>b||(o+u.width>w&&(c+=l,o=l=0),c+u.height>b))return a.push(null),v=!0,t||!1;l=f(l,u.height);var k=n.horInv?i[2]-u.width-o:i[0]+o,d=n.verInv?i[3]-u.height-c:i[1]+c;o+=u.width,s=e(s,k),y=e(y,d),h=f(h,k+u.width),p=f(p,d+u.height),a.push([k,d])}),(t||!v)&&(o=0,n.right?o=i[2]-i[0]-h+s:n.center&&(o=u((i[2]-i[0]-h+s)/2)),r(n.items,function(n,t){var i=a[n];i?t.item.locate(i[0]+o,i[1]):t.item.resize(null)}),n.rect=[s,y,h,p],n.items=null),v}function w(n,t){var i=v(n,t);s(i)&&s(i,!0)}function o(){var n=this;n._items=[],n._suspended=!0,n._updateLayout=function(){n._update()}}var u=Math.round,e=Math.min,f=Math.max,r=t.each,h=t.inArray,c={left:0,center:1,right:2},l={top:0,bottom:1};o.prototype={constructor:o,dispose:function(){return this._items=this._updateLayout=null,this},setSize:function(n,t){return this._size={width:n,height:t},this._update(),this},stop:function(){return this._suspended=!0,this},start:function(){return this._suspended=null,this._update(),this},addItem:function(n){return this._items.push(n),n.updateLayout=this._updateLayout,this},removeItem:function(n){return this._items.splice(h(n,this._items),1),n.updateLayout=null,this},_update:function(){if(!this._suspended){var n=this._size;r(this._items,function(t,i){i.resize(n)}),w({left:0,top:0,right:n.width,bottom:n.height},this._items)}}},n.viz.map.dxVectorMap.prototype._factory.createLayoutControl=function(){return new o}}(DevExpress,jQuery),function(n,t){function it(n){var t=tt(n);return t=t in l?l[t]:l.single,t!==null&&(t={state:{},single:t}),t}function rt(n,t,i){n.raiseHoverChanged=function(n,r){t(i.hoverChanged,{target:n.proxy,state:r})},n.raiseSelectionChanged=function(n){t(i.selectionChanged,{target:n.proxy})}}function v(){}function u(n){this.raw=n}function f(n){this.raw=n}function ut(n){var t=v;return n&&(h(n.features)?t=f:h(n)&&(t=u)),new t(n)}function a(n){r(n,function(t){n[t]=null})}function ft(n){var t,r,i=null;if(h(n)&&n.length>1)for(i=[],t=0,r=n.length-1;t<r;++t)i.push({start:Number(n[t]),end:Number(n[t+1])});return i}function et(n,t){for(var u=t.length,r=-1,i=0;i<u&&r===-1;++i)t[i].start<=n&&n<t[i].end&&(r=i);return r===-1&&n===t[u-1].end&&(r=u-1),r}var p=n.viz,w=isFinite,s=n.utils,e=p.utils,b=e.map,k=s.isString,h=s.isArray,d=s.isFunction,g=e.patchFontOptions,nt=e.parseScalar,tt=e.normalizeEnum,c=t.extend,r=t.each,l={none:null,single:-1,multiple:NaN},y,o;v.prototype.count=function(){return 0},u.prototype.count=function(){return this.raw.length},u.prototype.item=function(n){return this.raw[n]},u.prototype.geometry=function(n){return{coordinates:n.coordinates}},u.prototype.attributes=function(n){return n.attributes},f.prototype.count=function(){return this.raw.features.length},f.prototype.item=function(n){return this.raw.features[n]},f.prototype.geometry=function(n){return n.geometry},f.prototype.attributes=function(n){return n.properties},y=n.Class.inherit({_rootClass:null,ctor:function(n){var t=this;t._params=n,t._init();n.projection.on({project:function(){t._reproject()},transform:function(n){t._transform(n),t._relocate()},center:function(n,i){t._transform(i)},zoom:function(n,i){t._transform(i),t._relocate()}})},_init:function(){var n=this;n._context={renderer:n._params.renderer,projection:n._params.projection,dataKey:n._params.dataKey,selection:null,getItemSettings:n._createItemSettingsBuilder()},n._initRoot(),rt(n._context,n._params.eventTrigger,n._eventNames)},_createItemSettingsBuilder:function(){var n=this;return function(t,i){var u={};return r(n._grouping,function(n,i){var r,f;w(r=i.callback(t))&&(f=et(r,i.groups))>=0&&(u[n]=i.groups[f][n])}),n._getItemSettings(t,c({},i,u))}},_initRoot:function(){this._context.root=this._root=this._params.renderer.g().attr({"class":this._rootClass}).linkOn(this._params.container,"mapitems-"+this._dataCategory)},dispose:function(){var n=this;return n._destroyHandles(),n._params=n._context=n._grouping=null,n._disposeRoot(),n},_disposeRoot:function(){this._root.linkOff(),this._root=null},clean:function(){var n=this;return n._destroyItems(),n._removeRoot(),n._rendered=!1,n},_removeRoot:function(){this._root.linkRemove()},setOptions:function(n){var t=this;return t._processOptions(n||{}),t._params.notifyDirty(),t._destroyItems(),t._createItems(t._params.notifyReady),t},render:function(){var n=this;return n._rendered=!0,n._params.notifyDirty(),n._appendRoot(),n._createItems(n._params.notifyReady,!0),n},_processOptions:function(n){var i=this,u=i._commonSettings=i._getCommonSettings(n),f=i._context;i._customizeCallback=d(u.customize)?u.customize:t.noop,f.hover=!!nt(u.hoverEnabled,!0),f.selection&&r(f.selection.state,function(n,t){t&&t.resetSelected()}),f.selection=it(u.selectionMode),i._grouping={},i._updateGrouping()},_appendRoot:function(){this._root.linkAppend()},_destroyItems:function(){var n=this;n._clearRoot(),clearTimeout(n._labelsTimeout),n._rendered&&n._handles&&r(n._handles,function(n,t){t.item&&(t.item.dispose(),t.item=null)})},_clearRoot:function(){this._root.clear()},_destroyHandles:function(){var n=this;n._handles&&r(n._handles,function(n,t){t.dispose()}),n._context.selection&&(n._context.selection.state={}),n._handles=null},_createHandles:function(n){for(var i=this,e=[],s=e.length=n.count(),h=i._context,c=i._itemType,l=i._initProxy,a=i._customizeCallback,v=n.geometry,y=n.attributes,u,f,r,t=0;t<s;++t)u=n.item(t),e[t]=f=new o(h,v(u),y(u),t,c),r=f.proxy,l(r,u),f.settings=a.call(r,r)||{},f.settings.isSelected&&r.selected(!0);i._handles=e},_createItems:function(n){var t=this,i=[],u=!0;t._rendered&&t._handles&&(r(t._handles,function(n,r){r.item=t._createItem(r.proxy).init(t._context,r.proxy).project().update(r.settings).locate(),r.proxy.selected()&&i.push(r.item)}),r(i,function(n,t){t.setSelectedState()}),t._arrangeItems(),t._commonSettings.label.enabled&&(u=!1,clearTimeout(t._labelsTimeout),t._labelsTimeout=setTimeout(function(){r(t._handles,function(n,t){t.item.createLabel()}),n()}))),u&&n()},setData:function(n){function r(n){i._rendered&&i._params.tracker.reset(),i._destroyItems(),i._destroyHandles(),i._createHandles(ut(n)),i._createItems(i._params.notifyReady)}var i=this;return i._params.notifyDirty(),k(n)?t.getJSON(n).done(r).fail(function(){r(null)}):r(n),i},_transform:function(n){this._root.attr(n)},_reproject:function(){this._rendered&&this._handles&&r(this._handles,function(n,t){t.item.project().locate()})},_relocate:function(){this._rendered&&this._handles&&r(this._handles,function(n,t){t.item.locate()})},hoverItem:function(n,t){return this._handles[n].setHovered(t),this},selectItem:function(n,t,i){return this._handles[n].setSelected(t,i),this},clearSelection:function(){var n=this._context.selection;return n&&(r(n.state,function(n,t){t&&t.setSelected(!1)}),n.state={}),this},raiseClick:function(n,t){return this._params.eventTrigger(this._eventNames.click,{target:this._handles[n].proxy,jQueryEvent:t}),this},getProxyItems:function(){return b(this._handles,function(n){return n.proxy})},getProxyItem:function(n){return this._handles[n].proxy},_performGrouping:function(n,t,i,u){var f=ft(n),e;f?(e=u(f.length),r(f,function(n,i){i.index=n,i[t]=e[n]}),this._grouping[t]={callback:i,groups:f}):(delete this._grouping[t],f=[]),this._params.dataExchanger.set(this._dataCategory,t,f)},_groupByColor:function(n,t,i){var r=this;r._performGrouping(n,"color",i,function(n){for(var f=r._params.themeManager.createGradientPalette(t,n),i=0,u=[];i<n;++i)u.push(f.getColor(i));return u})}}),n.viz.map._internal.mapItemBehavior={init:function(n,t){var i=this;return i._ctx=n,i._data={index:t.index,type:t.type},i._proxy=t,i._root=i._createRoot().append(i._ctx.root),i},dispose:function(){return a(this),this},project:function(){var n=this;return n._coords=n._project(n._ctx.projection,n._proxy.geometry()),this},locate:function(){var n=this;return n._locate(n._transform(n._ctx.projection,n._coords)),n._label&&n._label.value&&n._locateLabel(),n},update:function(n){var t=this;return t._settings=t._ctx.getItemSettings(t._proxy,n),t._update(t._settings),t._label&&t._updateLabel(),t},createLabel:function(){var n=this;return n._label={root:n._createLabelRoot(),text:n._ctx.renderer.text(),tracker:n._ctx.renderer.rect().attr({stroke:"none","stroke-width":0,fill:"#000000",opacity:.0001}).data(n._ctx.dataKey,n._data)},n._updateLabel(),n},_updateLabel:function(){var n=this,t=n._settings.label;n._label.value=String(this._proxy.text||this._proxy.attribute(this._settings.label.dataField)||""),n._label.value&&(n._label.text.attr({text:n._label.value,x:0,y:0}).css(g(t.font)).attr({align:"center",stroke:t.stroke,"stroke-width":t["stroke-width"],"stroke-opacity":t["stroke-opacity"]}).append(n._label.root),n._label.tracker.append(n._label.root),n._adjustLabel(),n._locateLabel())}},o=function(n,t,i,r,u){var f=this;f._ctx=n,f._idx=r,f._hovered=f._selected=!1,i=c({},i),f.proxy={index:r,type:u,geometry:function(){return t},coordinates:function(){return t.coordinates},attribute:function(n,t){return arguments.length>1?(i[n]=t,this):arguments.length>0?i[n]:i},selected:function(n,t){return arguments.length>0?(f.setSelected(!!n,t),this):f._selected},applySettings:function(n){return c(!0,f.settings,n),f.item&&f.item.update(f.settings),this}}},o.prototype={constructor:o,dispose:function(){return a(this.proxy),a(this),this},setHovered:function(n){n=!!n;var t=this;return t._ctx.hover&&t._hovered!==n&&(t._hovered=n,t.item&&(t._hovered&&t.item.onHover(),t._selected||(t.item[t._hovered?"setHoveredState":"setDefaultState"](),t._ctx.raiseHoverChanged(t,t._hovered)))),t},resetSelected:function(){return this._selected=!1,this},setSelected:function(n,t){n=!!n;var i=this,f=i._ctx,r=i._ctx.selection,u;return r&&i._selected!==n&&(i._selected=n,u=r.state[r.single],r.state[r.single]=null,u&&u.setSelected(!1),r.state[r.single||i._idx]=n?i:null,i.item&&(i.item[n?"setSelectedState":i._hovered?"setHoveredState":"setDefaultState"](),t||f.raiseSelectionChanged(i))),i}},n.viz.map.dxVectorMap.prototype._factory.MapItemsManager=y}(DevExpress,jQuery),function(n,t){function u(){}function c(n){for(var f=0,h=n.length,i,t=n[h-1],u,e=0,s=0,r=0;f<h;++f)i=t,t=n[f],u=i[0]*t[1]-t[0]*i[1],r+=u,e+=(i[0]+t[0])*u,s+=(i[1]+t[1])*u;return r/=2,e/=6*r,s/=6*r,{coords:[e,s],area:o(r)}}function l(n){for(var i=0,f=n.length,t,r,u=0;i<f;++i)t=c(n[i]),t.area>u&&(u=t.area,r=t);return r}var o=Math.abs,s=Math.sqrt,r=t.noop,h=Array.prototype.concat,f=1,e=n.viz.map.dxVectorMap.prototype._factory.MapItemsManager.inherit({_rootClass:"dxm-areas",_dataCategory:"areas",_eventNames:{click:"areaClick",hoverChanged:"areaHoverChanged",selectionChanged:"areaSelectionChanged"},_initRoot:function(){var n=this;n.callBase.apply(n,arguments),n._context.labelRoot=n._labelRoot=n._params.renderer.g().attr({"class":"dxm-area-labels"}).linkOn(n._params.container,"mapitems-areas-labels")},_disposeRoot:function(){this.callBase.apply(this,arguments),this._labelRoot.linkOff(),this._labelRoot=null},_getCommonSettings:function(n){return this._params.themeManager.getCommonAreaSettings(n)},_itemType:"area",_removeRoot:function(){this.callBase.apply(this,arguments),this._labelRoot.linkRemove()},_appendRoot:function(){var n=this;n.callBase.apply(n,arguments),n._commonSettings.label.enabled&&n._labelRoot.linkAppend()},_clearRoot:function(){this.callBase.apply(this,arguments),this._labelRoot.clear()},_initProxy:r,_getItemSettings:function(n,t){return this._params.themeManager.getAreaSettings(this._commonSettings,t)},_transform:function(n){this.callBase.apply(this,arguments),this._labelRoot.attr(n)},_createItem:function(){return new u},_updateGrouping:function(){var n=this._commonSettings,t=n.colorGroupingField;this._groupByColor(n.colorGroups,n.palette,function(n){return n.attribute(t)})},_arrangeItems:r});t.extend(u.prototype,n.viz.map._internal.mapItemBehavior,{_project:function(n,t){var i=t.coordinates;return t.type==="MultiPolygon"&&(i=h.apply([],i)),n.projectArea(i)},_createRoot:function(){return this._ctx.renderer.path([],"area").data(this._ctx.dataKey,this._data)},_update:function(n){return this._styles={normal:{"class":"dxm-area",stroke:n.borderColor,"stroke-width":n.borderWidth,fill:n.color},hovered:{"class":"dxm-area dxm-area-hovered",stroke:n.hoveredBorderColor,"stroke-width":n.hoveredBorderWidth,fill:n.hoveredColor},selected:{"class":"dxm-area dxm-area-selected",stroke:n.selectedBorderColor,"stroke-width":n.selectedBorderWidth,fill:n.selectedColor}},this._root.attr(this._styles.normal),this},_transform:function(n,t){return n.getAreaCoordinates(t)},_locate:function(n){this._root.attr({points:n})},onHover:r,setDefaultState:function(){this._root.attr(this._styles.normal).toBackground()},setHoveredState:function(){this._root.attr(this._styles.hovered).toForeground()},setSelectedState:function(){this._root.attr(this._styles.selected).toForeground()},_createLabelRoot:function(){return this._ctx.renderer.g().attr({"class":"dxm-area-label"}).append(this._ctx.labelRoot)},_adjustLabel:function(){var t=this,i=l(t._coords),n=t._label.text.getBBox(),r=-n.y-n.height/2;t._centroid=i.coords,t._areaSize=s(i.area),t._labelSize=[n.width,n.height],t._label.text.attr({y:r}),t._label.tracker.attr({x:n.x,y:n.y+r,width:n.width,height:n.height})},_locateLabel:function(){var n=this,t=n._ctx.projection.getPointCoordinates(n._centroid),i=n._ctx.projection.getSquareSize([n._areaSize,n._areaSize]);n._label.root.attr({translateX:t.x,translateY:t.y,visibility:n._labelSize[0]/i[0]<f&&n._labelSize[1]/i[1]<f?null:"hidden"})}}),n.viz.map._internal.AreasManager=e,n.viz.map._internal.Area=u,n.viz.map.dxVectorMap.prototype._factory.createAreasManager=function(n){return new e(n)}}(DevExpress,jQuery),function(n,t,i){function w(){}function b(){}function k(){}function d(){}function g(n,t){var i=ut(n);return l[i]?i:t}var r=Number,f=isFinite,o=Math,a=o.round,nt=o.max,tt=o.min,u=t.extend,s=t.each,it=n.utils,rt=it.isArray,ut=n.viz.utils.normalizeEnum,v="dxm-marker",ft="dxm-marker dxm-marker-hovered",et="dxm-marker dxm-marker-selected",y="dot",h="bubble",p="pie",ot="image",c=null,l={},st=n.viz.map.dxVectorMap.prototype._factory.MapItemsManager.inherit({_rootClass:"dxm-markers",_dataCategory:"markers",_eventNames:{click:"markerClick",hoverChanged:"markerHoverChanged",selectionChanged:"markerSelectionChanged"},_init:function(){var n=this;n.callBase.apply(n,arguments),n._context.getPieColors=function(t){return n._params.themeManager.getPieColors(n._commonSettings,t)},n._filter=n._params.renderer.shadowFilter("-40%","-40%","180%","200%",0,1,1,"#000000",.2)},_dispose:function(){this.callBase.apply(this,arguments),this._filter.dispose(),this._filter=null},_getCommonSettings:function(n){return this._params.themeManager.getCommonMarkerSettings(n)},_processOptions:function(n){var t=this;t._commonType=g(n&&n.type,c),t.callBase.apply(t,arguments),t._commonSettings._filter=t._filter.ref},_arrangeBubbles:function(){var o=this._handles,i=[],t,r=o.length,n,u=[],e,s,c;if(!this._commonSettings._bubble.sizeGroups){for(t=0;t<r;++t)n=o[t],n.item.type===h&&(i.push(n),f(n.proxy.value)&&u.push(n.proxy.value));for(e=tt.apply(null,u),s=nt.apply(null,u),c=s-e||1,t=0,r=i.length;t<r;++t)n=i[t],n.item.setSize(f(n.proxy.value)?(n.proxy.value-e)/c:0)}},_itemType:"marker",_initProxy:function(n,t){s(t,function(t,r){n[t]===i&&(n[t]=r)}),n._TYPE=g(t.type,null)},_getItemSettings:function(n,t){var r=n._TYPE||this._commonType,i=this._params.themeManager.getMarkerSettings(this._commonSettings,u({},n.style,t),r);return n.text=n.text||i.text,i},_createItem:function(n){return new l[n._TYPE||this._commonType]},_updateGrouping:function(){var i=this,t=i._commonType,u,f,n=i._commonSettings["_"+t];(t===y||t===h)&&(u=n.colorGroupingField,i._groupByColor(n.colorGroups,n.palette,function(n){return!n._TYPE||n._TYPE===t?n.attribute(u):NaN})),f=n.sizeGroupingField,i._performGrouping(n.sizeGroups,"size",function(n){return!n._TYPE||n._TYPE===t?n.value||n.attribute(f):NaN},function(t){for(var u=n.minSize>0?r(n.minSize):0,e=n.maxSize>=u?r(n.maxSize):0,i=0,f=[],i=0;i<t;++i)f.push((u*(t-i-1)+e*i)/(t-1));return f})},_updateLegendForPies:function(){var t=0;s(this._handles,function(n,i){var u=i.proxy,r;u._TYPE&&u._TYPE!==p||(r=u.values,r&&r.length>t&&(t=r.length))}),t>0&&this._params.dataExchanger.set(this._dataCategory,"color",n.viz.utils.map(this._context.getPieColors(t).slice(0,t),function(n,t){return{index:t,color:n}}))},_arrangeItems:function(){this._arrangeBubbles(),this._updateLegendForPies()}}),e=u({},n.viz.map._internal.mapItemBehavior,{_project:function(n,t){return n.projectPoint(t.coordinates)},_createRoot:function(){return this._ctx.renderer.g()},_update:function(n){var t=this;return t._root.attr({"class":v}).clear(),t._create(n,t._ctx.renderer,t._root),t},_transform:function(n,t){return n.getPointCoordinates(t)},_locate:function(n){this._root.attr({translateX:n.x,translateY:n.y})},onHover:function(){this._root.toForeground()},setDefaultState:function(){this._root.attr({"class":v}).toBackground(),this._applyDefault()},setHoveredState:function(){this._root.attr({"class":ft}),this._applyHovered()},setSelectedState:function(){this._root.attr({"class":et}).toForeground(),this._applySelected()},_createLabelRoot:function(){return this._root},_adjustLabel:function(){var n=this._label.text.getBBox(),t=a(-n.x+this._size/2)+2,i=a(-n.y-n.height/2)-1;this._label.text.attr({x:t,y:i}),this._label.tracker.attr({x:t+n.x-1,y:i+n.y-1,width:n.width+2,height:n.height+2})},_locateLabel:t.noop});u(w.prototype,e,{type:y,_create:function(n,t,i){var u=this,f=u._size=n.size>0?r(n.size):0,e=f,o=f+(n.selectedStep>0?r(n.selectedStep):0),h=e+(n.backStep>0?r(n.backStep):0),c=o+(n.backStep>0?r(n.backStep):0),s=f/2;u._dotDefault={cx:0,cy:0,r:s,stroke:n.borderColor,"stroke-width":n.borderWidth,fill:n.color,filter:n.shadow?n._filter:null},u._dotHovered={cx:0,cy:0,r:e/2,stroke:n.hoveredBorderColor,"stroke-width":n.hoveredBorderWidth,fill:n.hoveredColor},u._dotSelected={cx:0,cy:0,r:o/2,stroke:n.selectedBorderColor,"stroke-width":n.selectedBorderWidth,fill:n.selectedColor},u._backDefault={cx:0,cy:0,r:s,stroke:"none","stroke-width":0,fill:n.backColor,opacity:n.backOpacity},u._backHovered={cx:0,cy:0,r:h/2,stroke:"none","stroke-width":0,fill:n.backColor,opacity:n.backOpacity},u._backSelected={cx:0,cy:0,r:c/2,stroke:"none","stroke-width":0,fill:n.backColor,opacity:n.backOpacity},u._back=t.circle().sharp().attr(u._backDefault).data(u._ctx.dataKey,u._data).append(i),u._dot=t.circle().sharp().attr(u._dotDefault).data(u._ctx.dataKey,u._data).append(i)},_destroy:function(){this._back=this._dot=null},_applyDefault:function(){this._back.attr(this._backDefault),this._dot.attr(this._dotDefault)},_applyHovered:function(){this._back.attr(this._backHovered),this._dot.attr(this._dotHovered)},_applySelected:function(){this._back.attr(this._backSelected),this._dot.attr(this._dotSelected)}}),u(b.prototype,e,{type:h,_create:function(n,t,i){var u=this;u._minSize=n.minSize>0?r(n.minSize):0,u._maxSize=n.maxSize>u._minSize?r(n.maxSize):u._minSize,u.value=f(u._proxy.value)?r(u._proxy.value):null,u._default={stroke:n.borderColor,"stroke-width":n.borderWidth,fill:n.color,opacity:n.opacity},u._hovered={stroke:n.hoveredBorderColor,"stroke-width":n.hoveredBorderWidth,fill:n.hoveredColor,opacity:n.hoveredOpacity},u._selected={stroke:n.selectedBorderColor,"stroke-width":n.selectedBorderWidth,fill:n.selectedColor,opacity:n.selectedOpacity},u._bubble=t.circle(0,0,0).sharp().attr(u._default).data(u._ctx.dataKey,u._data).append(i),u.setSize(((n.size||u._maxSize)-u._minSize)/(u._maxSize-u._minSize))},_applyDefault:function(){this._bubble.attr(this._default)},_applyHovered:function(){this._bubble.attr(this._hovered)},_applySelected:function(){this._bubble.attr(this._selected)},setSize:function(n){var t=this,i=(t._minSize+n*(t._maxSize-t._minSize))/2;return t._default.r=t._hovered.r=t._selected.r=i,t._size=2*i,t._bubble.attr({r:i}),t}}),u(k.prototype,e,{type:p,_create:function(t,i,u){var e=this,a=(t.size>0?r(t.size):0)/2,c,o=0,l,h,s,w=0,v,y,p,b;for(e._size=2*a,e._pieDefault={opacity:t.opacity},e._pieHovered={opacity:t.hoveredOpacity},e._pieSelected={opacity:t.selectedOpacity},e._borderDefault={stroke:t.borderColor,"stroke-width":t.borderWidth},e._borderHovered={stroke:t.hoveredBorderColor,"stroke-width":t.hoveredBorderWidth},e._borderSelected={stroke:t.selectedBorderColor,"stroke-width":t.selectedBorderWidth},c=e._proxy.values,l=rt(c)?c.length:0,h=[];o<l;++o)s=r(c[o]),f(s)&&(h.push(s),w+=s);for(e._pie=i.g().attr(e._pieDefault),v=new n.viz.Translator1D(0,w,90,450),y=v.translate(0),b=e._ctx.getPieColors(h.length),s=0,o=0,l=h.length;o<l;++o)s+=h[o],p=v.translate(s),i.arc(0,0,0,a,y,p).attr({"stroke-linejoin":"round",fill:b[o]}).data(e._ctx.dataKey,e._data).append(e._pie),y=p;e._pie.append(u),e._border=i.circle(0,0,a).sharp().attr(e._borderDefault).data(e._ctx.dataKey,e._data).append(u)},_applyDefault:function(){this._pie.attr(this._pieDefault),this._border.attr(this._borderDefault)},_applyHovered:function(){this._pie.attr(this._pieHovered),this._border.attr(this._borderHovered)},_applySelected:function(){this._pie.attr(this._pieSelected),this._border.attr(this._borderSelected)}}),u(d.prototype,e,{type:ot,_create:function(n,t,i){var u=this,f=u._size=n.size>0?r(n.size):0,e=f+(n.hoveredStep>0?r(n.hoveredStep):0),o=f+(n.selectedStep>0?r(n.selectedStep):0);u._default={x:-f/2,y:-f/2,width:f,height:f},u._hovered={x:-e/2,y:-e/2,width:e,height:e},u._selected={x:-o/2,y:-o/2,width:o,height:o},u._image=t.image().attr(u._default).attr({href:u._proxy.url,location:"center"}).append(i),u._tracker=t.rect().attr(u._default).attr({stroke:"none","stroke-width":0,fill:"#000000",opacity:.0001}).data(u._ctx.dataKey,u._data).append(i)},_applyDefault:function(){this._image.attr(this._default),this._tracker.attr(this._default)},_applyHovered:function(){this._image.attr(this._hovered),this._tracker.attr(this._hovered)},_applySelected:function(){this._image.attr(this._selected),this._tracker.attr(this._selected)}}),s([w,b,k,d],function(n,t){c=c||t.prototype.type,l[t.prototype.type]=t}),n.viz.map.dxVectorMap.prototype._factory.createMarkersManager=function(n){return new st(n)}}(DevExpress,jQuery),DevExpress.MOD_VIZ_VECTORMAP=!0}