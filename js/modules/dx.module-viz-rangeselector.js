/*! 
* DevExtreme (Range Selector)
* Version: 15.2.5-pre
* Build date: Dec 25, 2015
*
* Copyright (c) 2012 - 2015 Developer Express Inc. ALL RIGHTS RESERVED
* EULA: https://www.devexpress.com/Support/EULAs/DevExtreme.xml
*/
"use strict";if(!window.DevExpress||!DevExpress.MOD_VIZ_RANGESELECTOR){if(!window.DevExpress||!DevExpress.MOD_VIZ_CORE)throw Error("Required module is not referenced: viz-core");(function(n,t,i){function p(n){return{startValue:n.startValue,endValue:n.endValue}}function g(n,t,i){var r=n.text(t,lt,lt).css(dt(i)).append(n.root),u=r.getBBox();return r.remove(),u}function bt(n,t,i,u){var f,o=n[i],h=t.parser||function(){return null},s=t[i];return r(o)&&(f=h(o)),r(f)?s=f:u("E2203",[i]),e.utils.truncateSelectedRange(s,t)}function vi(n){return{top:n.top,bottom:n.bottom,left:n.left,right:n.right,width:n.width-n.left-n.right,height:n.height-n.top-n.bottom}}function yi(n,t,i){return t?{startValue:bt(t,n,k,i),endValue:bt(t,n,ft,i)}:p(n)}function pi(n,t,u,f){var e,s,o=n._categoriesInfo;!t||t.isEmpty()||u.stubData||(e=f.bounds,u.addRange(e),n.startValue=u.invert?e.maxVisible:e.minVisible,n.endValue=u.invert?e.minVisible:e.maxVisible),o&&(n.startValue=o.start,n.endValue=o.end),n.type!==c&&(s=l(n.startValue)&&l(n.endValue)&&n.startValue.getTime()===n.endValue.getTime()||n.startValue===n.endValue),n.isEmpty=ai(n.startValue,n.endValue)||s,n.isEmpty?n.startValue=n.endValue=i:(n.minorTickInterval=f.minorTickInterval,n.tickInterval=f.tickInterval,n.valueType!==v||r(n.label.format)||(n.label.format=n.type===c?h.getDateFormatByTicks(f.ticks):n.marker.visible?w.getDateUnitInterval(n.tickInterval):h.getDateFormatByTickInterval(n.startValue,n.endValue,n.tickInterval)))}function wi(n,t,u){var o=0,f=nt.correctValueType(tt(n.valueType)),e,s=function(t,f){var e=t===k?"start":"end";r(n[t])&&(o=f(n[t]),r(o)?n[t]=o:(n[t]=i,u("E2202",[e])))};return t&&(f=t.getCalculatedValueType()||f),f||(f=pt(n.startValue,n.endValue)||"numeric"),(f===y||n.categories)&&(n.type=c,f=y),n.valueType=f,e=nt.getParser(f),s(k,e),s(ft,e),wt(n,ti,u),n.type||(n.type="continuous"),n.tickInterval===i&&(n.tickInterval=n.majorTickInterval),n.minorTick.visible&&(n.minorTick.visible=n.showMinorTicks),n.parser=e,n}var e=t.viz.rangeSelector={},s=t.require("/utils/utils.common"),kt=t.require("/utils/utils.math"),w=t.require("/utils/utils.date"),u=t.viz,b=u.utils,dt=b.patchFontOptions,nt=u.parseUtils,tt=b.normalizeEnum,h=t.require("/utils/utils.formatHelper"),gt=24,it=4,rt=". . .",r=s.isDefined,o=s.isNumber,l=s.isDate,ni=Math.max,ut=Math.ceil,a=n.noop,k="startValue",ft="endValue",v="datetime",f="selectedRange",c="discrete",y="string",et=f+"Changed",ot="containerBackgroundColor",st="sliderMarker",ht="background",ct="logarithmic",lt=-1e3,ti=10;e.consts={emptySliderMarkerText:rt,pointerSize:it};var at=e.formatValue=function(n,t){var i={value:n,valueText:h.format(n,t.format,t.precision)};return String(s.isFunction(t.customizeText)?t.customizeText.call(i,i):i.valueText)},ii=function(n,t){return{x:u.CoreFactory.createTranslator2D(n.arg,t,{isHorizontal:!0}),y:u.CoreFactory.createTranslator2D(n.val,t)}},ri=function(n,t,i){return{left:t.left,top:t.top,right:n.width-t.width-t.left,bottom:n.height-t.height-t.top+i,width:n.width,height:n.height}},vt=function(n,t,r){var u=t===i?rt:at(t,r),f=g(n,u,r.font);return ut(f.height)+2*r.paddingTopBottom+it},yt=function(n,t,i){var r=at(t,i.label),u=g(n,r,i.label.font);return ut(u.width/2)},ui=function(n,t,i,r,u,f){var e={left:t.left+i.left,top:t.top+i.top,width:t.width-i.left-i.right,height:f?gt+r:t.height-i.top-i.bottom};return e.width<=0&&(e.width=1),e},fi=function(n){var t,i,r;if(o(n))t=i=r=n;else if(n)o(n.height)&&(r=n.height),o(n.width)?t=i=n.width:n.width&&(o(n.width.left)&&(t=n.width.left),o(n.width.right)&&(i=n.width.right));else return null;return{widthLeft:t,widthRight:i,height:r}},ei=function(n,t,r,u,f){var c,l=0,a=0,v,e=0,o=0,h,s;return f=f||{},s=fi(u.placeholderSize),s&&f.left===i&&f.right===i?(e=s.widthLeft,o=s.widthRight):(e=f.left,o=f.right),h=s&&u.placeholderHeight===i?s.height:u.placeholderHeight,u.visible&&(c=vt(n,r.startValue,u),v=vt(n,r.endValue,u),h===i&&(h=ni(c,v))),r.label.visible&&(l=yt(n,r.startValue,r),a=yt(n,r.endValue,r)),e=e!==i?e:l,o=(o!==i?o:a)||1,{left:e,right:o,top:h||0,bottom:0}},pt=function(t,i){var u=n.type(t),f=n.type(i),r=function(n){return u===n||f===n};return r("date")?v:r("number")?"numeric":r(y)?y:""},oi=function(n){return n.valueType===v&&n.marker.visible},si=function(n,t){var i=t.minorTickInterval||t.tickInterval;t.valueType==="datetime"&&(i=w.dateToMilliseconds(i)),n.arg.addRange({interval:i})},d=function(n){return new u.Range(n)},wt=function(n,t,r){var u;n&&(u=n.logarithmBase,n.type===ct&&u<=0||u&&!o(u)?(n.logarithmBase=t,r("E2104")):n.type!==ct&&(n.logarithmBase=i))},hi=function(n,t,i){var u,f="0",e={value:0,valueText:f},r=t.label,o=t.marker,h=r.customizeText,c=t.placeholderHeight,l=s.isFunction(h)?h.call(e,e):f,a=r.visible;return c?c:(u=g(n,l,r.font),(a?r.topIndent+u.height:0)+(i?o.topIndent+o.separatorHeight:0))},ci=function(n,t,i,r,f,e){var s=n._categoriesInfo,o=u.CoreFactory.createTickManager({axisType:n.type,dataType:n.valueType},{min:f,max:e,screenDelta:t,customTicks:s&&s.categories},{labelOptions:{},boundCoef:1,minorTickInterval:n.minorTickInterval,tickInterval:n.tickInterval,incidentOccured:i,base:n.logarithmBase,showMinorTicks:!0,withMinorCorrection:!0,stick:r!==!1}),h=o.getTicks(!0);return{tickInterval:o.getTickInterval(),minorTickInterval:o.getMinorTickInterval(),bounds:o.getTickBounds(),ticks:h}},li=function(n,t){var o,s,v=!1,p,u=t.startValue,f=t.endValue,a,e,h=n?n.getBoundRange():{arg:d(),val:d({isValueRange:!0})},y;return t.type===c&&(y=d({categories:t.categories||(!n&&u&&f?[u,f]:i),minVisible:u,maxVisible:f}),y.addRange(h.arg),h.arg=y,a=y.categories||[],t._categoriesInfo=e=b.getCategoriesInfo(a,u||a[0],f||a[a.length-1])),r(u)&&r(f)?(v=e?e.inverted:u>f,o=e?e.start:v?f:u,s=e?e.end:v?u:f):r(u)||r(f)?(o=u,s=f):e&&(o=e.start,s=e.end),p=l(o)&&l(s)&&o.getTime()===s.getTime(),o===s||p||h.arg.addRange({invert:v,min:o,max:s,minVisible:o,maxVisible:s,dataType:t.valueType}),h.arg.addRange({base:t.logarithmBase,axisType:t.type}),h.arg.isDefined()||(p&&(t.valueType="numeric"),h.arg.setStubData(t.valueType)),h},ai=function(n,t){return!r(n)||!r(t)};t.require("/componentRegistrator")("dxRangeSelector",e,u.BaseWidget.inherit({_eventsMap:n.extend({},u.BaseWidget.prototype._eventsMap,{onSelectedRangeChanged:{name:et}}),_setDeprecatedOptions:function(){this.callBase.apply(this,arguments),n.extend(this._deprecatedOptions,{"sliderMarker.padding":{since:"15.1",message:"Use the 'paddingTopBottom' and 'paddingLeftRight' options instead"},"sliderMarker.placeholderSize":{since:"15.1",message:"Use the 'placeholderHeight' and 'indent' options instead"},"scale.majorTickInterval":{since:"15.2",message:"Use the 'tickInterval' options instead"},"scale.showMinorTicks":{since:"15.2",message:"Use the 'minorTick.visible' options instead"}})},_rootClassPrefix:"dxrs",_rootClass:"dxrs-range-selector",_invalidatingOptions:["scale","selectedRangeColor","containerBackgroundColor","sliderMarker","sliderHandle","shutter","background","behavior","chart","indent"],_dataIsReady:function(){return!this._hasChart||this._dataSource.isLoaded()},_init:function(){this.callBase.apply(this,arguments),this._updateDataSource()},_initCore:function(){this._renderer.root.css({"touch-action":"pan-y","-ms-touch-action":"pan-y"}),this._rangeContainer=new e.RangeContainer({renderer:this._renderer})},_getDefaultSize:function(){return{width:400,height:160}},_disposeCore:function(){this._rangeContainer.dispose(),this._rangeContainer=null},_createThemeManager:function(){return new e.ThemeManager},_render:function(){var n=this,t=n._renderer,i;t.lock(),n.__isResizing&&(i=t.animationEnabled(),t.updateAnimationOptions({enabled:!1})),n._updateRangeContainer(),n.__isResizing&&t.updateAnimationOptions({enabled:i}),t.unlock(),!n.__isResizing&&n._dataIsReady()&&n.hideLoadingIndicator(),n._drawn()},_handleChangedOptions:function(t){var i=this,r=i._options[f],u=n.extend({},t[f]);i.callBase.apply(i,arguments),"dataSource"in t&&(i._options[f]=null,i._updateDataSource()),f in t&&i.setSelectedRange(n.extend({},r,t[f],u))},_applySize:function(){this._initialized&&(this.__isResizing=!0,this._render(!0),this.__isResizing=!1)},_dataSourceChangedHandler:function(){this._initialized&&this._render()},_updateRangeContainer:function(){var n=this,s,t,e,h,o=n._title.getVerticalCuttedSize(vi(n._canvas)),c,y,g,l=n.option("chart"),w=n._getOption("shutter"),a=n._getOption(ht),b,i,nt,tt,u,k,v,d;n._isUpdating=!0,t=n._createSeriesDataSource(l),n._hasChart=t&&t.isShowChart(),b=!(n._hasChart||a&&a.image&&a.image.url),t&&(v=t.getThemeManager(),wt(l&&l.valueAxis,v.getOptions("valueAxis").logarithmBase,n._incidentOccured)),i=n._scaleOptions=wi(n._getOption("scale"),t,n._incidentOccured),e=li(t,i),u=e.arg,nt=r(u.minVisible)?u.minVisible:u.min,tt=r(u.maxVisible)?u.maxVisible:u.max,k=ci(i,o.width,this._incidentOccured,u.stick,nt,tt),pi(n._scaleOptions,t,e.arg,k),si(e,i),y=n._prepareSliderMarkersOptions(o.width,k),g=yi(n._scaleOptions,n.option(f),n._incidentOccured),c=ei(n._renderer,o,i,y,n.option("indent")),h=hi(n._renderer,i,oi(i)),s=ui(n._canvas,o,c,h,n._title,b),n._applyTitleLayout(s,c),d=ii(e,ri(o,s,h)),t&&t.adjustSeriesDimensions(d),w.color=w.color||n._getOption(ot,!0),i.minorTickInterval=i.isEmpty?0:n._getOption("scale").minorTickInterval,n._rangeContainer.update({canvas:s,isCompactMode:b,scaleLabelsAreaHeight:h,indents:c,translators:d,selectedRange:g,scale:i,behavior:n._getOption("behavior"),background:a,chart:l,seriesDataSource:t,sliderMarker:y,sliderHandle:n._getOption("sliderHandle"),shutter:w,selectedRangeColor:n._getOption("selectedRangeColor",!0),selectedRangeChanged:function(t,i){n.option(f,t),i||n._eventTrigger(et,p(t))},setSelectedRange:function(t){n.setSelectedRange(t)}}),n._isUpdating=!1,v&&v.dispose()},_applyTitleLayout:function(n,t){var i=this._title.getLayoutOptions(),r=this._canvas;i&&this._title.position({at:i.position,my:i.position,of:{getLayoutOptions:function(){return{width:n.width+t.left+t.right,height:n.height+i.height+t.top+t.bottom,x:r.left,y:r.top}}}})},_createSeriesDataSource:function(t){var i=this,f,o=i._dataSource.items(),r=i._getOption("scale"),u=r.valueType,s=i.option(ht);return u||(u=pt(r.startValue,r.endValue)),(o||t&&t.series)&&(t=n.extend({},t,{theme:i.option("theme")}),f=new e.SeriesDataSource({renderer:i._renderer,dataSource:o,valueType:tt(u),axisType:r.type,chart:t,dataSourceField:i.option("dataSourceField"),backgroundColor:s&&s.color,incidentOccured:i._incidentOccured,categories:r.categories})),f},_prepareSliderMarkersOptions:function(n,t){var e=this,f=e._scaleOptions,s=t.minorTickInterval,p=t.tickInterval,a=f.endValue,y=f.startValue,u=e._getOption(st),b,l=e.option(st)||{},k=f.type===c,d=f.valueType===v;return u.borderColor=e._getOption(ot,!0),u.format||(!e._getOption("behavior").snapToTicks&&o(f.startValue)&&(b=Math.abs(a-y),u.format="fixedPoint",u.precision=kt.getSignificantDigitPosition(b/n)),d&&!k&&(f.marker.visible?u.format=w.getDateUnitInterval(r(s)&&s!==0?s:p):r(y)&&r(a)&&(u.format=h.getDateFormatByTickInterval(y,a,s!==0?s:p))),d&&k&&(u.format=h.getDateFormatByTicks(t.ticks))),l.padding!==i&&l.paddingLeftRight===i&&l.paddingTopBottom===i&&(u.paddingLeftRight=u.paddingTopBottom=l.padding),u},getSelectedRange:function(){return p(this._rangeContainer.getSlidersContainer().getSelectedRange())},setSelectedRange:function(n){var t;!this._isUpdating&&n&&(t=this._rangeContainer.getSlidersContainer().getSelectedRange(),t&&t.startValue===n.startValue&&t.endValue===n.endValue||this._rangeContainer.getSlidersContainer().setSelectedRange(n))},resetSelectedRange:function(n){var t=p(this._scaleOptions);t.blockSelectedRangeChanged=n,this.setSelectedRange(t)},render:function(n){var t=this;return t.__isResizing=n,t.callBase.apply(t,arguments),t.__isResizing=!1,t},_initTooltip:a,_setTooltipRendererOptions:a,_setTooltipOptions:a,_hideTooltip:a}))})(jQuery,DevExpress),function(n,t,i){var u=t.require("/utils/utils.common"),e=t.require("/utils/utils.math"),f=t.require("/utils/utils.date").addInterval,r=function(n,t){var r,i,u;if(!n||n.length===0)return-1;for(r=0,i=n.length-1;i-r>1;)u=r+i>>1,n[u]>t?i=u:r=u;return n[i]<=t?i:r},o=function(n,t){var i=r(n,t);return n&&i>=0&&i<n.length?n[i]:t},s=function(n,t){var i=r(n,t);return n&&i>=0&&i<n.length?(i+1<n.length&&(u.isDate(t)?n[i+1].getTime()-t.getTime()<t.getTime()-n[i].getTime()&&i++:n[i+1]-t<t-n[i]&&i++),n[i]):t},h=function(n,t){var i=r(n,t);return n&&i>=0&&i<n.length?(n[i]<t&&i+1<n.length&&i++,n[i]):t},c=function(n){var t=0;return n.pageX?t=n.pageX:n.originalEvent&&n.originalEvent.pageX&&(t=n.originalEvent.pageX),n.originalEvent&&n.originalEvent.touches&&(n.originalEvent.touches.length>0?t=n.originalEvent.touches[0].pageX:n.originalEvent.changedTouches.length>0&&(t=n.originalEvent.changedTouches[0].pageX)),t},l=function(r,f){var l=f.type==="discrete",o=l?f.categories||f._categoriesInfo.categories:i,e=f.startValue,s=f.endValue,h,c,a;return(o&&(o=t.viz.utils.map(o,function(n){return u.isDefined(n)?n.valueOf():null})),l)?(a=n.inArray(r.valueOf(),o),a<0?e:r):(h=e>s?s:e,c=e>s?e:s,r<h&&(r=h),r>c&&(r=c),r)},a=function(n){return{x:n.left,y:n.top,width:n.width,height:n.height}};t.viz.rangeSelector.utils={findLessOrEqualValue:o,findNearValue:s,findGreaterOrEqualValue:h,getEventPageX:c,truncateSelectedRange:l,canvasOptionsToRenderOptions:a,trackerSettings:{fill:"grey",stroke:"grey",opacity:.0001},animationSettings:{duration:250},addInterval:function(n,t,i,r){var u,h=r.type,o=h==="logarithmic"&&r.logarithmBase,s;return o?(s=f(e.getLog(n,o),t,i),u=Math.pow(o,s)):u=f(n,t,i),u}}}(jQuery,DevExpress),function(n,t,i){function s(n,t){return{left:n.left-t.left,top:n.top-t.top,width:n.width+t.right+t.left,height:n.height+t.bottom+t.top}}function h(t,r,u){function f(n){var r=n.target.range,f=t.minRange?e.addInterval(r.startValue,t.minRange):i,o=t.maxRange?e.addInterval(r.startValue,t.maxRange):i;f&&f>r.endValue||o&&o<r.endValue||u(r)}n.each(r,function(n,t){t.on("dxpointerdown",f)})}function c(n,t){var i=n.scale;return i.label.overlappingBehavior={mode:i.useTicksAutoArrangement?"enlargeTickInterval":"ignore"},i.marker.label.font=i.label.font,i.color=i.marker.color=i.tick.color,i.opacity=i.marker.opacity=i.tick.opacity,i.width=i.marker.width=i.tick.width,i.placeholderSize=(i.placeholderHeight||0)+t,i.argumentType=i.valueType,i.visible=n.isCompactMode,i.minorTick.showCalculatedTicks=i.isHorizontal=i.withoutOverlappingBehavior=i.stick=!0,n.isCompactMode||(i.minorTick.length=i.tick.length=n.canvas.height-n.scaleLabelsAreaHeight),i.label.indentFromAxis=i.label.topIndent+t,i.setSelectedRange=n.setSelectedRange,i}function u(n){var i=this,u=n.renderer,f;i._clipRect=u.clipRect(),f=u.g().attr({"class":"rangeContainer",clipId:i._clipRect.id}).append(u.root),i._viewClipRect=u.clipRect(),i._rangeViewGroup=u.g().attr({"class":"dxrs-view",clipId:i._viewClipRect.id}).append(f),i._slidersGroup=u.g().attr({"class":"dxrs-slidersContainer"}).append(f),i._scaleGroup=u.g().attr({"class":"dxrs-scale"}).append(f),i._trackersGroup=u.g().attr({"class":"dxrs-trackers"}).append(f),i._slidersContainer=new r.SlidersContainer({renderer:u,root:i._slidersGroup}),i._rangeView=new r.RangeView({renderer:u,root:i._rangeViewGroup}),i._axis=new t.viz.axes.Axis({axesContainerGroup:i._scaleGroup,renderer:u,axisType:"xyAxes",drawingType:"linear",widgetClass:"dxrs",axisClass:"range-selector"})}var r=t.viz.rangeSelector,f=r.utils.canvasOptionsToRenderOptions,e=t.require("/utils/utils.date"),o=n.extend;u.prototype={constructor:u,dispose:function(){var n=this;n._slidersContainer.dispose(),n._axis.dispose(),n._slidersContainer=n._rangeView=n._axis=null},getSlidersContainer:function(){return this._slidersContainer},_updateClipRects:function(n,t){var i=this;i._clipRect.attr(f(s(n.canvas,n.indents))),i._viewClipRect.attr(f(t))},update:function(n){var t=this,u=n.scaleLabelsAreaHeight,i=n.canvas,f=i.height,r={left:i.left,top:i.top,width:i.width,height:f>=u?f-u:0};t._updateClipRects(n,r),t._updateRangeView(n,r),t._updateAxis(n,r),t._updateSliderContainer(n,r)},_updateAxis:function(n,t){var i=this,r=n.canvas,u=n.translators,e=(2*r.top+r.height-n.scaleLabelsAreaHeight)/2,f;i._axis.updateOptions(c(n,t.height+r.top-e-Math.ceil(n.scale.width/2))),i._axis.delta={bottom:e-u.y.translateSpecialCase("canvas_position_bottom")},i._axis.setTranslator(u.x,u.y),i._axis.draw(),f=i._axis.getMarkerTrackers(),f&&h(n.scale,f,n.setSelectedRange)},_updateSliderContainer:function(n,t){var r=this,e=r._axis.getTranslator(),i=e.getBusinessRange(),u=i.invert,f=n.scale;r._slidersContainer.update(o({type:i.axisType,startValue:u?i.maxVisible:i.minVisible,endValue:u?i.minVisible:i.maxVisible,categories:i.categories,inverted:u,fullTicks:r._axis.getFullTicks(),maxRange:f.maxRange,minRange:f.minRange,isEmpty:f.isEmpty},n,{canvas:t,translator:e})),r._slidersContainer.appendTrackers(r._trackersGroup)},_updateRangeView:function(n,t){n.isCompactMode||this._rangeView.update(o({},n,{canvas:t}))}},r.RangeContainer=u}(jQuery,DevExpress),function(n,t,i){function c(n,t){var i=t.startValue&&t.startValue.valueOf(),r=t.endValue&&t.endValue.valueOf(),u=n.startValue&&n.startValue.valueOf(),f=n.endValue&&n.endValue.valueOf();return r===f&&i===u}function o(t,r,u){(u===i||n.type(t[r])===n.type(u))&&(t.selectedRange[r]=u)}function f(n){var t=this;t._params=n,t._controller=new r.SlidersController(n),t._eventsManager=new r.SlidersEventsManager(n.renderer,t._controller,function(n){t._processSelectionChanged(n)}),t._lastSelectedRange={}}var r=t.viz.rangeSelector,s=t.require("/utils/utils.support").pointer,h=t.viz.utils.normalizeEnum,u=r.utils,e=u.trackerSettings;f.prototype={constructor:f,_processSelectionChanged:function(n,t){var i=this,r=i.getSelectedRange(),u=!c(r,i._lastSelectedRange);(!n||h(i._options.behavior.callSelectedRangeChanged)==="onmoving")&&u&&(i._updateLastSelectedRange(r,t),i._options.selectedRangeChanged(r),!n&&u&&i.setSelectedRange(r))},_updateLastSelectedRange:function(n){var t=n||this._options.selectedRange;this._lastSelectedRange={startValue:t.startValue,endValue:t.endValue}},update:function(n){var t=this,i=n.isEmpty;t._options=n,t._controller.applyOptions(n),t._eventsManager.applyOptions({behavior:n.behavior}),s&&t._params.renderer.root.css({msTouchAction:"pinch-zoom"}),t._drawAreaTracker(n),t._eventsManager.initialize(),t._eventsManager.setEnabled(!i),i||t._updateSelectedView(n),t._controller.applySelectedRange(i?{}:n.selectedRange),t._controller.applyPosition(),t._processSelectionChanged(!1,n.selectedRange.blockSelectedRangeChanged)},_drawAreaTracker:function(n){var t=n.canvas,i=this._params.renderer,r=this._params.root,u=i.rect(t.left,t.top,t.width,t.height).attr(e).append(r),f=i.rect(t.left,t.top,t.width,t.height).attr(e).css({cursor:"pointer"}).append(r);this._controller.setAreaTrackers(u,f)},_updateSelectedView:function(n){var t=this,r=n.canvas,f={"stroke-width":3,stroke:n.selectedRangeColor,sharp:"v"},e=r.top+r.height/2,i=t._selectedView,o=t._selectedViewAppended,u=t._controller;n.isCompactMode?(i?i.attr(f):(t._selectedView=i=t._params.renderer.path([r.left,e,r.left,e],"line").attr(f),u.setSelectedView(i)),o||(i.append(t._params.root),u.removeShutters(),t._selectedViewAppended=!0)):(i&&o&&(i.remove(),t._selectedViewAppended=!1),u.appendShutters())},dispose:function(){this._eventsManager.dispose(),this._controller.dispose(),this._eventsManager=null},getSelectedRange:function(){return this._controller.getSelectedRange()},setSelectedRange:function(n){var r=this,t=r._options,f,e,i=t.selectedRange;n&&(f=n.startValue,e=n.endValue),o(t,"startValue",f),o(t,"endValue",e),i.startValue=u.truncateSelectedRange(i.startValue,t),i.endValue=u.truncateSelectedRange(i.endValue,t),r._controller.applySelectedRange(i),r._controller.applyPosition(),r._processSelectionChanged(!1,n&&n.blockSelectedRangeChanged)},appendTrackers:function(n){this._controller.appendTrackers(n)}},r.SlidersContainer=f}(jQuery,DevExpress),function(n,t,i){function e(n){var t=this._sliders=[new f.Slider(n,r),new f.Slider(n,u)];t[r].setAnotherSlider(t[u]),t[u].setAnotherSlider(t[r])}var f=t.viz.rangeSelector,r=0,u=1,o="discrete";e.prototype={constructor:e,_callMethodForBothSliders:function(n,t){this._sliders[r][n](t),this._sliders[u][n](t)},_applySelectedRangePosition:function(n){var t=this,i=t._options,e=i.canvas,o=e.top+e.height/2,c=i.behavior.animationEnabled&&!n,s=t._sliders[r].getPosition(),h=[s,o,s+t.getSelectedRangeInterval(),o],u=t._selectedView;u&&i.isCompactMode&&(c?u.animate({points:h},f.utils.animationSettings):u.stopAnimation().attr({points:h}))},setAreaTrackers:function(n,t){this._areaTracker=n,this._selectedAreaTracker=t},applyOptions:function(n){var i=this,t=null;i._options=n,i._foregroundSliderIndex=u,i._callMethodForBothSliders("update",n),n.behavior.snapToTicks&&n.type!==o&&(t=n.fullTicks,t[0]>t[t.length-1]&&t.reverse()),i._callMethodForBothSliders("setAvailableValues",t)},processDocking:function(n){var t=this;n!==i?t._sliders[n].processDocking():t._callMethodForBothSliders("processDocking"),t.setTrackersCursorStyle("default"),t.applyAreaTrackersPosition(),t._applySelectedRangePosition()},setSelectedView:function(n){this._selectedView=n},getSelectedRangeInterval:function(){return this._sliders[u].getPosition()-this._sliders[r].getPosition()},moveSliders:function(n,t){var i=this._sliders[r];i.setPosition(i.getPosition()+n,!1,t),this.applyPosition(!0)},moveSlider:function(n,t,i,u,f,e){var o=this,s=o._sliders[n],l=s.getAnotherSlider(),a=l.getPosition(),h,c;s.canSwap()&&(n===r?i>a:i<a)&&(c=t,t||Math.abs(u)>=Math.abs(f)&&(c=!0,h=u*f<0?1:-1,i=i+h*2*f,e(-h*f)),c&&(o.swapSliders(),l.applyPosition(!0))),s.setPosition(i,!0),s.applyPosition(!0),o.applyAreaTrackersPosition(),o._applySelectedRangePosition(!0),o.setTrackersCursorStyle("w-resize")},applySelectedAreaCenterPosition:function(n){var t=this,u=t._sliders[r],i=t.getSelectedRangeInterval(),f=i/2;u.setPosition(n-f,!1,i),t.applyPosition(),t.processDocking()},endSelection:function(){var n=this,t=n._sliders[r],i=n._sliders[u],f=t.getCloudBorder()>i.getCloudBorder();n._callMethodForBothSliders("setOverlapped",f)},processManualSelection:function(n,t,i){var e=n<t,o=+!e,u=+e,f=[Math.min(n,t),Math.max(n,t)],r=this._sliders[u],s=this._sliders[o];r.setPosition(f[u]),s.setPosition(f[o]),r.setPosition(f[u],!0),r.startEventHandler(i),s.processDocking(),r.applyPosition(!0)},applySelectedRange:function(n){var s=this,h=s._options,c=h.inverted,l=s._sliders[r],a=s._sliders[u],i=n.startValue,f=n.endValue,e,v=function(n,t,i){(i?a:l).setValue(n),(i?l:a).setValue(t)};h.type!==o?v(i,f,!c&&i>f||c&&i<f):(e=t.viz.utils.getCategoriesInfo(h.categories,i,f),v(e.start,e.end,e.inverted^c))},getSelectedRange:function(){return{startValue:this._sliders[r].getValue(),endValue:this._sliders[u].getValue()}},swapSliders:function(){this._sliders.reverse(),this._callMethodForBothSliders("changeLocation")},applyAreaTrackersPosition:function(){var n=this,e=n.getSelectedRange(),t=n._options,i=t.canvas,o=n._sliders[r].getPosition(),s=n._sliders[u].getPosition()-o,h={cursor:t.endValue-t.startValue==e.endValue-e.startValue?"default":"pointer"};n._selectedAreaTracker.attr({x:o,width:s<0?0:s,y:i.top,height:i.height}).css(h),n._areaTracker.attr(f.utils.canvasOptionsToRenderOptions(i))},applyPosition:function(n){var t=this;t._callMethodForBothSliders("applyPosition",n),t.applyAreaTrackersPosition(),t._applySelectedRangePosition(n)},toForeground:function(n){var t=n.getIndex();this._foregroundSliderIndex!==t&&(n.toForeground(),this._foregroundSliderIndex=t)},appendTrackers:function(n){var t=this;t._areaTracker&&t._selectedAreaTracker&&(t._areaTracker.append(n),t._selectedAreaTracker.append(n)),t._callMethodForBothSliders("appendTrackers",n)},getSlider:function(n){return this._sliders[n]},getAreaTracker:function(){return this._areaTracker},getSelectedAreaTracker:function(){return this._selectedAreaTracker},setTrackersCursorStyle:function(n){n={cursor:n},this._selectedAreaTracker.css(n),this._areaTracker.css(n)},appendShutters:function(){this._callMethodForBothSliders("appendShutter")},removeShutters:function(){this._callMethodForBothSliders("removeShutter")},dispose:function(){this._callMethodForBothSliders("dispose")}},f.SlidersController=e}(jQuery,DevExpress),function(n,t,i){var e=t.viz.rangeSelector,s=t.require("/ui/events/pointer/ui.events.pointer"),a=10,h=0,v=1,y=t.require("/ui/events/ui.events.utils"),c=y.addNamespace,l,p=e.utils,r=p.getEventPageX,w=0;e.events={start:s.down,move:s.move,end:s.up};var u=function(n){var r=n||window.event,t=r.originalEvent,f=r.touches,u=t?t.pointerType:!1,e=t?t.touches:!1,o=r.which===i&&r.button===1,s=t&&u!==i&&(u===(t.MSPOINTER_TYPE_TOUCH||"touch")||u===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&t.buttons===1),h=o||r.which===1,c=f&&f.length>0||e&&e.length>0;return h||s||c},o=function(n){var t=n.originalEvent,i=n.touches,r=t?t.touches:!1;return i&&i.length>1||r&&r.length>1||null},f=function(n){return n&&n.type&&n.type.indexOf("touch")===0};l=e.SlidersEventsManager=function(n,t,i){var r=this,u=r._uniqueNS="dx-range-selector_"+w++,f=e.events;r._renderer=n,r._slidersController=t,r._processSelectionChanged=i,r._enabled=!0,r._eventsNames={start:c(f.start,u),move:c(f.move,u),end:c(f.end,u)}},l.prototype={constructor:l,_initializeSliderEvents:function(t){var h=this,v,e=h._slidersController,a=h._processSelectionChanged,i=e.getSlider(t),y,c,s,p=function(){s&&(s=!1,e.endSelection(),e.processDocking(),a(!1))},w=function(n){var t,l,p=h._renderer.getRootOffset().left,w,b=i.getIndex();v===f(n)&&(!u(n,!0)&&s?(s=!1,e.processDocking(),a(!1)):s&&(o(n)||n.preventDefault(),t=r(n),w=t-c-p,l=t-i.getPosition()-p,e.moveSlider(b,y,w,l,c,function(n){c=n}),a(!0)),e.endSelection())},l=h._eventsNames;i.startEventHandler=function(n){h._enabled&&u(n)&&!s&&(y=this===i.getSliderTracker().element,s=!0,v=f(n),c=r(n)-i.getPosition()-h._renderer.getRootOffset().left,o(n)||(n.stopPropagation(),n.preventDefault()))};i.on(l.move,function(){e.toForeground(i)});i.on(l.start,i.startEventHandler);n(document).on(l.end,p).on(l.move,w)},_initializeAreaEvents:function(){var t=this,c,e=t._slidersController,s=t._processSelectionChanged,l=e.getAreaTracker(),i=!1,o,v=function(n){var u;i&&(u=r(n),t._options.behavior.moveSelectedRangeByClick&&Math.abs(o-u)<a&&e.applySelectedAreaCenterPosition(u-t._renderer.getRootOffset().left),i=!1,e.endSelection(),s(!1))},y=function(n){var h,l,v,y=t._renderer.getRootOffset().left;c===f(n)&&(i&&!u(n)&&(i=!1,s(!1)),i&&(h=r(n),t._options.behavior.manualRangeSelectionEnabled&&Math.abs(o-h)>=a&&(l=o-y,v=h-y,e.processManualSelection(l,v,n),i=!1,s(!0))))},h=t._eventsNames;l.on(h.start,function(n){t._enabled&&u(n)&&!i&&(i=!0,c=f(n),o=r(n))});n(document).on(h.end,v).on(h.move,y)},_initializeSelectedAreaEvents:function(){var e=this,l,t=e._slidersController,s=e._processSelectionChanged,y=t.getSelectedAreaTracker(),i=!1,a,v,p=function(){i&&(i=!1,t.processDocking(),s(!1))},w=function(n){var e,c;l===f(n)&&(i&&!u(n)&&(i=!1,t.processDocking(),s(!1)),i&&(o(n)||n.preventDefault(),c=r(n),e=c-t.getSlider(h).getPosition()-a,t.moveSliders(e,v),s(!0)),t.endSelection())},c=e._eventsNames;y.on(c.start,function(n){e._enabled&&u(n)&&!i&&(i=!0,l=f(n),a=r(n)-t.getSlider(h).getPosition(),v=t.getSelectedRangeInterval(),o(n)||(n.stopPropagation(),n.preventDefault()))});n(document).on(c.end,p).on(c.move,w)},applyOptions:function(n){this._options=n},dispose:function(){n(document).off("."+this._uniqueNS)},initialize:function(){var n=this;n._initializeSelectedAreaEvents(n),n._initializeAreaEvents(),n._initializeSliderEvents(h),n._initializeSliderEvents(v)},setEnabled:function(n){this._enabled=n}}}(jQuery,DevExpress),function(n,t,i){function k(n,t,i){return Math.abs(t-n)<i}function d(n,t){var i=n.g().attr({"class":"slider"}).append(t),r=n.path([],"line").append(i);return i.setColors=function(n,t){r._colors=[t,n]},i.setValid=function(n){r.attr({stroke:r._colors[Number(!!n)]})},i.setCanvasHeight=function(n){r._height=n},i.updateHeight=function(){r.attr({points:[0,0,0,r._height]})},i.applyOptions=function(n){r.attr(n)},i}function g(n){var t=n.g().attr({"class":"sliderTracker"}),i=n.rect().attr(u.trackerSettings).css({cursor:"w-resize"}).append(t);return t.setHandleWidth=function(n){var r=a<n?n:a,t=p||w?b:r;i.attr({x:-t/2,y:0,width:t,height:i._height})},t.setCanvasHeight=function(n){i._height=n},t.updateHeight=function(){i.attr({height:i._height})},t}function h(n,t,i){return!i&&n?u.findNearValue(n,t):t}function c(n,t){var i=this,r=n.renderer;i._params=n,i._index=t,i._container=r.g().attr({"class":"sliderArea"}).append(n.root),i._slider=d(r,i._container),i._marker=new e.SliderMarker({renderer:r,root:i._slider,isLeftPointer:t===o}),i._shutter=r.rect(),i._sliderTracker=g(r)}var e=t.viz.rangeSelector,u=e.utils,l=t.require("/utils/utils.support"),v=t.require("/utils/utils.date"),y=t.require("/utils/utils.common"),p=l.touchEvents,w=l.pointer,a=8,b=20,r=0,o=1,s="discrete",f=u.addInterval;c.prototype={constructor:c,_setPosition:function(n,t){var i=this,r=i._correctPosition(n),u=i._options.translator.untranslate(r,i._getValueDirection());i.setValue(u,t,!1),i._position=r},_getValueDirection:function(){return this._options.type===s?this._index===r?-1:1:0},_setPositionForBothSliders:function(n,t){var r=this,c=r.getAnotherSlider(),u,f,e,o=r._options,y=o.canvas,p=y.left+y.width,l=o.translator,a=r._getValueDirection(),w=c._getValueDirection(),s=function(n,i,u){var f=u?w:a,e=u?a:w;return l.untranslate(r._correctBounds(v.addInterval(l.translate(n,f),t,i)),e)};n=r._correctBounds(n),u=l.untranslate(n,a),f=s(u),e=n+t,e>p?(f=o.endValue,e=p,u=s(f,!0,!0),n=r._correctBounds(e-t)):e=r._correctBounds(e),r._values&&((o.inverted?u>r._values[r._values.length-1]:u<r._values[0])?(u=h(r._values,u,!1),f=s(u)):(f=h(r._values,f,!1),u=s(f,!0))),c.setValue(f,i,!1),r.setValue(u,i,!1),r._position=n,c._position=e},_correctPosition:function(n){return this._correctBounds(this._correctInversion(n))},_correctInversion:function(n){var t=this._anotherSlider.getPosition(),i=this._index===r?n>t:n<t;return i?t:n},_correctBounds:function(n){var i=n,t=this._options.canvas;return n<t.left&&(i=t.left),n>t.left+t.width&&(i=t.left+t.width),i},_correctValue:function(n,t,i){var u=this,r=h(u._values,n,i);return t&&(r=u._correctByMinMaxRange(r)),u._options.type!==s&&(r=u._correctByMinRange(r)),r},_correctByMinMaxRange:function(n){var e=this,h=n,t=e._options,y=e._values,b=e._index,d=e.getAnotherSlider(),w=d.getValue(),p=!0,c,l,g=t.maxRange,nt=t.minRange,v,a;return t.type===s?k(e.getPosition(),d.getPosition(),t.translator.getInterval())&&(p=!1,h=w):(v=!t.inverted&&b===r||t.inverted&&b===o,g&&(a=f(w,g,v,t),v?c=a:l=a),nt&&(a=f(w,nt,v,t),v?l=a:c=a),l!==i&&h>l?(h=y?u.findLessOrEqualValue(y,l):l,p=!1):c!==i&&h<c&&(h=y?u.findGreaterOrEqualValue(y,c):c,p=!1)),e._setValid(p),h},_correctByMinRange:function(n){var s=this,t=s._options,r,u,e=t.minRange,i=n;return e&&(s._index===o?(r=f(t.startValue,e,t.inverted,t),(!t.inverted&&i<r||t.inverted&&i>r)&&(i=r)):(u=f(t.endValue,e,!t.inverted,t),(!t.inverted&&i>u||t.inverted&&i<u)&&(i=u))),i},_applySliderPosition:function(n,t){var i=this,o=i._options,h=o.behavior.animationEnabled&&!t,f=i._slider,e=i._sliderTracker,r={translateX:n,translateY:o.canvas.top},s=u.animationSettings;i._marker.setPosition(n),h?(f.animate(r,s),e.animate(r,s)):(f.stopAnimation().attr(r),e.stopAnimation().attr(r)),e.updateHeight(),f.updateHeight()},_applyShutterPosition:function(n,t){var f=this,e,h=f._options,a=h.behavior.animationEnabled&&!t,c=f._index,i=h.canvas,l=h.sliderHandle.width/2,s;c===r?(s=n-i.left-Math.floor(l),s<0&&(s=0),e={x:i.left,y:i.top,width:s,height:i.height}):c===o&&(e={x:n+Math.ceil(l),y:i.top,width:i.left+i.width-n,height:i.height}),a?f._shutter.animate(e,u.animationSettings):f._shutter.stopAnimation().attr(e)},_setValid:function(n){this._marker.setValid(n),this._slider.setValid(n)},_setText:function(n){this._marker.setText(n)},update:function(n){var t=this,i=n.canvas,f=n.sliderMarker,e=n.shutter,u=n.sliderHandle;t._options=n,t._lastPosition=null,t._marker.setCanvas(i),t._marker.applyOptions(f),t._shutter.attr({x:i.left,y:i.top,width:t._index===r?0:i.width,height:i.height,fill:e.color,"fill-opacity":e.opacity}),t._slider.attr({translateX:i.left,translateY:i.top}),t._slider.setCanvasHeight(i.height),t._slider.updateHeight(),t._slider.setColors(u.color,f.invalidRangeColor),t._slider.applyOptions({"stroke-width":u.width,stroke:u.color,"stroke-opacity":u.opacity,sharp:"h"}),t._sliderTracker.attr({translateX:0,translateY:i.top}),t._sliderTracker.setCanvasHeight(i.height),t._sliderTracker.setHandleWidth(u.width)},toForeground:function(){this._container.toForeground()},getIndex:function(){return this._index},setAvailableValues:function(n){this._values=n},setAnotherSlider:function(n){this._anotherSlider=n},getAnotherSlider:function(){return this._anotherSlider},appendTrackers:function(n){this._sliderTracker.append(n)},getSliderTracker:function(){return this._sliderTracker},changeLocation:function(){var n=this;n._marker.changeLocation(),n._index=1-n._index,n._options.type===s&&n.setPosition(n._position),n._lastPosition=null},setPosition:function(n,t,u){var f=this,e;u!==i?(e=f._index===r?f:f.getAnotherSlider(),e._setPositionForBothSliders(n,u)):f._setPosition(n,t)},getPosition:function(){return this._position},setValue:function(n,t,u){var f=this,o=f._options,s=o.canvas,h,c;n===i?(f._value=i,h=f._index===r?s.left:s.left+s.width,c=e.consts.emptySliderMarkerText):(f._value=f._correctValue(n,t,y.isDefined(u)?!!u:!0),h=o.translator.translate(f._value,f._getValueDirection()),c=e.formatValue(f._value,o.sliderMarker)),f._setText(c),f._valuePosition=f._position=h},setOverlapped:function(n){this._marker.setOverlapped(n)},getValue:function(){return this._value},canSwap:function(){var i=this,n=i._options,u,e,t;if(i._options.behavior.allowSlidersSwap){if(n.minRange)if(t=i.getAnotherSlider().getValue(),i._index===r){if(e=f(n.endValue,n.minRange,!n.inverted,n),!n.inverted&&t>e||n.inverted&&t<e)return!1}else if(u=f(n.startValue,n.minRange,n.inverted,n),!n.inverted&&t<u||n.inverted&&t>u)return!1;return!0}return!1},processDocking:function(){this._position=this._valuePosition,this.applyPosition(!1),this._setValid(!0)},applyPosition:function(n){var t=this,i=t.getPosition();t._lastPosition!==i&&(t._applySliderPosition(i,n),t._applyShutterPosition(i,n),t._lastPosition=i)},on:function(n,t){this._sliderTracker.on(n,t);this._marker.getTracker().on(n,t)},appendShutter:function(){this._shutter.append(this._container)},removeShutter:function(){this._shutter.remove()},getCloudBorder:function(){return this._marker.getBorderPosition()},dispose:function(){this._marker.dispose()}},e.Slider=c}(jQuery,DevExpress),function(n,t){function e(n){var t=this,i=n.renderer;t._isLeftPointer=n.isLeftPointer,t._isValid=!0,t._isOverlapped=!1,t._sliderMarkerGroup=i.g().attr({"class":"sliderMarker"}).append(n.root),t._area=i.path([],"area").append(t._sliderMarkerGroup),t._label=i.text().attr({align:"left"}).append(t._sliderMarkerGroup),t._tracker=i.rect().attr(u.utils.trackerSettings).css({cursor:"pointer"}).append(t._sliderMarkerGroup),t._border=i.rect(0,0,1,0)}var u=t.viz.rangeSelector,o=t.viz.utils.patchFontOptions,s=75,r=u.consts.pointerSize,f=function(n,t){var i=n._options;return{width:Math.round(2*i.paddingLeftRight+t.width),height:Math.round(2*i.paddingTopBottom+t.height)}},h=function(n,t){var p=f(n,t),e=p.width,c=p.height,i=-e,u=0,o=r,a=0,s=-r,l=n._position,h=n._canvas,v=n._isLeftPointer,w=function(){i++,u++,o++,a++,s++},b=function(){o>u?o=u:s<i&&(s=i),v&&w()},y=l;return v?l>h.left+h.width-e?(u=-l+(h.left+h.width),i=u-e,b(),y+=i):(i=s=0,u=e):l-h.left<e?(i=-(l-h.left),u=i+e,b(),y+=u):(o=0,w()),n._borderPosition=y,{offset:i,isCutted:(!v||a!==s)&&(v||a!==o),points:[i,0,u,0,u,c,o,c,a,c+r,s,c,i,c]}},c=function(n){var t=n._label.getBBox();return!n._textHeight&&isFinite(t.height)&&(n._textHeight=t.height),{width:t.width,height:n._textHeight,y:t.y}};e.prototype={constructor:e,_update:function(){function e(t,i){var u,e,s;i=i||f(n,t),n._sliderMarkerGroup.attr({translateY:-(i.height+r)}),e=h(n,t),u=e.points,s=e.offset,n._area.attr({points:u}),n._border.attr({x:n._isLeftPointer?u[0]-1:u[2],height:e.isCutted?i.height:i.height+r}),n._tracker.attr({translateX:s,width:i.width,height:i.height+r}),n._label.attr({translateX:o.paddingLeftRight+s,translateY:i.height/2-(t.y+t.height/2)})}var n=this,i,o=n._options,t,u;clearTimeout(n._timeout),n._label.attr({text:n._text||""}),t=c(n),u=f(n,t),i=n._textSize||t,i=n._textSize=t.width>i.width||t.height>i.height?t:i,n._timeout=setTimeout(function(){e(t,u),n._textSize=t},s),e(i)},setText:function(n){this._text=n},setPosition:function(n){this._position=n,this._update()},changeLocation:function(){this._isLeftPointer=!this._isLeftPointer,this._update()},applyOptions:function(n){var t=this;t._options=n,t._textHeight=null,t._area.attr({fill:n.color}),t._border.attr({fill:n.borderColor}),t._label.css(o(n.font)),t._tracker.attr({x:0,y:0,width:2*n.paddingLeftRight,height:2*n.paddingTopBottom+r}),t._update()},getTracker:function(){return this._tracker},setValid:function(n){var t=this._options;this._isValid!==n&&(this._isValid=n,this._area.attr({fill:n?t.color:t.invalidRangeColor}))},dispose:function(){clearTimeout(this._timeout)},setOverlapped:function(n){var t=this;t._isOverlapped!==n&&(n?t._border.append(t._sliderMarkerGroup):t._isOverlapped&&t._border.remove(),t._isOverlapped=n)},getBorderPosition:function(){return this._borderPosition},setCanvas:function(n){this._canvas=n}},u.SliderMarker=e}(jQuery,DevExpress),function(n,t){function r(n){this._params=n}r.prototype={constructor:r,update:function(n){var o=this._params.renderer,r=this._params.root,u,i,t=n.canvas,h=n.scale.isEmpty,f=n.seriesDataSource,c=f&&f.isShowChart()&&!h,s=n.background,l=c?f.getBackgroundColor():s.color,e=s.image,a=s.visible,v;if(r.clear(),a&&!h&&l&&o.rect(t.left,t.top,t.width+1,t.height).attr({fill:l,"class":"dx-range-selector-background"}).append(r),a&&e&&e.url&&o.image(t.left,t.top,t.width+1,t.height,e.url,e.location).append(r),c)for(u=f.getSeries(),f.adjustSeriesDimensions(n.translators,n.chart.useAggregation),v=n.behavior&&n.behavior.animationEnabled&&o.animationEnabled(),i=0;i<u.length;i++)u[i]._extGroups.seriesGroup=r,u[i]._extGroups.labelsGroup=r,u[i].draw(n.translators,v)}},t.viz.rangeSelector.RangeView=r}(jQuery,DevExpress),function(n,t,i){function y(t,i,r){n.each(t,function(t,u){n.each(r.getTeamplatedFields(),function(n,t){u[t.teamplateField]=u[t.originalField]}),i.push(u)}),r.updateTeamplateFieldNames()}var o=t.viz.rangeSelector,s=t.viz.charts,r=t.viz,e=r.CoreFactory,u=t.require("/utils/utils.common"),f,h=function(n){return s.factory.createThemeManager(n,"rangeSelector.chart")},c=function(t){return n.isArray(t)&&t.length>0&&(u.isNumber(t[0])||u.isDate(t[0]))},l=function(n){return r.utils.map(n,function(n,t){return{arg:n,val:t}})},a=function(t,i,r,u,f){var s=[],o=[];return n.each(t,function(t,i){n.inArray(i.type,o)===-1&&o.push(i.type)}),n.each(o,function(n,o){var h=new e.createSeriesFamily({type:o,equalBarWidth:i,minBubbleSize:r,maxBubbleSize:u,barWidth:f});h.add(t),h.adjustSeriesValues(),s.push(h)}),s},v=function(t){var u=["bar","candlestick","stock","bubble"],i=!0;return t=r.utils.normalizeEnum(t),n.each(u,function(n,r){if(t.indexOf(r)!==-1)return i=!1,!1}),i};f=o.SeriesDataSource=function(n){var i=this,o,e,t=i._themeManager=h(n.chart),u,f;t._fontFields=["commonSeriesSettings.label.font"],t.setTheme(n.chart.theme),u=t.getOptions("topIndent"),f=t.getOptions("bottomIndent"),i._indent={top:u>=0&&u<1?u:0,bottom:f>=0&&f<1?f:0},i._valueAxis=t.getOptions("valueAxisRangeSelector")||{},i._hideChart=!1,e=t.getOptions("seriesTemplate"),n.dataSource&&e&&(o=r.utils.processSeriesTemplate(e,n.dataSource)),i._series=i._calculateSeries(n,o),i._seriesFamilies=a(i._series,t.getOptions("equalBarWidth"),t.getOptions("minBubbleSize"),t.getOptions("maxBubbleSize"),t.getOptions("barWidth"))},f.prototype={constructor:f,_calculateSeries:function(t,i){var s=this,h=[],a,v,o,p,g,b=s._themeManager,k=!!b.getOptions("seriesTemplate"),u=k?i:t.chart.series,tt=t.chart.valueAxis&&t.chart.valueAxis.valueType,w,f,d,nt;for(s.teamplateData=[],t.dataSource&&!u&&(c(t.dataSource)&&(t.dataSource=l(t.dataSource)),w=t.dataSourceField||"arg",u={argumentField:w,valueField:w},s._hideChart=!0),u=n.isArray(u)?u:u?[u]:[],s._backgroundColor=t.backgroundColor,f=0;f<u.length;f++)a=n.extend(!0,{incidentOccured:t.incidentOccured},u[f]),a.rotated=!1,o=a.data||t.dataSource,v=b.getOptions("series",a),v.argumentField=v.argumentField||t.dataSourceField,o&&o.length>0&&(d=e.createSeries({renderer:t.renderer},v),h.push(d)),k&&y(o,s.teamplateData,d);for(o=k?s.teamplateData:o,p=[h],p.argumentOptions={categories:t.categories,argumentType:t.valueType,type:t.axisType},p[0].valueOptions={valueType:w?t.valueType:tt},g=r.validateData(o,p,t.incidentOccured,b.getOptions("dataPrepareSettings")),f=0;f<h.length;f++)nt=h[f],nt.updateData(g);return h},adjustSeriesDimensions:function(t,i){var r=this;i&&n.each(r._series||[],function(n,i){i.resamplePoints(t.x)}),n.each(r._seriesFamilies,function(n,i){i.adjustSeriesDimensions({arg:t.x,val:t.y})})},getBoundRange:function(){var f=this,l,a=f._valueAxis.min,y=f._valueAxis.max,t=new r.Range({isValueRange:!0,min:a,minVisible:a,max:y,maxVisible:y,axisType:f._valueAxis.type,base:f._valueAxis.logarithmBase}),o=new r.Range({}),e,s,h,c;return n.each(f._series,function(n,i){l=i.getRangeData(),t.addRange(l.val),o.addRange(l.arg),v(i.type)||o.addRange({stick:!1})}),t.isDefined()&&o.isDefined()&&(h=f._valueAxis.inverted?f._indent.top:f._indent.bottom,c=f._valueAxis.inverted?f._indent.bottom:f._indent.top,e=t.max-t.min,s=(n.isNumeric(t.maxVisible)?t.maxVisible:t.max)-(n.isNumeric(t.minVisible)?t.minVisible:t.min),u.isDate(t.min)?t.min=new Date(t.min.valueOf()-e*h):t.min-=e*h,u.isDate(t.max)?t.max=new Date(t.max.valueOf()+e*c):t.max+=e*c,n.isNumeric(s)&&(t.maxVisible=t.maxVisible?t.maxVisible+s*c:i,t.minVisible=t.minVisible?t.minVisible-s*h:i),t.invert=f._valueAxis.inverted),{arg:o,val:t}},getSeries:function(){var n=this;return n._series},getBackgroundColor:function(){return this._backgroundColor},isEmpty:function(){var n=this;return n.getSeries().length===0},isShowChart:function(){var n=this;return!n.isEmpty()&&!n._hideChart},getCalculatedValueType:function(){var n=this,t;return n._series.length&&(t=n._series[0].argumentType),t},getThemeManager:function(){return this._themeManager}}}(jQuery,DevExpress),function(n,t){t.viz.rangeSelector.ThemeManager=t.viz.BaseThemeManager.inherit({_themeSection:"rangeSelector",_fontFields:["scale.label.font","sliderMarker.font","loadingIndicator.font","title.font","title.subtitle.font"]})}(jQuery,DevExpress),DevExpress.MOD_VIZ_RANGESELECTOR=!0}