/*! 
* DevExtreme (Charts)
* Version: 15.2.4
* Build date: Dec 8, 2015
*
* Copyright (c) 2012 - 2015 Developer Express Inc. ALL RIGHTS RESERVED
* EULA: https://www.devexpress.com/Support/EULAs/DevExtreme.xml
*/
"use strict";if(!window.DevExpress||!DevExpress.MOD_VIZ_CHARTS){if(!window.DevExpress||!DevExpress.MOD_VIZ_CORE)throw Error("Required module is not referenced: viz-core");(function(n,t,i){function h(n,t,i,r){var u=0;return t==="right"?u=n.width-n.right+i:t==="left"&&(u=n.left-i-r),u}function c(n,t,i,r){var u=0;return t==="top"?u=n.top-i:t==="bottom"&&(u=n.height-n.bottom+r+i),u}var e=2,l=t.require("/utils/utils.common"),r=t.require("/ui/events/pointer/ui.events.pointer"),o=l.isDefined,u=i.min,f=i.max,s;s=t.viz.charts.ScrollBar=function(n,i){this._translator=t.viz.CoreFactory.createTranslator2D({},{},{}),this._scroll=n.rect().append(i),this._addEvents()},s.prototype={_addEvents:function(){var u=this,f=n(u._scroll.element),t=0,i=0,e=function(r){var e=(t-r.pageX)*u._scale,o=(i-r.pageY)*u._scale;f.trigger(new n.Event("dxc-scroll-move",n.extend(r,{type:"dxc-scroll-move",pointers:[{pageX:t+e,pageY:i+o}]})))};f.on(r.down,function(u){t=u.pageX,i=u.pageY,f.trigger(new n.Event("dxc-scroll-start",{pointers:[{pageX:t,pageY:i}]}));n(document).on(r.move,e)});n(document).on(r.up,function(){n(document).off(r.move,e)})},update:function(n){var i=this,t=n.position,r=n.rotated,u=r?"right":"top",f=r?"left":"bottom";return t!==u&&t!==f&&(t=u),i._scroll.attr({rotate:n.rotated?0:-90,rotateX:0,rotateY:0,fill:n.color,width:n.width,opacity:n.opacity}),i._layoutOptions={width:n.width,offset:n.offset,vertical:r,position:t},i},init:function(t,i){var r=this;return r._translateWithOffset=t.axisType==="discrete"&&!t.stick&&1||0,r._translator.update(n.extend({},t,{minVisible:null,maxVisible:null,visibleCategories:null}),n.extend({},i),{isHorizontal:!r._layoutOptions.vertical}),r},getOptions:function(){return this._layoutOptions},shift:function(n,t){this._scroll.attr({translateX:n,translateY:t})},setPane:function(n){var i=this._layoutOptions.position,t;return t=i==="left"||i==="top"?n[0]:n[n.length-1],this.pane=t.name,this._canvas=t.canvas,this},getMultipleAxesSpacing:function(){return 0},getBoundingRect:function(){var t=this._layoutOptions,e=t.vertical,i=t.offset,r=t.width,u=t.position,f=r+i,n=this._canvas;return e?{x:h(n,u,i,r),y:n.top,width:f,height:n.height-n.top-n.bottom}:{x:n.left,y:c(n,u,i,r),width:n.width-n.left-n.right,height:f}},applyLayout:function(){var t=this._canvas,n=this._layoutOptions,i=n.position,r=n.offset,u=n.width;this.shift(h(t,i,r,u),c(t,i,r,u))},setPosition:function(n,t){var i=this,r=i._translator,e=o(n)?r.translate(n,-i._translateWithOffset):r.translate("canvas_position_start"),s=o(t)?r.translate(t,i._translateWithOffset):r.translate("canvas_position_end");i._offset=u(e,s),i._scale=r.getScale(n,t),i._applyPosition(u(e,s),f(e,s))},transform:function(n,t){var i=this._translator,r=i.getCanvasVisibleArea().min,f=r-(r*t-n),u=this._offset+f/(this._scale*t);this._applyPosition(u,u+i.canvasLength/(this._scale*t))},dispose:function(){this._scroll.dispose(),this._scroll=this._translator=null},_applyPosition:function(n,t){var s=this,r=s._translator.getCanvasVisibleArea(),o;n=f(n,r.min),n=u(n,r.max),t=u(t,r.max),t=f(t,r.min),o=i.abs(t-n),s._scroll.attr({y:n,height:o<e?e:o})}}})(jQuery,DevExpress,Math),function(n,t,i){function rt(n,t,i){for(var u=0,o=t.end-t.start,f,e,r=0;r<n.length;r++)f=n[r].getLabel(),f.isVisible()?(e=f.getBoundingRect(),u+=i?e.width:e.height):n[r]=null;if(o>0)while(u>o)u-=ut(n,i)}function ut(n,t){var e={originalValue:Infinity},u,f,i;return(r(n,function(n,t){t&&e.originalValue>=t.originalValue&&(e=t,i=n)}),i!==null)?(u=n[i].getLabel(),f=u.getBoundingRect(),u.hide(),n[i]=null,t?f.width:f.height):0}function ft(n,t,i,r){var u,f={start:i?t.left:t.top,end:i?t.width-t.right:t.height-t.bottom};(rt(n,f,i),u=b(n,function(n){return n?new nt(n,i,r):null}),u.sort(function(n,t){return n.getPointPosition()-t.getPointPosition()}),ot(u))&&(u.reverse(),st(u,f))}function et(n,t){if(n&&t)return n.getBoundingRect().end>t.getBoundingRect().start}function ot(n){for(var t,r,u,f,i=0;i<n.length;i++)for(r=n[i],t=i+1;t<n.length;t++)u=n[t],et(r,u)&&(r.toChain(u),f=!0,n[t]=null);return f}function st(n,t){for(var u,i,f,e,o,r=0;r<n.length;r++){if(i=n[r],ht(i,t))for(e=i.getBoundingRect(),u=r+1;u<n.length;u++)if((f=n[u],f)&&(o=f.getBoundingRect(),o.end>e.start-(e.end-t.end))){f.toChain(i),n[r]=i=null;break}i&&i.setRollingStockInCanvas(t)}}function ht(n,t){return n&&n.getBoundingRect().end>t.end}function nt(n,t,i){var u=n.getLabel(),r=u.getBoundingRect();return this.labels=[u],this.points=[n],this.shiftFunction=i,this._bbox={start:t?r.x:r.y,width:t?r.width:r.height,end:t?r.x+r.width:r.y+r.height},this._pointPositionInitialize=t?n.getBoundaryCoords().x:n.getBoundaryCoords().y,this}function ct(n){return{nameField:n+"Name",colorField:n+"Color",indexField:n+"Index"}}function lt(n){var t=ct(n);return{getFormatObject:function(n){var i={};return i[t.indexField]=n.id,i[t.colorField]=n.states.normal.fill,i[t.nameField]=n.text,i},textField:t.nameField}}function at(n,t,i){r(n,function(n,u){r(i.getTeamplatedFields(),function(n,t){u[t.teamplateField]=u[t.originalField]}),t.push(u)}),i.updateTeamplateFieldNames()}function vt(n,t){return(n.x<=t.x&&t.x<=n.x+n.width||n.x>=t.x&&n.x<=t.x+t.width)&&(n.y<=t.y&&t.y<=n.y+n.height||n.y>=t.y&&n.y<=t.y+t.height)}var u=t.viz,e=u.charts,l=t.require("/utils/utils.common"),a=t.require("/ui/events/ui.events.utils"),f="_reinit",v="_updateDataSource",o="_dataInit",s="_forceRender",y="_resize",p=[f,v,o,s,y],w=u.utils,h=n.noop,b=w.map,r=n.each,k=n.extend,tt=l.isArray,d=l.isDefined,g=t.viz.utils.setCanvasValues,c=.3,it=["adaptiveLayout","crosshair","equalBarWidth","minBubbleSize","maxBubbleSize","resolveLabelOverlapping","seriesSelectionMode","pointSelectionMode","adjustOnZoom","synchronizeMultiAxes","zoomingMode","scrollingMode","useAggregation"];nt.prototype={toChain:function(n){var t=n.getBoundingRect();n.shift(t.start-this._bbox.end),this._changeBoxWidth(t.width),this.labels=this.labels.concat(n.labels),this.points=this.points.concat(n.points)},getBoundingRect:function(){return this._bbox},shift:function(n){var t=this.shiftFunction;r(this.labels,function(i,r){var f=r.getBoundingRect(),u=t(f,n,r);r.shift(u.x,u.y)}),this._bbox.end-=n,this._bbox.start-=n},setRollingStockInCanvas:function(n){this._bbox.end>n.end&&this.shift(this._bbox.end-n.end)},getPointPosition:function(){return this._pointPositionInitialize},_changeBoxWidth:function(n){this._bbox.end+=n,this._bbox.width+=n}},e.overlapping={resolveLabelOverlappingInOneDirection:ft},e.BaseChart=u.BaseWidget.inherit({_eventsMap:n.extend({},u.BaseWidget.prototype._eventsMap,{onSeriesClick:{name:"seriesClick"},onPointClick:{name:"pointClick"},onArgumentAxisClick:{name:"argumentAxisClick"},onLegendClick:{name:"legendClick"},onSeriesSelectionChanged:{name:"seriesSelectionChanged"},onPointSelectionChanged:{name:"pointSelectionChanged"},onSeriesHoverChanged:{name:"seriesHoverChanged"},onPointHoverChanged:{name:"pointHoverChanged"},onTooltipShown:{name:"tooltipShown"},onTooltipHidden:{name:"tooltipHidden"},onDone:{name:"done"}}),_rootClassPrefix:"dxc",_rootClass:"dxc-chart",_init:function(){var n=this;n.callBase.apply(n,arguments),n._reinit(!0)},_createThemeManager:function(){var n=this.option(),t=e.factory.createThemeManager(n,this._chartType);return t.setTheme(n.theme,n.rtlEnabled),t},_initCore:function(){var n=this;n._canvasClipRect=n._renderer.clipRect(),n._createHtmlStructure(),n._createLegend(),n._needHandleRenderComplete=!0,n.layoutManager=new e.LayoutManager,n._createScrollBar();n._$element.on("contextmenu",function(n){(a.isTouchEvent(n)||a.isPointerEvent(n))&&n.preventDefault()}).on("MSHoldVisual",function(n){n.preventDefault()})},_layoutManagerOptions:function(){return this._themeManager.getOptions("adaptiveLayout")},_reinit:function(n){var t=this;g(t._canvas),t._createTracker(),t._reinitAxes(),n||(t._initialized=!1),t._updateDataSource(),t.series||t._dataSpecificInit(!1),n||(t._initialized=!0),t._correctAxes(),n||t._forceRender()},_correctAxes:h,_createHtmlStructure:function(){var n=this,t=n._renderer,i=t.root;n._backgroundRect=t.rect().attr({fill:"gray",opacity:.0001}).append(i),n._panesBackgroundGroup=t.g().attr({"class":"dxc-background"}).append(i),n._stripsGroup=t.g().attr({"class":"dxc-strips-group"}).linkOn(i,"strips"),n._gridGroup=t.g().attr({"class":"dxc-grids-group"}).linkOn(i,"grids"),n._axesGroup=t.g().attr({"class":"dxc-axes-group"}).linkOn(i,"axes"),n._constantLinesGroup=t.g().attr({"class":"dxc-constant-lines-group"}).linkOn(i,"constant-lines"),n._labelAxesGroup=t.g().attr({"class":"dxc-strips-labels-group"}).linkOn(i,"strips-labels"),n._panesBorderGroup=t.g().attr({"class":"dxc-border"}).linkOn(i,"border"),n._seriesGroup=t.g().attr({"class":"dxc-series-group"}).linkOn(i,"series"),n._labelsGroup=t.g().attr({"class":"dxc-labels-group"}).linkOn(i,"labels"),n._crosshairCursorGroup=t.g().attr({"class":"dxc-crosshair-cursor"}).linkOn(i,"crosshair"),n._legendGroup=t.g().attr({"class":"dxc-legend",clipId:n._getCanvasClipRectID()}).linkOn(i,"legend"),n._scrollBarGroup=t.g().attr({"class":"dxc-scroll-bar"}).linkOn(i,"scroll-bar")},_disposeObjectsInArray:function(n,t){r(this[n]||[],function(n,i){t&&i?r(t,function(n,t){i[t]&&i[t].dispose()}):i&&i.dispose()}),this[n]=null},_disposeCore:function(){var t=this,n=function(n){t[n]&&(t[n].dispose(),t[n]=null)},i=function(n){t[n].linkOff()},r=this._disposeObjectsInArray;clearTimeout(t._delayedRedraw),t._renderer.stopAllAnimations(),r.call(t,"businessRanges",["arg","val"]),t.translators=null,r.call(t,"series"),n("tracker"),n("_crosshair"),t.layoutManager=null,t.paneAxis=null,t._userOptions=null,t._canvas=null,i("_stripsGroup"),i("_gridGroup"),i("_axesGroup"),i("_constantLinesGroup"),i("_labelAxesGroup"),i("_panesBorderGroup"),i("_seriesGroup"),i("_labelsGroup"),i("_crosshairCursorGroup"),i("_legendGroup"),i("_scrollBarGroup"),n("_canvasClipRect"),n("_panesBackgroundGroup"),n("_stripsGroup"),n("_gridGroup"),n("_axesGroup"),n("_constantLinesGroup"),n("_labelAxesGroup"),n("_panesBorderGroup"),n("_seriesGroup"),n("_labelsGroup"),n("_crosshairCursorGroup"),n("_legendGroup"),n("_scrollBarGroup")},_getAnimationOptions:function(){return this._themeManager.getOptions("animation")},_getDefaultSize:function(){return{width:400,height:400}},_getOption:function(n){return this._themeManager.getOptions(n)},_applySize:h,_resize:function(){this._updateLockCount?this._processRefreshData(y):this._render(this.__renderOptions||{animate:!1,isResize:!0,updateTracker:!1})},_createTracker:function(){var n=this,t=n._themeManager;n.tracker&&n.tracker.dispose(),n.tracker=e.factory.createTracker({seriesSelectionMode:t.getOptions("seriesSelectionMode"),pointSelectionMode:t.getOptions("pointSelectionMode"),seriesGroup:n._seriesGroup,renderer:n._renderer,tooltip:n._tooltip,eventTrigger:n._eventTrigger},n.NAME)},_getTrackerSettings:function(){var t=this;return{series:t.series,legend:t.legend,legendCallback:n.proxy(t.legend.getActionCallback,t.legend)}},_updateTracker:function(){this.tracker.update(this._getTrackerSettings())},_render:function(t){var i=this,r,f,u;i._initialized&&(i._canvas.width!==0||i._canvas.height!==0)&&(i._resetIsReady(),r=i._prepareDrawOptions(t),u=r.recreateCanvas,clearTimeout(i._delayedRedraw),f=i._canvas,i._canvas=n.extend({},i._canvas),u?i.__currentCanvas=i._canvas:i._canvas=i.__currentCanvas,u&&i._updateCanvasClipRect(i._canvas),i._renderer.stopAllAnimations(!0),g(i._canvas),i._cleanGroups(r),i._renderElements(r),i._canvas=f)},_renderElements:function(t){var u=this,l=u._prepareToRender(t),e=u._isRotated(),o=u._isLegendInside(),a=[],s=u._getLayoutTargets(),p=n.extend({},u._canvas),f,h,v=[],y=t.drawTitle&&t.drawLegend&&t.adjustAxes,c;t.isResize||u._scheduleLoadingIndicatorHiding(),y&&(v=u._getDrawElements(t,o)),u._renderer.lock(),u.layoutManager.setOptions(u._layoutManagerOptions()),u.layoutManager.layoutElements(v,u._canvas,u._getAxisDrawingMethods(t,l,e),s,e,u._getAxesForTransform(e)),y&&u._updateCanvasClipRect(p),u._applyClipRects(l),u._appendSeriesGroups(),u._createCrosshairCursor(),r(s,function(){var n=this.canvas;a.push({left:n.left,right:n.width-n.right,top:n.top,bottom:n.height-n.bottom})}),u._scrollBar&&(f=u.businessRanges[0].arg,f.categories&&f.categories.length<=1?h=c=i:(h=f.minVisible,c=f.maxVisible),u._scrollBar.init(f,s[0].canvas).setPosition(h,c)),t.updateTracker&&u._updateTracker(),u.tracker.setCanvases({left:0,right:u._canvas.width,top:0,bottom:u._canvas.height},a),u._updateLegendPosition(t,o),u._renderSeries(t,e,o),u._renderer.unlock()},_createCrosshairCursor:h,_appendSeriesGroups:function(){this._seriesGroup.linkAppend(),this._labelsGroup.linkAppend(),this._appendAdditionalSeriesGroups()},_renderSeries:function(n,t,i){var r=this,u=r._themeManager,f=u.getOptions("resolveLabelOverlapping");n.hideLayoutLabels=r.layoutManager.needMoreSpaceForPanesCanvas(r._getLayoutTargets(),t)&&!u.getOptions("adaptiveLayout").keepLabels,r._drawSeries(n,t),f!=="none"&&r._resolveLabelOverlapping(f),r._adjustSeries(),r._renderTrackers(i),r.tracker.repairTooltip(),r._dataSource.isLoaded()&&r._fulfillLoadingIndicatorHiding(),r._drawn(),r._renderCompleteHandler()},_drawSeries:function(n,t){var i=this,u,f=i.series,r,e=f.length;for(i._updateSeriesDimensions(n),u=0;u<e;u++)r=f[u],i._applyExtraSettings(r,n),r.draw(i._prepareTranslators(r,u,t),n.animate&&r.getPoints().length<=n.animationPointsLimit&&i._renderer.animationEnabled(),n.hideLayoutLabels,i._getLegendCallBack(r))},_resolveLabelOverlapping:function(t){var i;switch(t){case"stack":i=this._resolveLabelOverlappingStack;break;case"hide":i=this._resolveLabelOverlappingHide;break;case"shift":i=this._resolveLabelOverlappingShift}n.isFunction(i)&&i.call(this)},_getVisibleSeries:function(){return n.grep(this.getAllSeries(),function(n){return n.isVisible()})},_resolveLabelOverlappingHide:function(){for(var i=[],r,u,e,o,t,f,s=this._getVisibleSeries(),n=0;n<s.length;n++)for(f=s[n].getVisiblePoints(),t=0;t<f.length;t++)i.push(f[t].getLabel());for(i=[].concat.apply([],i),n=0;n<i.length;n++)if(r=i[n],e=r.getBoundingRect(),r.isVisible())for(t=n+1;t<i.length;t++)u=i[t],o=u.getBoundingRect(),vt(e,o)&&u.hide()},_cleanGroups:function(){var t=this;t._stripsGroup.linkRemove().clear(),t._gridGroup.linkRemove().clear(),t._axesGroup.linkRemove().clear(),t._constantLinesGroup.linkRemove().clear(),t._labelAxesGroup.linkRemove().clear(),t._labelsGroup.linkRemove().clear(),t._crosshairCursorGroup.linkRemove().clear()},_createLegend:function(){var n=lt(this._legendDataField);this.legend=u.CoreFactory.createLegend({renderer:this._renderer,group:this._legendGroup,backgroundClass:"dxc-border",itemGroupClass:"dxc-item",textField:n.textField,getFormatObject:n.getFormatObject})},_updateLegend:function(){var n=this,i=n._themeManager,t=i.getOptions("legend"),r=n._getLegendData();t.containerBackgroundColor=i.getOptions("containerBackgroundColor"),t._incidentOccured=n._incidentOccured,n.legend.update(r,t)},_prepareDrawOptions:function(t){var r=this._getAnimationOptions(),i;return i=n.extend({},{force:!1,adjustAxes:!0,drawLegend:!0,drawTitle:!0,animate:r.enabled,animationPointsLimit:r.maxPointCountSupported,updateTracker:!0},t,this.__renderOptions),d(i.recreateCanvas)||(i.recreateCanvas=i.adjustAxes&&i.drawLegend&&i.drawTitle),i},_processRefreshData:function(t){var i=n.inArray(this._currentRefreshData,p),r=n.inArray(t,p);(!this._currentRefreshData||i>=0&&r<i)&&(this._currentRefreshData=t,this._invalidate())},_getLegendData:function(){return b(this._getLegendTargets(),function(n){var r=n.legendData,t=n.getLegendStyles,i=t.normal.opacity;return n.visible||((!d(i)||i>c)&&(i=c),r.textOpacity=c),r.states={hover:t.hover,selection:t.selection,normal:k({},t.normal,{opacity:i})},r})},_getLegendOptions:function(n){return{legendData:{text:n[this._legendItemTextField],argument:n.argument,id:n.index},getLegendStyles:n.getLegendStyles(),visible:n.isVisible()}},_disposeSeries:function(){var n=this;r(n.series||[],function(n,t){t.dispose()}),n.series=null,r(n.seriesFamilies||[],function(n,t){t.dispose()}),n.seriesFamilies=null,n._needHandleRenderComplete=!0},_handleChangedOptions:function(n){var t=this,i=t._themeManager;r(n,function(n){i.resetOptions(n)}),i.update(t._options),t.callBase.apply(t,arguments),"animation"in n&&t._renderer.updateAnimationOptions(t._getAnimationOptions()),"dataSource"in n&&(t._needHandleRenderComplete=!0,t._processRefreshData(v)),"palette"in n&&(i.updatePalette(n.palette),t._refreshSeries(o)),n._has(["series","commonSeriesSettings","containerBackgroundColor","dataPrepareSettings"])&&t._refreshSeries(o),("legend"in n||"seriesTemplate"in n)&&t._processRefreshData(o),"title"in n&&t._processRefreshData(s),n._has(["valueAxis","argumentAxis","commonAxisSettings","panes","defaultPane"])&&(t._refreshSeries(f),t.paneAxis={}),"rotated"in n&&(t._createScrollBar(),t._refreshSeries(f)),("customizePoint"in n||"customizeLabel"in n)&&t._refreshSeries(f),"scrollBar"in n&&(t._createScrollBar(),t._processRefreshData(s)),"tooltip"in n&&t._organizeStackPoints(),n._has(it)&&t._processRefreshData(f),("size"in n||"margin"in n||t._currentRefreshData)&&t._invalidate()},_handleThemeOptionsCore:function(){var n=this;n._initialized&&(n._scheduleLoadingIndicatorHiding(),n.beginUpdate(),n._refreshSeries(f),n.endUpdate())},_refreshSeries:function(n){this._disposeSeries(),this._processRefreshData(n)},_refresh:function(){var n=this._currentRefreshData||s;this._currentRefreshData=null,this._renderer.stopAllAnimations(!0),this[n]()},_updateCanvasClipRect:function(n){var r=this,t,i;t=Math.max(n.width-n.left-n.right,0),i=Math.max(n.height-n.top-n.bottom,0),r._canvasClipRect.attr({x:n.left,y:n.top,width:t,height:i}),r._backgroundRect.attr({x:n.left,y:n.top,width:t,height:i})},_getCanvasClipRectID:function(){return this._canvasClipRect.id},_dataSourceChangedHandler:function(){this._scheduleLoadingIndicatorHiding(),this._resetZoom(),this._dataInit()},_dataInit:function(){clearTimeout(this._delayedRedraw),this._dataSpecificInit(!0)},_dataSpecificInit:function(n){var t=this;t.series=t.series||t._populateSeries(),t._repopulateSeries(),t._seriesPopulatedHandlerCore(),t._populateBusinessRange(),t._updateLegend(),n&&t._forceRender()},_forceRender:function(){this._render({force:!0})},_repopulateSeries:function(){var n=this,f,i=n._themeManager,t=n._dataSource.items(),o=i.getOptions("dataPrepareSettings"),e=i.getOptions("seriesTemplate");e&&(n._templatedSeries=w.processSeriesTemplate(e,t),n._populateSeries(),delete n._templatedSeries,t=n.teamplateData||t),n._groupSeries(),f=u.validateData(t,n._groupedSeries,n._incidentOccured,o),i.resetPalette(),r(n.series,function(t,i){i.updateData(f),n._processSingleSeries(i)}),n._organizeStackPoints()},_organizeStackPoints:function(){var n=this,t=n._themeManager,i=t.getOptions("tooltip").shared,u={};r(n.series||[],function(t,r){n._resetStackPoints(r),i&&n._prepareStackPoints(r,u)})},_renderCompleteHandler:function(){var n=this,t=!0;n._needHandleRenderComplete&&(r(n.series,function(n,i){t=t&&i.canRenderCompleteHandle()}),t&&(n._needHandleRenderComplete=!1,n._eventTrigger("done",{target:n})))},_getDrawElements:function(n,t){var i=this,r=[];return n.drawTitle&&r.push(i._title),n.drawLegend&&i.legend&&(i._legendGroup.linkAppend(),t||r.push(i.legend)),r},_resetZoom:h,_dataIsReady:function(){return this._dataSource.isLoaded()},_populateSeries:function(){var n=this,r=n._themeManager,s=!!r.getOptions("seriesTemplate"),e=s?n._templatedSeries:n.option("series"),h=tt(e)?e:e?[e]:[],l=n._getExtraOptions(),t,i,o,c,f,a=function(){n._specialProcessSeries(),n._populateBusinessRange(),n._renderer.stopAllAnimations(!0),n._updateLegend(),n._render({force:!0,updateTracker:!1})};for(n._disposeSeries(),n.series=[],n.teamplateData=[],r.resetPalette(),f=0;f<h.length;f++)(t=k(!0,{},h[f],l),t.name||(t.name="Series "+(f+1).toString()),c=t.data,t.data=null,t.rotated=n._isRotated(),t.customizePoint=r.getOptions("customizePoint"),t.customizeLabel=r.getOptions("customizeLabel"),t.visibilityChanged=a,t.incidentOccured=n._incidentOccured,o=r.getOptions("series",t),n._checkPaneName(o))&&(i=u.CoreFactory.createSeries({renderer:n._renderer,seriesGroup:n._seriesGroup,labelsGroup:n._labelsGroup},o),i.isUpdated?(i.index=n.series.length,n._processSingleSeries(i),n.series.push(i),s&&at(c,n.teamplateData,i)):n._incidentOccured("E2101",[o.type]));return n.series},getAllSeries:function(){return this.series.slice()},getSeriesByName:function(n){var t=null;return r(this.series,function(i,r){if(r.name===n)return t=r,!1}),t},getSeriesByPos:function(n){return this.series[n]},clearSelection:function(){this.tracker.clearSelection()},hideTooltip:function(){this.tracker._hideTooltip()},render:function(n){var t=this;return t.__renderOptions=n,t.__forceRender=n&&n.force,t.callBase.apply(t,arguments),t.__renderOptions=t.__forceRender=null,t},getSize:function(){var n=this._canvas||{};return{width:n.width,height:n.height}}})}(jQuery,DevExpress),function(n,t,i){function y(n){return a(n)?n.length===0?[{}]:n:[n]}function w(n,t,r,u){n.minVal=t.min,n.maxVal=t.max,r&&(n.minArg=n.minArg===i?u.arg.min:n.minArg,n.maxArg=n.maxArg===i?u.arg.max:n.maxArg)}var e=t.viz,l=e.charts,h=t.require("/utils/utils.common"),o=t.require("/utils/utils.date"),p="defaultAxisName",a=h.isArray,c=h.isDefined,r=n.each,s=n.extend,v=e.utils.map,u="min",f="max";l.AdvancedChart=l.BaseChart.inherit({_dispose:function(){var n=this,t=this._disposeObjectsInArray;n.callBase(),n.panes=null,n.legend&&(n.legend.dispose(),n.legend=null),t.call(n,"panesBackground"),t.call(n,"seriesFamilies"),n._disposeAxes()},_reinitAxes:function(){this.translators={},this.panes=this._createPanes(),this._populateAxes()},_populateAxes:function(){function it(){return p+tt++}var t=this,c=[],l,u=t.panes,f=t._isRotated(),d=t.option("valueAxis")||{},g=t.option("argumentAxis")||{},o=y(g)[0],nt=y(d),a=[],tt=0,s,h=t._getCrosshairOptions()||{},w=h.enabled,b=w&&h.horizontalLine.visible,k=w&&h.verticalLine.visible;t._disposeAxes(),s=f?o.position==="right"?u[u.length-1].name:u[0].name:o.position==="top"?u[0].name:u[u.length-1].name,l=v(u,function(n,i){return t._createAxis("argumentAxis",o,{pane:n.name,crosshairEnabled:f?b:k},f,n.name!==s,i)}),r(nt,function(u,o){var s=[],h=o.name;if(h&&n.inArray(h,a)!==-1){t._incidentOccured("E2102");return}h&&a.push(h),o.pane&&s.push(o.pane),o.panes&&o.panes.length&&(s=s.concat(o.panes.slice(0))),s=e.utils.unique(s),s.length||s.push(i),r(s,function(n,i){c.push(t._createAxis("valueAxis",o,{name:h||it(),pane:i,priority:u,crosshairEnabled:f?k:b},f))})}),t._valueAxes=c,t._argumentAxes=l},_prepareStackPoints:function(n,t){var u=n.getPoints(),i=n.getStackName();r(u,function(n,u){var f=u.argument;t[f]||(t[f]={},t[f][null]=[]),i&&!a(t[f][i])&&(t[f][i]=[],r(t[f][null],function(n,r){r.stackName||t[f][i].push(r)})),i?(t[f][i].push(u),t[f][null].push(u)):r(t[f],function(n,t){t.push(u)}),u.stackPoints=t[f][i],u.stackName=i})},_resetStackPoints:function(n){r(n.getPoints(),function(n,t){t.stackPoints=null,t.stackName=null})},_disposeAxes:function(){var n=this,t=n._disposeObjectsInArray;t.call(n,"_argumentAxes"),t.call(n,"_valueAxes")},_drawAxes:function(n,t,i){var u=this,f=function(n){r(n,function(n,t){t.draw(i)})},e=function(t){r(t,function(t,i){i.drawGrids(n[i.pane])})};u._reinitTranslators(),u._prepareAxesAndDraw(f,e,t)},_appendAdditionalSeriesGroups:function(){this._crosshairCursorGroup.linkAppend(),this._scrollBar&&this._scrollBarGroup.linkAppend()},_getLegendTargets:function(){var n=this;return v(n.series,function(t){return t.getOptions().showInLegend?n._getLegendOptions(t):null})},_legendItemTextField:"name",_seriesPopulatedHandlerCore:function(){this._processSeriesFamilies(),this._processValueAxisFormat()},_renderTrackers:function(){for(var t=this,n=0;n<t.series.length;++n)t.series[n].drawTrackers()},_specialProcessSeries:function(){this._processSeriesFamilies()},_processSeriesFamilies:function(){var t=this,f=[],o=[],s,u=t._themeManager,i={equalBarWidth:u.getOptions("equalBarWidth"),minBubbleSize:u.getOptions("minBubbleSize"),maxBubbleSize:u.getOptions("maxBubbleSize"),barWidth:u.getOptions("barWidth")};if(t.seriesFamilies&&t.seriesFamilies.length){r(t.seriesFamilies,function(n,t){t.updateOptions(i),t.adjustSeriesValues()});return}r(t.series,function(t,i){n.inArray(i.type,f)===-1&&f.push(i.type)}),r(t._getLayoutTargets(),function(n,u){s=t._getSeriesForPane(u.name),r(f,function(n,r){var f=e.CoreFactory.createSeriesFamily({type:r,pane:u.name,equalBarWidth:i.equalBarWidth,minBubbleSize:i.minBubbleSize,maxBubbleSize:i.maxBubbleSize,barWidth:i.barWidth,rotated:t._isRotated()});f.add(s),f.adjustSeriesValues(),o.push(f)})}),t.seriesFamilies=o},_updateSeriesDimensions:function(){for(var r=this,u=r.seriesFamilies||[],t,i,n=0;n<u.length;n++)t=u[n],i=r._getTranslator(t.pane)||{},t.updateSeriesValues(i),t.adjustSeriesDimensions(i)},_getLegendCallBack:function(n){return this.legend&&this.legend.getActionCallback(n)},_appendAxesGroups:function(){var n=this;n._stripsGroup.linkAppend(),n._gridGroup.linkAppend(),n._axesGroup.linkAppend(),n._constantLinesGroup.linkAppend(),n._labelAxesGroup.linkAppend()},_populateBusinessRange:function(n){var u=this,s=[],l=u._themeManager,h=u._isRotated(),a=l.getOptions("useAggregation"),f=u._argumentAxes,c=f[f.length-1],v=c.calcInterval,t=new e.Range({rotated:!!h}),o;u._disposeObjectsInArray("businessRanges",["arg","val"]),r(f,function(n,i){t.addRange(i.getRangeData())}),r(u._groupedSeries,function(u,f){var o=new e.Range({rotated:!!h,isValueRange:!0,pane:f.valueAxis.pane,axis:f.valueAxis.name}),c=f.valueAxis.getRangeData();o.addRange(c),r(f,function(i,r){n&&w(n,c,a,r.getRangeData());var u=r.getRangeData(n,v);o.addRange(u.val),t.addRange(u.arg)}),o.isDefined()||o.setStubData(f.valueAxis.getOptions().valueType==="datetime"?"datetime":i),f.valueAxis.getOptions().showZero&&o.correctValueZeroLevel(),o.checkZeroStick(),s.push({val:o,arg:t})}),t.isDefined()||t.setStubData(f[0].getOptions().argumentType),n&&n.notApplyMargins&&t.axisType!=="discrete"&&(o=f[0].getTranslator().getBusinessRange(),t.addRange({min:o.min,max:o.max,stick:!0})),u._correctBusinessRange(t,c),u.businessRanges=s},_correctBusinessRange:function(t,i){var l=i.getOptions().setTicksAtUnitBeginning,e={},r=i.getOptions().tickInterval,s=r;r=n.isNumeric(r)?r:o.dateToMilliseconds(r),r&&c(t[u])&&c(t[f])&&r>=Math.abs(t[f]-t[u])&&(h.isDate(t[u])?(n.isNumeric(s)?(e[u]=new Date(t[u].valueOf()-r),e[f]=new Date(t[f].valueOf()+r)):(e[u]=o.addInterval(t[u],s,!0),e[f]=o.addInterval(t[f],s,!1)),l&&(o.correctDateWithUnitBeginning(e[f],s),o.correctDateWithUnitBeginning(e[u],s))):(e[u]=t[u]-r,e[f]=t[f]+r),t.addRange(e))},_getArgumentAxes:function(){return this._argumentAxes},_getValueAxes:function(){return this._valueAxes},_processValueAxisFormat:function(){var i=this,u=i._valueAxes,t=[];r(i.series,function(){this.isFullStackedSeries()&&n.inArray(this.axis,t)===-1&&t.push(this.axis)}),r(u,function(){n.inArray(this.name,t)!==-1?this.setPercentLabelFormat():this.resetAutoLabelFormat()})},_createAxis:function(n,t,i,r,u,f){var o=this,v=s({renderer:o._renderer,incidentOccured:o._incidentOccured,axisClass:n==="argumentAxis"?"arg":"val",widgetClass:"dxc",stripsGroup:o._stripsGroup,labelAxesGroup:o._labelAxesGroup,constantLinesGroup:o._constantLinesGroup,axesContainerGroup:o._axesGroup,gridGroup:o._gridGroup},o._getAxisRenderingOptions(n)),l,a=o._prepareStripsAndConstantLines(n,t,r),h=s(!0,{},a,i,o._prepareAxisOptions(n,a,r));return u&&(h.visible=h.tick.visible=h.minorTick.visible=h.label.visible=!1,h.title={}),l=new e.axes.Axis(v),l.updateOptions(h),!u&&c(f)&&(o._displayedArgumentAxisIndex=f),l},_getTrackerSettings:function(){return s(this.callBase(),{argumentAxis:this._argumentAxes[this._displayedArgumentAxisIndex]})},_prepareStripsAndConstantLines:function(n,t,i){return t=this._themeManager.getOptions(n,t,i),t.strips&&r(t.strips,function(n){t.strips[n]=s(!0,{},t.stripStyle,t.strips[n])}),t.constantLines&&r(t.constantLines,function(n,i){t.constantLines[n]=s(!0,{},t.constantLineStyle,i)}),t},_legendDataField:"series",_adjustSeries:n.noop})}(jQuery,DevExpress),function(n,t,i){function d(n,t){for(var r,i=0;i<n.length;i++)if(n[i].pane===t){r=n[i].name;break}return r||(r=n[0].name),r}function g(n,t,i){var f=[],u;r(n,function(n,i){i.pane===t&&f.push(i)}),f.length>1&&i&&r(f,function(n,t){var i=t.getOptions().grid,r=t.getOptions().minorGrid;u&&i&&i.visible?(i.visible=!1,r&&(r.visible=!1)):u=u?u:i&&i.visible})}function nt(n,t){var i;return r(n,function(n,u){r(u,function(r){if(t===r)return i=n,!1})}),i}function tt(n,t,i){for(var u,r=0;r<t.length;r++)if(t[r].name===i){u=t[r],u.priority=r;break}if(!u)for(r=0;r<n.length;r++)if(n[r].name===i){u=n[r].getOptions(),u.priority=n[r].priority;break}return u}function y(n,t,i){for(var r,u=0;u<i.length;u++)if(r=i[u],r.name===t&&r.pane===n)return r}function it(n,t,i,u,f){var y=~~((i<u?i:u)/2),p=f.width||0,s=p<y?p:y;n=n+s/2,t=t+s/2,i=i-s,u=u-s;var h=n+i,c=t+u,o=[],e=[],l,a=0,v=0,w={top:[[n,t],[h,t]],right:[[h,t],[h,c]],bottom:[[h,c],[n,c]],left:[[n,c],[n,t]]};r(w,function(n){var t=!!f[n];a=a*2+~~t});switch(a){case 13:case 9:l=["left","top","right","bottom"];break;case 11:l=["bottom","left","top","right"];break;default:l=["top","right","bottom","left"]}return r(l,function(n,t){var i=!!f[t];!v&&e.length&&(o.push(e),e=[]),i&&r(w[t].slice(v),function(n,t){e=e.concat(t)}),v=~~i}),e.length&&o.push(e),o.length===1&&(o=o[0]),{points:o,pathType:a===15?"area":"line"}}function s(n,t){r(n||[],function(n,i){i&&i.attr(t)})}function p(n){r(n,function(n,t){r(t,function(n,t){t.arg.reinit(),t.val.reinit()})})}function rt(n,t){return n.priority-t.priority}var u=t.viz,f=u.charts,l=t.require("/utils/utils.common"),w=t.require("/componentRegistrator"),a=t.viz.utils,b=5,h="default",k=[{name:h,border:{}}],v=u.utils.map,r=n.each,e=n.extend,c=l.isArray,o=l.isDefined;w("dxChart",u.charts,f.AdvancedChart.inherit({_chartType:"chart",_getDefaultOptions:function(){return n.extend(this.callBase(),{defaultPane:h})},_initCore:function(){this.paneAxis={},this._panesClipRects={},this.callBase()},_disposeCore:function(){var n=this,t=this._disposeObjectsInArray,i=n._panesClipRects;n.callBase(),t.call(i,"fixed"),t.call(i,"base"),t.call(i,"wide"),n._panesClipRects=null},_correctAxes:function(){this._correctValueAxes()},_getExtraOptions:n.noop,_processSingleSeries:n.noop,_groupSeries:function(){var t=this,o=t.panes,u=t._valueAxes,s=v(o,function(n){return n.name}),e=t.series,i=t.paneAxis,h=t._themeManager.getOptions("synchronizeMultiAxes"),f=t._groupedSeries=[];r(e,function(n,t){t.axis=t.axis||d(u,t.pane),t.axis&&(i[t.pane]=i[t.pane]||{},i[t.pane][t.axis]=!0)}),r(u,function(t,r){r.name&&r.pane&&n.inArray(r.pane,s)!==-1&&(i[r.pane]=i[r.pane]||{},i[r.pane][r.name]=!0)}),t._correctValueAxes(),r(i,function(n,t){g(u,n,h),r(t,function(t){var i=[];r(e,function(r,u){u.pane===n&&u.axis===t&&i.push(u)}),f.push(i),i.valueAxis=y(n,t,u),i.valueOptions=i.valueAxis.getOptions()})}),f.argumentAxes=t._argumentAxes,f.argumentOptions=f.argumentAxes[0].getOptions()},_cleanPanesClipRects:function(n){var t=this,i=t._panesClipRects[n];r(i||[],function(n,t){t&&t.dispose()}),t._panesClipRects[n]=[]},_createPanes:function(){var i=this,t=i.option("panes"),f=0,u;return(t&&c(t)&&!t.length||n.isEmptyObject(t))&&(t=k),i._cleanPanesClipRects("fixed"),i._cleanPanesClipRects("base"),i._cleanPanesClipRects("wide"),i.defaultPane=i.option("defaultPane"),t=e(!0,[],c(t)?t:t?[t]:[]),r(t,function(n,t){t.name=o(t.name)?t.name:h+f++}),!i._doesPaneExists(t,i.defaultPane)&&t.length>0&&(u=t[t.length-1].name,i._incidentOccured("W2101",[i.defaultPane,u]),i.defaultPane=u),t=i._isRotated()?t.reverse():t},_doesPaneExists:function(n,t){var i=!1;return r(n,function(n,r){if(r.name===t)return i=!0,!1}),i},_getAxisRenderingOptions:function(){return{axisType:"xyAxes",drawingType:"linear"}},_prepareAxisOptions:function(n,t,i){return{isHorizontal:n==="argumentAxis"!==i}},_checkPaneName:function(t){var i=v(this.panes,function(n){return n.name});return t.pane=t.pane||this.defaultPane,n.inArray(t.pane,i)!==-1},_correctValueAxes:function(){var t=this,o=t._isRotated(),f=t.option("valueAxis")||{},s=c(f)?f:[f],i=t._valueAxes||[],h=i[0].name,u=t.paneAxis,e={};r(i,function(n,i){var r;i.pane||(r=nt(u,i.name),r||(r=t.defaultPane,(u[r]=u[r]||{})[i.name]=!0),i.setPane(r))}),r(t.panes,function(n,t){var i=t.name;u[i]||(u[i]={},u[i][h]=!0)}),r(u,function(n,u){r(u,function(r){var u;e[r+"-"+n]=!0,y(n,r,i)||(u=tt(i,s,r),u||(t._incidentOccured("W2102",[r]),u={name:r,priority:i.length}),i.push(t._createAxis("valueAxis",u,{pane:n,name:r},o)))})}),t._valueAxes=n.grep(i,function(n){return!!e[n.name+"-"+n.pane]}).sort(rt)},_getSeriesForPane:function(n){var t=[];return r(this.series,function(i,r){r.pane===n&&t.push(r)}),t},_createTranslator:function(n,t,i){return u.CoreFactory.createTranslator2D(n,t,i)},_createPanesBorderOptions:function(){var t=this._themeManager.getOptions("commonPaneSettings").border,n={};return r(this.panes,function(i,r){n[r.name]=e(!0,{},t,r.border)}),n},_createScrollBar:function(){var n=this,t=n._themeManager.getOptions("scrollBar")||{},i=n._scrollBarGroup;t.visible?(t.rotated=n._isRotated(),n._scrollBar=(n._scrollBar||f.factory.createScrollBar(n._renderer,i)).update(t)):(i.linkRemove(),n._scrollBar&&n._scrollBar.dispose(),n._scrollBar=null)},_prepareToRender:function(n){var t=this,i=t._createPanesBorderOptions();return t._createPanesBackground(),t._appendAxesGroups(),t._transformed&&t._resetTransform(),t._createTranslators(n),t._options.useAggregation&&r(t.series,function(n,i){i.resamplePoints(t._getTranslator(i.pane,i.axis).arg,t._zoomMinArg,t._zoomMaxArg)}),(t._options.useAggregation||o(t._zoomMinArg)||o(t._zoomMaxArg))&&(t._populateBusinessRange({adjustOnZoom:t._themeManager.getOptions("adjustOnZoom"),minArg:t._zoomMinArg,maxArg:t._zoomMaxArg,notApplyMargins:t._notApplyMargins}),t._updateTranslators()),i},_isLegendInside:function(){return this.legend&&this.legend.getPosition()==="inside"},_renderAxes:function(n,t,i,r){n&&n.recreateCanvas&&a.updatePanesCanvases(this.panes,this._canvas,i),this._drawAxes(t,n,r)},_isRotated:function(){return this._themeManager.getOptions("rotated")},_getLayoutTargets:function(){return this.panes},_applyClipRects:function(n){var t=this,r=t._getCanvasClipRectID(),i;for(t._drawPanesBorders(n),t._createClipRectsForPanes(),i=0;i<t._argumentAxes.length;i++)t._argumentAxes[i].applyClipRects(t._getElementsClipRectID(t._argumentAxes[i].pane),r);for(i=0;i<t._valueAxes.length;i++)t._valueAxes[i].applyClipRects(t._getElementsClipRectID(t._valueAxes[i].pane),r);t._fillPanesBackground()},_updateLegendPosition:function(t,i){var o=this;if(t.drawLegend&&o.legend&&i){var r=o.panes,u=e({},r[0].canvas),s=new f.LayoutManager;u.right=r[r.length-1].canvas.right,u.bottom=r[r.length-1].canvas.bottom,s.setOptions({width:0,height:0}),s.layoutElements([o.legend],u,n.noop,[{canvas:u}])}},_prepareTranslators:function(n,t,i){var u=this._getTranslator(n.pane,n.axis),r={};return r[i?"x":"y"]=u.val,r[i?"y":"x"]=u.arg,r},_applyExtraSettings:function(n){var i=this,r=i._getPaneIndex(n.pane),u=i._panesClipRects,f=u.wide[r];n.setClippingParams(u.base[r].id,f&&f.id,i._getPaneBorderVisibility(r))},_createTranslators:function(n){var t=this,f=t._isRotated(),i;n.recreateCanvas&&(t.translators=i={},a.updatePanesCanvases(t.panes,t._canvas,f),r(t.paneAxis,function(n,e){i[n]=i[n]||{},r(e,function(r){var e=t._createTranslator(new u.Range(t._getBusinessRange(n,r).val),t._getCanvasForPane(n),{isHorizontal:!!f});e.pane=n,e.axis=r,i[n][r]={val:e}})}),r(t._argumentAxes,function(n,e){var o=t._createTranslator(new u.Range(t._getBusinessRange(e.pane).arg),t._getCanvasForPane(e.pane),{isHorizontal:!f});r(i[e.pane],function(n,t){t.arg=o})}))},_updateTranslators:function(){var n=this;r(n.translators,function(t,i){r(i,function(i,r){r.arg.updateBusinessRange(new u.Range(n._getBusinessRange(t).arg)),delete r.arg._originalBusinessRange,r.val.updateBusinessRange(new u.Range(n._getBusinessRange(t,i).val)),delete r.val._originalBusinessRange})})},_getAxesForTransform:function(n){return{verticalAxes:n?this._getArgumentAxes():this._getValueAxes(),horizontalAxes:n?this._getValueAxes():this._getArgumentAxes()}},_getAxisDrawingMethods:function(n,t,i){var r=this;return function(u){r._renderAxes(n,t,i,u)}},_reinitTranslators:function(){var n=this;r(n._argumentAxes,function(t,i){var r=n._getTranslator(i.pane);r&&(r.arg.reinit(),i.setTranslator(r.arg,r.val))}),r(n._valueAxes,function(t,i){var r=n._getTranslator(i.pane,i.name);r&&(r.val.reinit(),i.setTranslator(r.val,r.arg))})},_prepareAxesAndDraw:function(n,t,i){var r=this,u=0,e=r.layoutManager,o=r._isRotated(),s=0,y=r._themeManager.getOptions("synchronizeMultiAxes"),h=r._getLayoutTargets(),c=o?r._argumentAxes:r._valueAxes,l=o?r._valueAxes:r._argumentAxes,a=l,v=c;r._scrollBar&&(r._scrollBar.setPane(h),o?v=[r._scrollBar].concat(v):a=a.concat([r._scrollBar]));do{for(u=0;u<r._argumentAxes.length;u++)r._argumentAxes[u].resetTicks();for(u=0;u<r._valueAxes.length;u++)r._valueAxes[u].resetTicks();y&&f.multiAxesSynchronizer.synchronize(r._valueAxes),n(l),e.requireAxesRedraw=!1,i.adjustAxes&&(e.applyHorizontalAxesLayout(a,h,o),e.stopDrawAxes||p(r.translators)),n(c),i.adjustAxes&&!e.stopDrawAxes&&(e.applyVerticalAxesLayout(v,h,o),e.stopDrawAxes||p(r.translators)),s=s+1}while(!e.stopDrawAxes&&e.requireAxesRedraw&&s<b);t(c),t(l),r._scrollBar&&r._scrollBar.applyLayout()},_getPanesParameters:function(){for(var t=this,i=t.panes,r=[],n=0;n<i.length;n++)t._getPaneBorderVisibility(n)&&r.push({coords:i[n].borderCoords,clipRect:t._panesClipRects.fixed[n]});return r},_createCrosshairCursor:function(){var n=this,t=n._themeManager.getOptions("crosshair")||{},i=n._displayedArgumentAxisIndex,u=n._isRotated()?[n._valueAxes,[n._argumentAxes[i]]]:[[n._argumentAxes[i]],n._valueAxes],r={canvas:n._getCommonCanvas(),panes:n._getPanesParameters(),axes:u};t&&t.enabled&&(n._crosshair?n._crosshair.update(t,r):n._crosshair=f.factory.createCrosshair(n._renderer,t,r,n._crosshairCursorGroup),n._crosshair.render())},_getCommonCanvas:function(){for(var t,n,r=this.panes,i=0;i<r.length;i++)t=r[i].canvas,n?(n.right=t.right,n.bottom=t.bottom):n=e({},t);return n},_createPanesBackground:function(){var n=this,f=n._themeManager.getOptions("commonPaneSettings").backgroundColor,t,e=n._renderer,u,i,r=[];for(n._panesBackgroundGroup.clear(),i=0;i<n.panes.length;i++){if(t=n.panes[i].backgroundColor||f,!t||t==="none"){r.push(null);continue}u=e.rect(0,0,0,0).attr({fill:t,"stroke-width":0}).append(n._panesBackgroundGroup),r.push(u)}n.panesBackground=r},_fillPanesBackground:function(){var t=this,n;r(t.panes,function(i,r){n=r.borderCoords,t.panesBackground[i]!==null&&t.panesBackground[i].attr({x:n.left,y:n.top,width:n.width,height:n.height})})},_calcPaneBorderCoords:function(n){var i=n.canvas,t=n.borderCoords=n.borderCoords||{};t.left=i.left,t.top=i.top,t.right=i.width-i.right,t.bottom=i.height-i.bottom,t.width=Math.max(t.right-t.left,0),t.height=Math.max(t.bottom-t.top,0)},_drawPanesBorders:function(n){var t=this,i=t._isRotated();t._panesBorderGroup.linkRemove().clear(),r(t.panes,function(r,u){var e,f=n[u.name],o,s={fill:"none",stroke:f.color,"stroke-opacity":f.opacity,"stroke-width":f.width,dashStyle:f.dashStyle,"stroke-linecap":"square"};(t._calcPaneBorderCoords(u,i),f.visible)&&(e=u.borderCoords,o=it(e.left,e.top,e.width,e.height,f),t._renderer.path(o.points,o.pathType).attr(s).append(t._panesBorderGroup))}),t._panesBorderGroup.linkAppend()},_createClipRect:function(n,t,i,r,u,f){var o=this,e=n[t];e?e.attr({x:i,y:r,width:u,height:f}):(e=o._renderer.clipRect(i,r,u,f),n[t]=e)},_createClipRectsForPanes:function(){var n=this,t=n._canvas;r(n.panes,function(i,u){var l=!1,f=u.borderCoords,e=f.left,o=f.top,s=f.width,h=f.height,c=n._panesClipRects;n._createClipRect(c.fixed,i,e,o,s,h),n._createClipRect(c.base,i,e,o,s,h),r(n.series,function(n,t){t.pane===u.name&&(t.isFinancialSeries()||t.areErrorBarsVisible())&&(l=!0)}),l?(n._isRotated()?(o=0,h=t.height):(e=0,s=t.width),n._createClipRect(c.wide,i,e,o,s,h)):c.wide.push(null)})},_getPaneIndex:function(n){var t;return r(this.panes,function(i,r){if(r.name===n)return t=i,!1}),t},_getPaneBorderVisibility:function(n){var i=this._themeManager.getOptions("commonPaneSettings").border.visible,r=this.panes[n]||{},t=r.border||{};return"visible"in t?t.visible:i},_getElementsClipRectID:function(n){return this._panesClipRects.fixed[this._getPaneIndex(n)].id},_getTranslator:function(n,t){var u=this.translators[n],i=null;return u?(i=u[t],i||r(u,function(n,t){return i=t,!1}),i):i},_getCanvasForPane:function(n){for(var i=this.panes,r=i.length,t=0;t<r;t++)if(i[t].name===n)return i[t].canvas},_getBusinessRange:function(n,t){for(var r=this.businessRanges||[],f=r.length,u,i=0;i<f;i++)if(r[i].val.pane===n&&r[i].val.axis===t){u=r[i];break}if(!u)for(i=0;i<f;i++)if(r[i].val.pane===n){u=r[i];break}return u},_transformArgument:function(n,t){var i=this,o=i._isRotated(),f,u,e=i._panesClipRects;i._transformed||(i._transformed=!0,i._labelsGroup.remove(),i._resetIsReady(),r(i.series||[],function(n,t){t.applyClip()})),o?(f={translateY:n,scaleY:t},u={translateY:-n/t,scaleY:1/t}):(f={translateX:n,scaleX:t},u={translateX:-n/t,scaleX:1/t}),s(e.base,u),s(e.wide,u),i._seriesGroup.attr(f),i._scrollBar&&i._scrollBar.transform(-n,t)},_resetTransform:function(){var n=this,t={translateX:0,translateY:0,scaleX:null,scaleY:null},i=n._panesClipRects;s(i.base,t),s(i.wide,t),n._seriesGroup.attr(t),r(n.series||[],function(n,t){t.resetClip()}),n._transformed=!1},_getTrackerSettings:function(){var n=this,t=n._themeManager;return e(this.callBase(),{chart:n,zoomingMode:t.getOptions("zoomingMode"),scrollingMode:t.getOptions("scrollingMode"),rotated:n._isRotated(),crosshair:n._crosshair})},_resolveLabelOverlappingStack:function(){var n=this,t=n._isRotated(),i=t?function(n,t){return{x:n.x-t,y:n.y}}:function(n,t){return{x:n.x,y:n.y-t}};r(n.seriesFamilies,function(u,e){r(e.getStackPoints(),function(u,e){r(e,function(r,u){f.overlapping.resolveLabelOverlappingInOneDirection(u,n._getCommonCanvas(),t,i)})})})},_getCrosshairOptions:function(){return this._getOption("crosshair")},zoomArgument:function(n,t,i){var r=this,u;(o(n)||o(t))&&(u=r._argumentAxes[0].zoom(n,t,i),r._zoomMinArg=u.min,r._zoomMaxArg=u.max,r._notApplyMargins=i,r._render({force:!0,drawTitle:!1,drawLegend:!1,adjustAxes:!1,animate:!1,updateTracker:!1}))},_resetZoom:function(){var n=this;n._zoomMinArg=n._zoomMaxArg=i,n._argumentAxes[0]&&n._argumentAxes[0].resetZoom()},getVisibleArgumentBounds:function(){var n=this._argumentAxes[0].getTranslator().getBusinessRange(),i=n.axisType==="discrete",t=n.categories;return{minVisible:i?n.minVisible||t[0]:n.minVisible,maxVisible:i?n.maxVisible||t[t.length-1]:n.maxVisible}}}))}(jQuery,DevExpress),function(n,t,i){var f=t.viz,e=f.charts,h=t.require("/utils/utils.math"),c=t.require("/utils/utils.common"),l=t.require("/componentRegistrator"),o=f.series.helpers.consts.pieSeriesSpacing,a="_reinit",v="_dataInit",y=["startAngle","innerRadius","segmentsDirection","type"],s=n.extend,u=n.each,r=n.noop,p=f.utils.getVerticallyShiftedAngularCoords;l("dxPieChart",f.charts,e.BaseChart.inherit({_setDeprecatedOptions:function(){this.callBase.apply(this,arguments),s(this._deprecatedOptions,{"series.innerRadius":{since:"15.2",message:"Use the 'innerRadius' option instead"},"series.startAngle":{since:"15.2",message:"Use the 'startAngle' option instead"},"series.segmentsDirection":{since:"15.2",message:"Use the 'segmentsDirection' option instead"},"series.type":{since:"15.2",message:"Use the 'type' option instead"}})},_chartType:"pie",_layoutManagerOptions:function(){var n=this._themeManager.getOptions("diameter");return c.isNumber(n)?n>1?n=1:n<0&&(n=0):n=i,s(!0,{},this.callBase(),{piePercentage:n})},_handleChangedOptions:function(n){this.callBase.apply(this,arguments),"diameter"in n&&this._processRefreshData(a),n._has(y)&&this._refreshSeries(v)},_groupSeries:function(){this.series.valueOptions={valueType:"numeric"},this._groupedSeries=[this.series],this._groupedSeries.argumentOptions=this.series[0]&&this.series[0].getOptions()},_populateBusinessRange:function(){var n=[],i=this.series,t;this._disposeObjectsInArray("businessRanges"),u(i,function(i,r){var u=new f.Range;t=r.getRangeData(),u.addRange(t.val),u.isDefined()||u.setStubData(),n.push(u)}),this.businessRanges=n},_specialProcessSeries:function(){u(this.series,function(n,t){t.arrangePoints()})},_createTranslator:function(n){return f.CoreFactory.createTranslator1D(n.min,n.max,360,0)},_checkPaneName:function(){return!0},_processSingleSeries:function(n){n.arrangePoints()},_getLegendTargets:function(){var r=this,t=[],f={},n,e=0;return u(r.series,function(o,s){var h={},c;u(s.getPoints(),function(u,o){var s=o.argument;h[s]=++h[s]||0,c=h[s],n=f[s+c],n===i?(o.index=f[s+c]=e,t.push(r._getLegendOptions(o)),e++):(o.index=n,t[n].visible||(t[n].visible=o.isVisible()))})}),t},_getAxisDrawingMethods:r,_getLayoutTargets:function(){return[{canvas:this._canvas}]},_getAxesForTransform:function(){return{verticalAxes:[],horizontalAxes:[]}},_getLayoutSeries:function(n,t){var i=this,r,e=i._canvas,f=!1;return r=i.layoutManager.applyPieChartSeriesLayout(e,n,!0),u(n,function(n,t){t.correctPosition(r),f=t.drawLabelsWOPoints(i._createTranslator(i.businessRanges[n]))||f}),f&&(r=i.layoutManager.applyPieChartSeriesLayout(e,n,t.hideLayoutLabels)),r},_updateSeriesDimensions:function(n){var r=this,f=r._getVisibleSeries(),e=f.length,i,s,t;e&&(t=r._getLayoutSeries(f,n),s=(t.radiusOuter-t.radiusInner-o*(e-1))/e,i=t.radiusInner,r._setCenter({x:t.centerX,y:t.centerY}),u(f,function(n,t){t.correctRadius({radiusInner:i,radiusOuter:i+s}),i+=s+o}))},_prepareTranslators:function(n,t){return this._createTranslator(this.businessRanges[t])},_getLegendCallBack:function(){var n=this.legend;return function(t){return n.getActionCallback(t)}},_adjustSeries:function(){u(this.series,function(n,t){t.adjustLabels()})},_prepareStackPoints:r,_resetStackPoints:r,_applyExtraSettings:r,_resolveLabelOverlappingShift:function(){function i(n,t){return p(n,-t,f)}var t=this,r=t.series,f=t._center;u(r,function(r,u){if(u.getOptions().label.position!=="inside"){var s=u.getVisiblePoints(),f=[],o=[];n.each(s,function(n,t){var i=h.normalizeAngle(t.middleAngle);(i<=90||i>=270?o:f).push(t)}),e.overlapping.resolveLabelOverlappingInOneDirection(f,t._canvas,!1,i),e.overlapping.resolveLabelOverlappingInOneDirection(o,t._canvas,!1,i)}})},_setCenter:function(n){this._center=n},getSeries:function(){return t.require("/errors").log("W0002","dxPieChart","getSeries","15.2","Use the 'getAllSeries' method instead"),this.series[0]},_legendDataField:"point",_legendItemTextField:"argument",_updateLegendPosition:r,_renderTrackers:r,_createScrollBar:r,_updateAxesLayout:r,_applyClipRects:r,_appendAdditionalSeriesGroups:r,_prepareToRender:r,_isLegendInside:r,_renderAxes:r,_isRotated:r,_seriesPopulatedHandlerCore:r,_reinitAxes:r,_correctAxes:r,_getExtraOptions:function(){var n=this;return{startAngle:n.option("startAngle"),innerRadius:n.option("innerRadius"),segmentsDirection:n.option("segmentsDirection"),type:n.option("type")}}}))}(jQuery,DevExpress),function(n,t){var f=t.viz.charts,e=t.require("/componentRegistrator"),o=t.require("/utils/utils.math"),u=t.viz,r=n.noop,s="default",h=f.AdvancedChart.inherit({_chartType:"polar",_createPanes:function(){return[{name:s}]},_checkPaneName:function(){return!0},_getAxisRenderingOptions:function(n){var i=n==="argumentAxis",t=i?"circular":"linear",r=this.option("useSpiderWeb");return r&&(t+="Spider"),{axisType:"polarAxes",drawingType:t}},_prepareAxisOptions:function(n,t){var i=n==="argumentAxis";return{type:this.option("useSpiderWeb")&&i?"discrete":t.type,isHorizontal:!0,showCustomBoundaryTicks:i}},_getExtraOptions:function(){return{spiderWidget:this.option("useSpiderWeb")}},_groupSeries:function(){this._groupedSeries=[this.series],this._groupedSeries[0].valueAxis=this._valueAxes[0],this._groupedSeries[0].valueOptions=this._valueAxes[0].getOptions(),this._groupedSeries.argumentAxes=this._argumentAxes,this._groupedSeries.argumentOptions=this._argumentAxes[0].getOptions()},_prepareToRender:function(){return this._appendAxesGroups(),{}},_renderAxes:function(n,t,i,r){this._drawAxes({},n,r)},_getAxisDrawingMethods:function(n,t,i,r){var u=this;return function(){u._renderAxes(n,t,i,r)}},_reinitTranslators:function(){var n=this,r=n._valueAxes,o=n._argumentAxes,i=n._createTranslator({arg:new u.Range(n.businessRanges[0].arg),val:new u.Range(n.businessRanges[0].val)}),f=i.getComponent("arg"),e=i.getComponent("val"),t=0;for(n.translator=i,o[0].setTranslator(f,e),t;t<r.length;t++)r[t].setTranslator(e,f)},_prepareAxesAndDraw:function(t,i){var r=this,u=r._valueAxes,f=r._argumentAxes,e=f[0];r._calcCanvas(e.measureLabels(!0)),r.translator.reinit(),t(f),n.each(u,function(n,t){t.setSpiderTicks(e.getSpiderTicks())}),t(u),i(f),i(u)},_calcCanvas:function(n){var t=this.translator.canvas;t.left+=n.width,t.right+=n.width,t.top+=n.height,t.bottom+=n.height},_getLayoutTargets:function(){return[{canvas:this._canvas}]},_getAxesForTransform:function(){var n=this._getArgumentAxes();return{verticalAxes:n,horizontalAxes:n}},_getTranslator:function(){var n=this.translator;return{val:n,arg:n}},_prepareTranslators:function(){return this.translator},_createTranslator:function(t){var f=this._themeManager,e=this.option("argumentAxis"),i=f.getOptions("argumentAxis",e)||{},r=isFinite(i.startAngle)?o.normalizeAngle(i.startAngle):0;return new u.PolarTranslator(t,n.extend(!0,{},this._canvas),{startAngle:r,endAngle:r+360})},_getSeriesForPane:function(){return this.series},_applyExtraSettings:r,_updateLegendPosition:r,_createScrollBar:r,_applyClipRects:r,_isRotated:r,_getCrosshairOptions:r,_isLegendInside:r,_processSingleSeries:r});e("dxPolarChart",f,h)}(jQuery,DevExpress),function(n,t,i){function l(n,t,i){n&&i[t]>0&&(r(n,function(n,r){var u=r.getBoundingRect();r.updateSize(),i[t]-=u[t]-r.getBoundingRect()[t]}),i[t]>0&&r(n,function(n,t){t.updateSize(!0)}))}function a(n,t,i){var r;return r=i<n?n:t<i?t:i}function v(n){if(n._label.isVisible()&&n._label.getLayoutOptions().position!=="inside")return n._label.getBoundingRect()}function k(n,t,i,e,o){var s=!1;return r(n,function(n,h){if(s)return!1;r(h.getVisiblePoints(),function(n,r){var h=v(r),c,l;h&&(c=a(h.x,h.x+h.width,t),l=a(h.y,h.y+h.height,i),e=f(u(nt(c,l,t,i)-w,o),e),s=!0)})}),e}function d(n){var t=[],i=0;return r(n,function(n,f){var e=0;r(f.getVisiblePoints(),function(n,t){var i=v(t);i&&(e=u(i.width+b,e))}),t.push(e),i+=e}),{sizes:t,common:i}}function g(n,t,i,r,u){for(var o,s=(r.width-r.left-r.right)/2,f=0;f<i.length;f++){if(n[f]===0){o&&(o+=n[f-1]);continue}o=e(o?o+n[f-1]:t),i[f].correctLabelRadius(o),u&&f!==i.length-1&&(n[f]=u,i[f].setVisibleArea({left:s-t-u*(f+1),right:r.width-(s+t+u*(f+1)),top:r.top,bottom:r.bottom,width:r.width,height:r.height}))}}function nt(n,t,i,r){return p((n-i)*(n-i)+(t-r)*(t-r))}function tt(n){var t;return n.type==="pie"?t=0:(t=o(n.innerRadius)?Number(n.innerRadius):.5,t=t<.2?.2:t,t=t>.8?.8:t),t}function it(n){return!!(n.x||n.y||n.width||n.height)}function rt(n,t){var i,f,e=!1;return r(n,function(n,o){i=o.canvas,r(t,function(n,t){f="delta"+t,i[f]=u(i[f]-(i[t.toLowerCase()]-i["original"+t]),0),i[f]>0&&(e=!0)})}),e}function ut(n,t){var i=t[0];return r(t,function(t,r){n===r.name&&(i=r)}),i}function ft(n,t){var i=!1,f=0,e=0,o=0,s=0;return r(n,function(n,t){f=u(f,t.canvas.deltaLeft),e=u(e,t.canvas.deltaRight),o=u(o,t.canvas.deltaTop),s=u(s,t.canvas.deltaBottom)}),t?r(n,function(n,t){t.canvas.top+=o,t.canvas.bottom+=s,t.canvas.right+=t.canvas.deltaRight,t.canvas.left+=t.canvas.deltaLeft}):r(n,function(n,t){t.canvas.top+=t.canvas.deltaTop,t.canvas.bottom+=t.canvas.deltaBottom,t.canvas.right+=e,t.canvas.left+=f}),r(n,function(n,t){t.canvas.top+t.canvas.bottom>t.canvas.height&&(i=!0),t.canvas.left+t.canvas.right>t.canvas.width&&(i=!0)}),i}function ot(n,t){n[t.cutLayoutSide]+=t.cutSide==="horizontal"?t.width:t.height}function st(n,t){var i=n.cutLayoutSide,r={horizontal:0,vertical:0};switch(i){case"top":case"left":r[n.cutSide]=-t[i];break;case"bottom":case"right":r[n.cutSide]=t[i]}return r}function s(){}function ht(n){return new t.viz.WrapperLayoutElement(null,{x:n.left,y:n.top,width:n.width-n.left-n.right,height:n.height-n.top-n.bottom})}var y=t.require("/utils/utils.common"),o=y.isNumber,f=Math.min,u=Math.max,e=Math.floor,p=Math.sqrt,r=n.each,h=n.extend,c=t.viz.series.helpers.consts,w=c.pieLabelIndent,b=c.pieLabelSpacing,et={left:"right",right:"left",top:"bottom",bottom:"top",center:"center"};s.prototype={constructor:s,setOptions:function(n){this._options=n},applyVerticalAxesLayout:function(n,t,i){this._applyAxesLayout(n,t,i)},applyHorizontalAxesLayout:function(n,t,i){n.reverse(),this._applyAxesLayout(n,t,i),n.reverse()},_applyAxesLayout:function(n,t,i){var c=this,u,s,e,o,f,y,l,a,p=[],w,v;for(r(t,function(n,t){h(t.canvas,{deltaLeft:0,deltaRight:0,deltaTop:0,deltaBottom:0})}),v=0;v<n.length;v++)if(f=n[v],s=f.getOptions().position||"left",f.delta={},e=f.getBoundingRect(),w=ut(f.pane,t),u=w.canvas,it(e)){l="delta"+s.slice(0,1).toUpperCase()+s.slice(1);switch(s){case"right":a=1,u.deltaLeft+=f.padding?f.padding.left:0;break;case"left":a=-1,u.deltaRight+=f.padding?f.padding.right:0;break;case"top":a=-1,u.deltaBottom+=f.padding?f.padding.bottom:0;break;case"bottom":a=1,u.deltaTop+=f.padding?f.padding.top:0}switch(s){case"right":case"left":e.isEmpty||(o=e.y+e.height-(u.height-u.originalBottom),o>0&&(c.requireAxesRedraw=!0,u.deltaBottom+=o),o=u.originalTop-e.y,o>0&&(c.requireAxesRedraw=!0,u.deltaTop+=o)),y=e.width,p=["Left","Right"];break;case"top":case"bottom":e.isEmpty||(o=e.x+e.width-(u.width-u.originalRight),o>0&&(c.requireAxesRedraw=!0,u.deltaRight+=o),o=u.originalLeft-e.x,o>0&&(c.requireAxesRedraw=!0,u.deltaLeft+=o)),p=["Bottom","Top"],y=e.height}!f.delta[s]&&u[l]>0&&(u[l]+=f.getMultipleAxesSpacing()),f.delta[s]=f.delta[s]||0,f.delta[s]+=u[l]*a,u[l]+=y}c.requireAxesRedraw=rt(t,p)||c.requireAxesRedraw,c.stopDrawAxes=ft(t,i)},applyPieChartSeriesLayout:function(n,t,i){var v=n.height-n.top-n.bottom,y=n.width-n.left-n.right,s=y/2+n.left,p=v/2+n.top,c=this._options.piePercentage,u=o(c)?c*f(n.height,n.width)/2:f(y,v)/2,l=.7*u,h,w,a,b=0,nt=tt(t[0]);return i||o(c)||(h=d(t),a=s-h.common+n.left,a<l?(u=l,r(h.sizes,function(n,t){t!==0&&b++}),w=(s-u-n.left)/b):u=f(k(t,s,p,u,l),a),g(h.sizes,u,t,n,w)),{centerX:e(s),centerY:e(p),radiusInner:e(u*nt),radiusOuter:e(u),canvas:n}},needMoreSpaceForPanesCanvas:function(n,t){var h=this._options,a=h.width,v=h.height,l=h.piePercentage,c=o(l),e=0,s=0;return r(n,function(n,r){var o=r.canvas,p=c?f(o.width,o.height)*l:i,h=(c?p:a)-(o.width-o.left-o.right),y=(c?p:v)-(o.height-o.top-o.bottom);t?(e+=h>0?h:0,s=u(y>0?y:0,s)):(e=u(h>0?h:0,e),s+=y>0?y:0)}),e>0||s>0?{width:e,height:s}:!1},layoutElements:function(n,t,i,r,u,f){this._elements=n,this._probeDrawing(t),this._drawElements(t),i&&i(),this._processAdaptiveLayout(r,u,t,f,i),this._positionElements(t)},_processAdaptiveLayout:function(t,i,r,u,f){function o(n,t,i){n.getLayoutOptions()[i]||(r[t.cutLayoutSide]-=t[i],e[i]=Math.max(e[i]-t[i],0))}var s=this,e=s.needMoreSpaceForPanesCanvas(t,i),c=this._elements;e&&(n.each(c.slice().reverse(),function(t,i){var r=h({},i.getLayoutOptions()),u;r&&(u=n.extend({},r),r.cutSide==="vertical"&&e.height&&(i.draw(u.width,u.height-e.height),o(i,r,"height")),r.cutSide==="horizontal"&&e.width&&(i.draw(u.width-e.width,u.height),o(i,r,"width")))}),l(u.verticalAxes,"width",e),l(u.horizontalAxes,"height",e),f&&f(!0))},_probeDrawing:function(t){var i=this;n.each(this._elements,function(n,r){var f=r.getLayoutOptions(),u;f&&(u={width:t.width-t.left-t.right,height:t.height-t.top-t.bottom},f.cutSide==="vertical"?u.height-=i._options.height:u.width-=i._options.width,r.probeDraw(u.width,u.height),ot(t,r.getLayoutOptions()))})},_drawElements:function(t){n.each(this._elements.slice().reverse(),function(n,i){var u=i.getLayoutOptions(),r,e,f;u&&(r={width:t.width-t.left-t.right,height:t.height-t.top-t.bottom},e=u.cutSide,f=e==="horizontal"?"width":"height",r[f]=u[f],i.draw(r.width,r.height))})},_positionElements:function(t){var i={left:0,right:0,top:0,bottom:0};n.each(this._elements.slice().reverse(),function(n,r){var u=r.getLayoutOptions(),f,o,e;u&&(f=u.position,o=u.cutSide,e={horizontal:f.horizontal,vertical:f.vertical},e[o]=et[e[o]],r.position({of:ht(t),my:e,at:f,offset:st(u,i)}),i[u.cutLayoutSide]+=u[u.cutSide==="horizontal"?"width":"height"])})}},t.viz.charts.LayoutManager=s}(jQuery,DevExpress),function(n,t){var v=t.viz,y=v.Range,l=t.require("/utils/utils.common"),h=t.require("/utils/utils.math"),s=h.adjustValue,a=h.applyPrecisionByMinDelta,u=l.isDefined,ct=t.require("/utils/utils.console").debug,e=Math,o=e.floor,c=e.max,p=e.abs,r=n.each,k=.1,d=function(n){var t={};return r(n,function(n,i){var r=i.pane;t[r]||(t[r]=[]),t[r].push(i)}),t},g=function(n){var i,t=n.getTranslator();t._originalBusinessRange?(i=new y(t._originalBusinessRange),t.updateBusinessRange(i)):t._originalBusinessRange=new y(t.getBusinessRange())},nt={transform:function(n,t){return h.getLog(n,t)},addInterval:function(n,t){return n+t},getInterval:function(n,t){return t},adjustValue:o},tt={transform:function(n,t){return h.raiseTo(n,t)},addInterval:function(n,t){return n*t},getInterval:function(n,t){return e.pow(n,t)},adjustValue:s},w=function(n,t){if(n.isLogarithmic){var i=n.logarithmicBase,o=n.tickValues,r,u=[],s,f;for(n.minValue=t.transform(n.minValue,i),n.oldMinValue=t.transform(n.oldMinValue,i),n.maxValue=t.transform(n.maxValue,i),n.oldMaxValue=t.transform(n.oldMaxValue,i),n.tickInterval=e.round(n.tickInterval),n.tickInterval<1&&(n.tickInterval=1),s=t.getInterval(i,n.tickInterval),r=t.transform(o[0],i),f=0;f<o.length;f++)u.push(t.adjustValue(r)),r=t.addInterval(r,s);u.tickInterval=n.tickInterval,n.tickValues=u}},it=function(n){return v.utils.map(n,function(n){g(n);var c=n.getTicksValues(),t=c.majorTicksValues,s=n.getOptions(),f,e,i=null,r,o,h;return t&&t.length>0&&l.isNumber(t[0])&&s.type!=="discrete"&&(r=n.getTranslator().getBusinessRange(),o=n._tickManager.getTickInterval(),f=r.minVisible,e=r.maxVisible,h=s.synchronizedValue,f===e&&u(h)&&(o=p(t[0]-h)||1,f=t[0]-o,e=t[0]+o),i={axis:n,isLogarithmic:s.type==="logarithmic",logarithmicBase:r.base,tickValues:t,minorValues:c.minorTicksValues,minValue:f,oldMinValue:f,maxValue:e,oldMaxValue:e,inverted:r.invert,tickInterval:o,synchronizedValue:h},r.stubData&&(i.stubData=!0,i.tickInterval=i.tickInterval||s.tickInterval,i.isLogarithmic=!1),w(i,nt)),i})},rt=function(n){var t=0;r(n,function(n,i){t=c(t,i.tickValues.length)}),r(n,function(n,i){var e,s,h=0,c=i.synchronizedValue,r=i.tickValues,f=i.tickInterval;if(u(c))i.baseTickValue=i.invertedBaseTickValue=c,i.tickValues=[i.baseTickValue];else{if(r.length>1&&f){for(e=o((t+1)/r.length),s=e>1?o((t+1)/e):t,h=o((s-r.length)/2);h>0&&r[0]!==0;)r.unshift(a(r[0],f,r[0]-f)),h--;while(r.length<s)r.push(a(r[0],f,r[r.length-1]+f));i.tickInterval=f/e}i.baseTickValue=r[0],i.invertedBaseTickValue=r[r.length-1]}})},f=function(n){return n.maxValue-n.minValue||1},b=function(n){for(var t=0;t<n.length;t++)if(!n[t].stubData)return n[t];return null},ut=function(n){var t=b(n),i=t.tickInterval;r(n,function(n,r){var h,e,o,s;r!==t&&(i&&r.tickInterval&&(r.stubData&&u(r.synchronizedValue)&&(r.oldMinValue=r.minValue=r.baseTickValue-(t.baseTickValue-t.minValue)/i*r.tickInterval,r.oldMaxValue=r.maxValue=r.baseTickValue-(t.baseTickValue-t.maxValue)/i*r.tickInterval),h=i/f(t)/r.tickInterval*f(r),r.maxValue=r.minValue+f(r)/h),o=t.inverted&&!r.inverted||!t.inverted&&r.inverted?t.maxValue-t.invertedBaseTickValue:t.baseTickValue-t.minValue,s=f(r),e=(o/f(t)-(r.baseTickValue-r.minValue)/s)*s,r.minValue-=e,r.maxValue-=e)})},ft=function(n){var t,i,u=0,e=0;return r(n,function(n,r){var o=r.inverted;t=r.minValue>r.oldMinValue?(r.minValue-r.oldMinValue)/f(r):0,i=r.maxValue<r.oldMaxValue?(r.oldMaxValue-r.maxValue)/f(r):0,u=c(u,o?i:t),e=c(e,o?t:i)}),{start:u,end:e}},et=function(n,t){r(n,function(n,i){var r=f(i),u=i.inverted;i.minValue-=t[u?"end":"start"]*r,i.maxValue+=t[u?"start":"end"]*r,r>k&&(i.minValue=e.min(i.minValue,s(i.minValue)),i.maxValue=c(i.maxValue,s(i.maxValue)))})},ot=function(n){var t=!1;r(n,function(n,i){t=t||u(i.synchronizedValue)}),r(n,function(n,i){var u,f=i.tickInterval,r=i.tickValues,o=i.maxValue,e=i.minValue;if(t&&f){while(r[0]-f>=e)r.unshift(s(r[0]-f));for(u=r[r.length-1];(u=u+f)<=o;)r.push(l.isExponential(u)?s(u):a(e,f,u))}while(r[0]<e)r.shift();while(r[r.length-1]>o)r.pop()})},st=function(n){r(n,function(n,t){var r=t.axis,i=r.getTranslator().getBusinessRange();i.min===i.minVisible&&(i.min=t.minValue),i.max===i.maxVisible&&(i.max=t.maxValue),i.minVisible=t.minValue,i.maxVisible=t.maxValue,u(t.stubData)&&(i.stubData=t.stubData),i.min>i.minVisible&&(i.min=i.minVisible),i.max<i.maxVisible&&(i.max=i.maxVisible),i.isSynchronized=!0,r.getTranslator().updateBusinessRange(i),r.setTicks({majorTicks:t.tickValues,minorTicks:t.minorValues})})},ht=function(n){var f=[],t,i;(r(n,function(n,r){r.oldMaxValue-r.oldMinValue==0?f.push(r):u(t)||u(r.synchronizedValue)||(t=p((r.maxValue-r.minValue)/(r.tickValues[o(r.tickValues.length/2)]||r.maxValue)),i=r)}),u(t))&&r(f,function(n,r){var u=r.tickValues[0],f=u*t,e=i.tickValues,s=e[o(e.length/2)];u>0?(r.maxValue=f,r.minValue=0):u<0?(r.minValue=f,r.maxValue=0):u===0&&(r.maxValue=i.maxValue-s,r.minValue=i.minValue-s)})};t.viz.charts.multiAxesSynchronizer={synchronize:function(n){r(d(n),function(n,t){var i,u;if(t.length>1){if(i=it(t),i.length===0||!b(i))return;rt(i),ut(i),u=ft(i),et(i,u),ht(i),ot(i),r(i,function(){w(this,tt)}),st(i)}})}}}(jQuery,DevExpress),function(n,t,i,r){function o(n,t){var i=n.target;return(i.tagName==="tspan"?i.parentNode:i)[t]}function vt(n,t){return n.cancel||!t.getOptions()}function yt(n,t,i){return t>=n.left&&t<=n.right&&i>=n.top&&i<=n.bottom}function ut(n,t,i,r,u){f(n,function(n,f){var e=f.series;f===t?(e[i]({point:f,setState:!0}),r&&u(r,{target:f})):e[i]({point:f})})}function ft(n,t,i){var r=[];return f(n,function(n,u){f(u.getPointsByArg(t),function(n,t){i===t.index&&r.push(t)})}),r}var a=t.viz.charts,h=t.viz.series.helpers.consts.events,pt=t.require("/utils/utils.common"),l=t.require("/ui/events/pointer/ui.events.pointer"),v=t.require("/ui/events/ui.events.wheel"),y=pt.isDefined,u=t.viz.utils.normalizeEnum,e=i.floor,f=n.each,et="multiple",g="allargumentpoints",ot="allseriespoints",wt="markpoint",p="none",w=[l.down,l.move].join(" "),b="pointSelectionChanged",st="legendClick",nt="seriesClick",tt="pointClick",ht="releasePointSelectedState",ct="setPointSelectedState",lt="seriesHoverChanged",c="pointHoverChanged",it="releasePointHoverState",k="seriesSelectionChanged",d="chart-data-point",rt="chart-data-series",at="chart-data-argument",bt=100,s={ctor:function(t){var i=this,r={tracker:i};u(t.pointSelectionMode)===et?(i._setSelectedPoint=i._selectPointMultipleMode,i._releaseSelectedPoint=i._releaseSelectedPointMultipleMode):(i._setSelectedPoint=i._selectPointSingleMode,i._releaseSelectedPoint=i._releaseSelectedPointSingleMode),u(t.seriesSelectionMode)===et?(i._releaseSelectedSeries=i._releaseSelectedSeriesMultipleMode,i._setSelectedSeries=i._setSelectedSeriesMultipleMode):(i._releaseSelectedSeries=i._releaseSelectedSeriesSingleMode,i._setSelectedSeries=i._setSelectedSeriesSingleMode),i._renderer=t.renderer,i._tooltip=t.tooltip,i._eventTrigger=t.eventTrigger;t.seriesGroup.off().on(h.selectSeries,r,i._selectSeries).on(h.deselectSeries,r,i._deselectSeries).on(h.selectPoint,r,i._selectPoint).on(h.deselectPoint,r,i._deselectPoint).on(h.showPointTooltip,r,i._showPointTooltip).on(h.hidePointTooltip,r,i._hidePointTooltip);i._renderer.root.off(w).off("dxclick dxhold").on(w,r,i._pointerHandler).on("dxclick",r,i._clickHandler).on("dxhold",{timeout:300},n.noop)},update:function(n){var t=this;t._storedSeries!==n.series?(t._storedSeries=n.series||[],t._clean()):(t._hideTooltip(t.pointAtShownTooltip),t._clearHover(),t.clearSelection()),t._legend=n.legend,t.legendCallback=n.legendCallback,t._prepare(t._renderer.root)},setCanvases:function(n,t){this._mainCanvas=n,this._canvases=t},repairTooltip:function(){var n=this.pointAtShownTooltip;n&&!n.isVisible()?this._hideTooltip(n,!0):this._showTooltip(n)},_prepare:function(n){n.off(v.name).on(v.name,{tracker:this},function(n){n.data.tracker._pointerOut()})},_selectPointMultipleMode:function(t){var i=this;i._selectedPoint=i._selectedPoint||[],n.inArray(t,i._selectedPoint)<0&&(i._selectedPoint.push(t),i._setPointState(t,ct,u(t.getOptions().selectionMode),b,i.legendCallback(t)))},_releaseSelectedPointMultipleMode:function(t){var i=this,r=i._selectedPoint||[],e=n.inArray(t,r);e>=0?(i._setPointState(t,ht,u(t.getOptions().selectionMode),b,i.legendCallback(t)),r.splice(e,1)):t||f(r,function(n,t){i._releaseSelectedPoint(t)})},_selectPointSingleMode:function(n){var t=this;t._selectedPoint!==n&&(t._releaseSelectedPoint(),t._selectedPoint=n,t._setPointState(n,ct,u(n.getOptions().selectionMode),b,t.legendCallback(n)))},_releaseSelectedPointSingleMode:function(){var n=this,t=n._selectedPoint;t&&(n._setPointState(t,ht,u(t.getOptions().selectionMode),b,n.legendCallback(t)),n._selectedPoint=null)},_setPointState:function(n,t,i,r,u){var f=this,e=f._eventTrigger;switch(i){case g:case wt:f._toAllArgumentPoints(n.argument,t,r,n,u);break;case ot:ut(n.series.getPoints(),n,t,r,e);break;case p:break;default:n.series[t]({point:n,legendCallback:u,setState:!0}),e(r,{target:n})}},_setHoveredPoint:function(n,t){var i=this;i.hoveredPoint!==n&&n.series&&(i._releaseHoveredPoint(),n&&n.getOptions()&&t!==p&&(i.hoveredPoint=n,i._setPointState(n,"setPointHoverState",t||u(n.getOptions().hoverMode),c,i.legendCallback(n))))},_releaseHoveredPoint:function(){var n=this,t=n.hoveredPoint,i=n._eventTrigger;t&&t.getOptions()&&(n._releasePoint(t,i),n._tooltip.isEnabled()&&n._hideTooltip(t),n.hoveredPoint=null)},_setSelectedSeriesMultipleMode:function(t,i){var r=this;r._selectedSeries=r._selectedSeries||[],n.inArray(t,r._selectedSeries)<0&&(r._selectedSeries.push(t),t.setSelectedState(!0,i,r.legendCallback(t)),r._eventTrigger(k,{target:t}))},_setSelectedSeriesSingleMode:function(n,t){var i=this;(n!==i._selectedSeries||n.lastSelectionMode!==t)&&(i._releaseSelectedSeries(),i._selectedSeries=n,n.setSelectedState(!0,t,i.legendCallback(n)),i._eventTrigger(k,{target:n}))},_releaseSelectedSeriesMultipleMode:function(t){var i=this,u=i._selectedSeries||[],e=n.inArray(t,u);e>=0?(t.setSelectedState(!1,r,i.legendCallback(t)),i._eventTrigger(k,{target:t}),u.splice(e,1)):t||f(u,function(n,t){i._releaseSelectedSeries(t)})},_releaseSelectedSeriesSingleMode:function(n){var i=this,t=i._selectedSeries;t&&(!n||n===t)&&(t.setSelectedState(!1,r,i.legendCallback(t)),i._eventTrigger(k,{target:t}),i._selectedSeries=null)},_setHoveredSeries:function(n,t){var i=this;(t!==p&&i.hoveredSeries!==n||n.lastHoverMode!==t)&&(i._clearHover(),n.setHoverState(!0,t,i.legendCallback(n)),i._eventTrigger(lt,{target:n})),i.hoveredSeries=n},_releaseHoveredSeries:function(n,t){var i=this,u=i.hoveredSeries,f=i._seriesWithHoverView;u?(u.setHoverState(!1,r,i.legendCallback(u)),n&&t&&t.series===u&&(i._seriesWithHoverView=u.setHoverView()),i._eventTrigger(lt,{target:u}),i.hoveredSeries=null):f&&!n&&(f.releaseHoverView(),i._seriesWithHoverView=null)},_selectSeries:function(n,t){n.data.tracker._setSelectedSeries(n.target,t)},_deselectSeries:function(n,t){n.data.tracker._releaseSelectedSeries(n.target,t)},_selectPoint:function(n,t){n.data.tracker._setSelectedPoint(t)},_deselectPoint:function(n,t){n.data.tracker._releaseSelectedPoint(t)},clearSelection:function(){this._releaseSelectedPoint(),this._releaseSelectedSeries()},_clean:function(){var n=this;n._selectedPoint=n._selectedSeries=n.hoveredPoint=n.hoveredSeries=n._hoveredArgumentPoints=n._seriesWithHoverView=null,n._hideTooltip(n.pointAtShownTooltip)},_clearHover:function(){this._releaseHoveredSeries(!1),this._releaseHoveredPoint()},_hideTooltip:function(n,t){var i=this;i._tooltip&&(!n||i.pointAtShownTooltip===n)&&(!t&&i.pointAtShownTooltip&&(i.pointAtShownTooltip=null),i._tooltip.hide())},_showTooltip:function(n){var t=this,i,f,r,u;if(n&&n.getOptions()){if(i=n.getTooltipFormatObject(t._tooltip),!y(i.valueText)&&!i.points||!n.isVisible())return;if(t.pointAtShownTooltip&&t.pointAtShownTooltip===n||(f={target:n}),r=n.getTooltipParams(t._tooltip.getLocation()),u=t._renderer.getRootOffset(),r.x+=u.left,r.y+=u.top,!t._tooltip.show(i,r,f))return;t.pointAtShownTooltip=n}},_showPointTooltip:function(n,t){var i=n.data.tracker,r=i.pointAtShownTooltip;r&&r!==t&&i._hideTooltip(r),i._showTooltip(t)},_hidePointTooltip:function(n,t){n.data.tracker._hideTooltip(t)},_enableOutHandler:function(){if(!this._outHandler){var t=this,i=function(n){var i=t._renderer.getRootOffset(),r=e(n.pageX-i.left),u=e(n.pageY-i.top);yt(t._mainCanvas,r,u)||(t._pointerOut(),t._disableOutHandler())};n(document).on(w,i);this._outHandler=i}},_disableOutHandler:function(){this._outHandler&&n(document).off(w,this._outHandler),this._outHandler=null},_pointerOut:function(){this._clearHover(),this._tooltip.isEnabled()&&this._hideTooltip(this.pointAtShownTooltip)},_legendClick:function(n,t){var i=this._eventTrigger;i(st,n,function(){vt(n.jQueryEvent,n.target)||i(t,n)})},dispose:function(){var n=this;n._disableOutHandler(),f(n,function(t){n[t]=null})}};a.ChartTracker=function(n){this.ctor(n)},n.extend(a.ChartTracker.prototype,s,{ctor:function(n){var t=this;s.ctor.call(t,n)},_pointClick:function(n,t){var u=this,i=u._eventTrigger,r=n.series;i(tt,{target:n,jQueryEvent:t},function(){vt(t,r)||i(nt,{target:r,jQueryEvent:t})})},update:function(n){var t=this;t._zoomingMode=u(n.zoomingMode),t._scrollingMode=u(n.scrollingMode),s.update.call(this,n),t._argumentAxis=n.argumentAxis||{},t._axisHoverEnabled=t._argumentAxis&&u(t._argumentAxis.getOptions().hoverMode)===g,t._chart=n.chart,t._rotated=n.rotated,t._crosshair=n.crosshair},_toAllArgumentPoints:function(n,t,i,r){var u=this;f(u._storedSeries,function(f,e){ut(e.getPointsByArg(n),r,t,i,u._eventTrigger)})},_getCanvas:function(n,t){for(var f=this,u=f._canvases||[],r,i=0;i<u.length;i++)if(r=u[i],yt(r,n,t))return r;return null},_focusOnCanvas:function(n){!n&&this._stickedSeries&&this._pointerOut()},_releasePoint:function(n,t){var r=this,i=u(n.getOptions().hoverMode);i===ot?ut(n.series.getPoints(),n,it,c,t):i===g?r._toAllArgumentPoints(n.argument,it,c,n):i!=="none"&&(n.releaseHoverState(r.legendCallback(n)),t(c,{target:n}))},_resetHoveredArgument:function(){y(this.hoveredArgument)&&(this._toAllArgumentPoints(this.hoveredArgument,it),this.hoveredArgument=null)},_hideCrosshair:function(){this._crosshair&&this._crosshair.hide()},_moveCrosshair:function(n,t,i){n&&this._crosshair&&n.isVisible()&&this._crosshair.show(n.getCrosshairData(t,i),n.getPointRadius())},_prepare:function(t){var i=this,u=i._scrollingMode==="all"||i._scrollingMode==="touch",f=i._zoomingMode==="all"||i._zoomingMode==="touch",r=(u?"":"pan-x pan-y ")+(f?"":"pinch-zoom")||"none",e={"touch-action":r,"-ms-touch-action":r},o=i._zoomingMode==="all"||i._zoomingMode==="mouse";if(t.off(v.name+" dxc-scroll-start dxc-scroll-move"),s._prepare.call(i,t),!i._gestureEndHandler){i._gestureEndHandler=function(){i._gestureEnd&&i._gestureEnd()};n(document).on(l.up,i._gestureEndHandler)}o&&t.on(v.name,function(n){var t=i._renderer.getRootOffset(),r=i._rotated?n.pageY-t.top:n.pageX-t.left,u=i._argumentAxis.getTranslator().getMinScale(n.delta>0),e=r-r*u,f=i._argumentAxis.getTranslator().zoom(-e,u);i._pointerOut(),i._chart.zoomArgument(f.min,f.max,!0),n.preventDefault(),n.stopPropagation()});t.on("dxc-scroll-start",function(n){i._gestureStart(i._getGestureParams(n,{left:0,top:0}))}).on("dxc-scroll-move",function(n){i._gestureChange(i._getGestureParams(n,{left:0,top:0}))&&n.preventDefault()});t.css(e)},_getGestureParams:function(n,t){var h=this,r,u,e=n.pointers.length,f,o,s=h._rotated?"pageY":"pageX";return t=h._rotated?t.top:t.left,e===2?(r=n.pointers[0][s]-t,u=n.pointers[1][s]-t):e===1&&(r=u=n.pointers[0][s]-t),f=i.min(r,u),o=i.max(r,u),{center:f+(o-f)/2,distance:o-f,touches:e,scale:1,pointerType:n.pointerType}},_gestureStart:function(n){var t=this;t._startGesture=t._startGesture||n,t._startGesture.touches!==n.touches&&(t._startGesture=n)},_gestureChange:function(n){var r=this,t=r._startGesture,u=!1,f=r._scrollingMode==="all"||r._scrollingMode!=="none"&&r._scrollingMode===n.pointerType,e=r._zoomingMode==="all"||r._zoomingMode==="touch";return t?t.touches===1&&i.abs(t.center-n.center)<3?(r._gestureStart(n),u):(t.touches===2&&e?(u=!0,t.scale=n.distance/t.distance,t.scroll=n.center-t.center+(t.center-t.center*t.scale)):t.touches===1&&f&&(u=!0,t.scroll=n.center-t.center),u&&(t.changed=u,r._chart._transformArgument(t.scroll,t.scale)),u):u},_gestureEnd:function(){function u(){i._chart.zoomArgument(t.min,t.max,!0)}var i=this,n=i._startGesture,t,r=i._renderer,f,e;i._startGesture=null,n&&n.changed&&(t=i._argumentAxis._translator.zoom(-n.scroll,n.scale),r.animationEnabled()&&(-n.scroll!==t.translate||n.scale!==t.scale)?(f=-(n.scroll+t.translate),e=n.scale-t.scale,r.root.animate({_:0},{step:function(t){var r=-n.scroll-f*t,u=n.scale-e*t;i._chart._transformArgument(-r,u)},complete:u,duration:250})):u())},_clean:function(){var n=this;s._clean.call(n),n._resetTimer(),n._stickedSeries=null},_getSeriesForShared:function(n,t){var r=this,e=[],u=null,o=Infinity;return r._tooltip.isShared()&&!r.hoveredSeries&&(f(r._storedSeries,function(i,r){var u=r.getNeighborPoint(n,t);u&&e.push(u)}),f(e,function(r,f){var e=f.getCrosshairData(n,t),s=i.sqrt((n-e.x)*(n-e.x)+(t-e.y)*(t-e.y));s<o&&(u=f,o=s)})),u&&u.series},_setTimeout:function(n,t){var i=this;i._timeoutKeeper!==t&&(i._resetTimer(),i._hoverTimeout=setTimeout(function(){n(),i._timeoutKeeper=null},bt),i._timeoutKeeper=t)},_resetTimer:function(){clearTimeout(this._hoverTimeout),this._timeoutKeeper=this._hoverTimeout=null},_pointerHandler:function(n){var t=n.data.tracker,h=t._renderer.getRootOffset(),u=e(n.pageX-h.left),f=e(n.pageY-h.top),c=t._getCanvas(u,f),i=o(n,rt),r=o(n,d)||i&&i.getPointByCoord(u,f),a,s,v;if(t._enableOutHandler(),t._x=u,t._y=f,n.type===l.down)c&&t._gestureStart(t._getGestureParams(n,h));else if(t._startGesture&&c&&t._gestureChange(t._getGestureParams(n,h))){t._pointerOut(),n.preventDefault();return}if(t._legend.coordsIn(u,f)){a=t._legend.getItemByCoord(u,f),a?(i=t._storedSeries[a.id],t._setHoveredSeries(i,t._legend._options.hoverMode),t._stickedSeries=i):t._clearHover(),t._hideCrosshair();return}if(t._axisHoverEnabled&&t._argumentAxis.coordsIn(u,f)){s=o(n,at),v=y(s),v&&t.hoveredArgument!==s?(t._clearHover(),t._resetHoveredArgument(),t._toAllArgumentPoints(s,"setPointHoverState"),t.hoveredArgument=s):v||t._resetHoveredArgument();return}if(t._resetHoveredArgument(),t._focusOnCanvas(c),c||r){if(i||r||(t._stickedSeries=t._stickedSeries||t._getSeriesForShared(u,f)),i&&!r){if(r=i.getNeighborPoint(u,f),i!==t.hoveredSeries){t._setTimeout(function(){t._setHoveredSeries(i,i.getOptions().hoverMode),t._stickedSeries=i,t._pointerComplete(r)},i);return}}else{if(r){t.hoveredSeries?t._setTimeout(function(){t._pointerOnPoint(r)},r):(t._pointerOnPoint(r),t._seriesWithHoverView=r.series.setHoverView());return}t._stickedSeries&&(i=t._stickedSeries,r=i.getNeighborPoint(u,f),t._releaseHoveredSeries(!1),r&&t._setHoveredPoint(r))}t._pointerComplete(r)}},_pointerOnPoint:function(n){var t=this,i=t._seriesWithHoverView,r=n.series;t._stickedSeries=r,t._setHoveredPoint(n),t._releaseHoveredSeries(!i||i===r,n),t._pointerComplete(n)},_pointerComplete:function(n){var t=this;t.hoveredSeries&&t.hoveredSeries.updateHover(t._x,t._y),t._resetTimer(),t._moveCrosshair(n,t._x,t._y),t.pointAtShownTooltip!==n&&t._tooltip.isEnabled()&&t._showTooltip(n)},_pointerOut:function(){var n=this;n._stickedSeries=null,n._hideCrosshair(),n._resetHoveredArgument(),n._resetTimer(),s._pointerOut.call(n)},_clickHandler:function(n){var t=n.data.tracker,c=t._renderer.getRootOffset(),u=e(n.pageX-c.left),f=e(n.pageY-c.top),i=o(n,d),r=t._stickedSeries||o(n,rt)||i&&i.series,l=t._argumentAxis,s,h;if(t._legend.coordsIn(u,f)){s=t._legend.getItemByCoord(u,f),s&&(r=t._storedSeries[s.id],t._legendClick({target:r,jQueryEvent:n},nt));return}if(l&&l.coordsIn(u,f)&&(h=o(n,at),y(h))){t._eventTrigger("argumentAxisClick",{argument:h,jQueryEvent:n});return}r&&(i=i||r.getPointByCoord(u,f),i?t._pointClick(i,n):o(n,rt)&&t._eventTrigger(nt,{target:r,jQueryEvent:n}))},dispose:function(){this._gestureEndHandler&&n(document).off(l.up,this._gestureEndHandler),this._resetTimer(),s.dispose.call(this)}}),a.PieTracker=function(n){this.ctor(n)},n.extend(a.PieTracker.prototype,s,{_pointerHandler:function(n){var t=n.data.tracker,s=t._renderer.getRootOffset(),h=e(n.pageX-s.left),c=e(n.pageY-s.top),i=o(n,d),l,r;t._enableOutHandler(),t._legend.coordsIn(h,c)&&(r=t._legend.getItemByCoord(h,c),r&&f(t._storedSeries,function(n,t){return f(t.getPointsByArg(r.argument),function(n,t){if(t.index===r.id)return i=t,!1}),i?!1:void 0}),l=u(t._legend._options.hoverMode)),i&&i!==t.hoveredPoint?(!r&&t._tooltip.isEnabled()&&t._showTooltip(i),t._setHoveredPoint(i,l)):i||t._pointerOut()},_toAllArgumentPoints:function(n,t,i,r,u){var e=this;e._hoveredArgumentPoints=!0,f(ft(e._storedSeries,n,r.index),function(n,f){var s=f.series,o={point:f,setState:!0};f===r&&(o.legendCallback=u),s[t](o),e._eventTrigger(i,{target:f})})},_releasePoint:function(n,t){var i=this;i._hoveredArgumentPoints?(i._hoveredArgumentPoints=null,f(ft(i._storedSeries,n.argument,n.index),function(n,r){r.releaseHoverState(i.legendCallback(r)),t(c,{target:r})})):u(n.getOptions().hoverMode)!==p&&(n.releaseHoverState(i.legendCallback(n)),t(c,{target:n}))},_clickHandler:function(n){var t=n.data.tracker,f=t._renderer.getRootOffset(),s=e(n.pageX-f.left),h=e(n.pageY-f.top),c=t._eventTrigger,l=t._legend,a,r,u,i;l.coordsIn(s,h)?(i=l.getItemByCoord(s,h),i&&(u=i.argument,t._storedSeries.length===1?(a=ft(t._storedSeries,u,i.id),t._legendClick({target:a[0],jQueryEvent:n},tt)):c(st,{target:u,jQueryEvent:n}))):(r=o(n,d),r&&c(tt,{target:r,jQueryEvent:n}))}})}(jQuery,DevExpress,Math),function(n,t){function u(n,t,i,r){var u=this;u._renderer=n,u._crosshairGroup=r,u._options={},u.update(t,i)}var r=Math,f=r.abs,e=r.min,o=r.max,s=r.floor,v="horizontal",y="vertical",h=8,c=4,p="center",l="right",w="left",b="top",a="bottom";t.viz.charts.Crosshair=u,u.prototype={constructor:u,update:function(n,t){var r=this,i=t.canvas;r._canvas={top:i.top,bottom:i.height-i.bottom,left:i.left,right:i.width-i.right,width:i.width,height:i.height},r._axes=t.axes,r._panes=t.panes,r._prepareOptions(n,v),r._prepareOptions(n,y)},dispose:function(){var n=this;n._renderer=null,n._crosshairGroup=null,n._options=null,n._axes=null,n._canvas=null,n._horizontalGroup=null,n._verticalGroup=null,n._horizontal=null,n._vertical=null,n._circle=null,n._panes=null},_prepareOptions:function(t,i){var r=t[i+"Line"];this._options[i]={visible:r.visible,line:{stroke:r.color||t.color,"stroke-width":r.width||t.width,dashStyle:r.dashStyle||t.dashStyle,opacity:r.opacity||t.opacity,"stroke-linecap":"butt"},label:n.extend(!0,{},t.label,r.label)}},_createLines:function(n,t,i){for(var f=[],r=this._canvas,e=[r.left,r.top,r.left,r.top],u=0;u<2;u++)f.push(this._renderer.path(e,"line").attr(n).sharp(t).append(i));return f},render:function(){var n=this,u=n._renderer,f=n._options,i=f.vertical,t=f.horizontal,r=t.visible?t.line:i.line,o={stroke:r.stroke,"stroke-width":r["stroke-width"],dashStyle:r.dashStyle,opacity:r.opacity},e=n._canvas;n._horizontal={},n._vertical={},n._horizontalGroup=u.g().append(n._crosshairGroup),n._verticalGroup=u.g().append(n._crosshairGroup),i.visible&&(n._vertical.lines=n._createLines(i.line,"h",n._verticalGroup),n._vertical.labels=n._createLabels(n._axes[0],i,!1,n._verticalGroup)),t.visible&&(n._horizontal.lines=n._createLines(t.line,"v",n._horizontalGroup),n._horizontal.labels=n._createLabels(n._axes[1],t,!0,n._horizontalGroup)),n._circle=u.circle(e.left,e.top,0).attr(o).append(n._crosshairGroup),n.hide()},_createLabels:function(i,r,u,f){var v=this,y=v._canvas,k=v._renderer,c,e,s,d=[],g,h,o;if(r.label&&r.label.visible)return n.each(i,function(n,i){var v=i.getOptions().position;i.getTranslator().getBusinessRange().stubData||(h=i.getCurrentLabelPos(),u?(e=y.top,c=h):(c=y.left,e=h),s=k.text("0",c,e).css(t.viz.utils.patchFontOptions(r.label.font)).attr({align:v===b||v===a?p:v===l?w:l}).append(f),o=s.getBBox(),s.attr({y:u?2*e-o.y-o.height/2:v===a?2*e-o.y:2*e-(o.y+o.height)}),g=k.rect(0,0,0,0).attr({fill:r.label.backgroundColor||r.line.stroke}).append(f).toBackground(),d.push({text:s,background:g,axis:i,pos:{coord:h,side:v}}))}),d},_updateText:function(t,i,r){var s=this,u,e,f,o;i&&n.each(i,function(n,i){(e="",f=i.text,o=i.background,f)&&(i.axis.name&&i.axis.name!==r||(e=i.axis.getFormattedValue(t)),e?(f.attr({text:e}),u=f.getBBox(),s._updateLinesCanvas(i.pos.side,i.pos.coord),o.attr({x:u.x-h,y:u.y-c,width:u.width+h*2,height:u.height+c*2})):(f.attr({text:""}),o.attr({x:0,y:0,width:0,height:0})))})},hide:function(){this._crosshairGroup.attr({visibility:"hidden"})},_updateLinesCanvas:function(n,t){var i=this._linesCanvas,r=this._canvas;i[n]=i[n]!==r[n]&&f(i[n]-r[n])<f(t-r[n])?i[n]:t},_updateLines:function(n,t,i,r,u){for(var h=this._linesCanvas,f=this._canvas,c=u?[[e(t-r,h.left),f.top,t-r,f.top],[t+r,f.top,o(h.right,t+r),f.top]]:[[f.left,e(h.top,i-r),f.left,i-r],[f.left,i+r,f.left,o(h.bottom,i+r)]],s=0;s<2;s++)n[s].attr({points:c[s]})},_resetLinesCanvas:function(){var n=this._canvas;this._linesCanvas={left:n.left,right:n.right,top:n.top,bottom:n.bottom}},_getClipRectForPane:function(n,t){for(var u=this._panes,i,r=0;r<u.length;r++)if(i=u[r].coords,i.left<=n&&i.right>=n&&i.top<=t&&i.bottom>=t)return u[r].clipRect;return{id:null}},show:function(n,t){var i=this,e=i._horizontal,o=i._vertical,c,h=t?t+3:0,f=i._canvas,r=s(n.x),u=s(n.y);r>=f.left&&r<=f.right&&u>=f.top&&u<=f.bottom?(i._crosshairGroup.attr({visibility:"visible"}),i._resetLinesCanvas(),c=i._getClipRectForPane(r,u),i._circle.attr({cx:r,cy:u,r:h,clipId:c.id}),e.lines&&(i._updateText(n.yValue,e.labels,n.axis),i._updateLines(e.lines,r,u,h,!0),i._horizontalGroup.attr({translateY:u-f.top})),o.lines&&(i._updateText(n.xValue,o.labels,n.axis),i._updateLines(o.lines,r,u,h,!1),i._verticalGroup.attr({translateX:r-f.left}))):i.hide()}}}(jQuery,DevExpress),DevExpress.MOD_VIZ_CHARTS=!0}